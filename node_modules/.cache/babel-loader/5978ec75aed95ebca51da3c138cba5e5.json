{"remainingRequest":"/var/www/html/firebase-auth/node_modules/babel-loader/lib/index.js!/var/www/html/firebase-auth/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/firebase-auth/src/assets/front/plugins/fancybox/jquery.fancybox.min.js","dependencies":[{"path":"/var/www/html/firebase-auth/src/assets/front/plugins/fancybox/jquery.fancybox.min.js","mtime":1617780895546},{"path":"/var/www/html/firebase-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/firebase-auth/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/firebase-auth/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIGZhbmN5Qm94IHYzLjUuNwovLwovLyBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlCi8vIG9yIGZhbmN5Qm94IENvbW1lcmNpYWwgTGljZW5zZSBmb3IgY29tbWVyY2lhbCB1c2UKLy8KLy8gaHR0cDovL2ZhbmN5YXBwcy5jb20vZmFuY3lib3gvCi8vIENvcHlyaWdodCAyMDE5IGZhbmN5QXBwcwovLwovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovL2ltcG9ydCAkIGZyb20gJ2pxdWVyeScKaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknOwohZnVuY3Rpb24gKHQsIGUsIG4sIG8pIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGkodCwgZSkgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHMgPSBbXSwKICAgICAgICByID0gMDsKICAgIHQgJiYgdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAodC5wcmV2ZW50RGVmYXVsdCgpLCBlID0gZSB8fCB7fSwgdCAmJiB0LmRhdGEgJiYgKGUgPSBoKHQuZGF0YS5vcHRpb25zLCBlKSksIG8gPSBlLiR0YXJnZXQgfHwgbih0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIoImJsdXIiKSwgKGEgPSBuLmZhbmN5Ym94LmdldEluc3RhbmNlKCkpICYmIGEuJHRyaWdnZXIgJiYgYS4kdHJpZ2dlci5pcyhvKSB8fCAoZS5zZWxlY3RvciA/IHMgPSBuKGUuc2VsZWN0b3IpIDogKGkgPSBvLmF0dHIoImRhdGEtZmFuY3lib3giKSB8fCAiIiwgaSA/IChzID0gdC5kYXRhID8gdC5kYXRhLml0ZW1zIDogW10sIHMgPSBzLmxlbmd0aCA/IHMuZmlsdGVyKCdbZGF0YS1mYW5jeWJveD0iJyArIGkgKyAnIl0nKSA6IG4oJ1tkYXRhLWZhbmN5Ym94PSInICsgaSArICciXScpKSA6IHMgPSBbb10pLCByID0gbihzKS5pbmRleChvKSwgciA8IDAgJiYgKHIgPSAwKSwgYSA9IG4uZmFuY3lib3gub3BlbihzLCBlLCByKSwgYS4kdHJpZ2dlciA9IG8pKTsKICB9CgogIGlmICh0LmNvbnNvbGUgPSB0LmNvbnNvbGUgfHwgewogICAgaW5mbzogZnVuY3Rpb24gaW5mbyh0KSB7fQogIH0sIG4pIHsKICAgIGlmIChuLmZuLmZhbmN5Ym94KSByZXR1cm4gdm9pZCBjb25zb2xlLmluZm8oImZhbmN5Qm94IGFscmVhZHkgaW5pdGlhbGl6ZWQiKTsKCiAgICB2YXIgYSA9IHsKICAgICAgY2xvc2VFeGlzdGluZzogITEsCiAgICAgIGxvb3A6ICExLAogICAgICBndXR0ZXI6IDUwLAogICAgICBrZXlib2FyZDogITAsCiAgICAgIHByZXZlbnRDYXB0aW9uT3ZlcmxhcDogITAsCiAgICAgIGFycm93czogITAsCiAgICAgIGluZm9iYXI6ICEwLAogICAgICBzbWFsbEJ0bjogImF1dG8iLAogICAgICB0b29sYmFyOiAiYXV0byIsCiAgICAgIGJ1dHRvbnM6IFsiem9vbSIsICJzbGlkZVNob3ciLCAidGh1bWJzIiwgImNsb3NlIl0sCiAgICAgIGlkbGVUaW1lOiAzLAogICAgICBwcm90ZWN0OiAhMSwKICAgICAgbW9kYWw6ICExLAogICAgICBpbWFnZTogewogICAgICAgIHByZWxvYWQ6ICExCiAgICAgIH0sCiAgICAgIGFqYXg6IHsKICAgICAgICBzZXR0aW5nczogewogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBmYW5jeWJveDogITAKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlmcmFtZTogewogICAgICAgIHRwbDogJzxpZnJhbWUgaWQ9ImZhbmN5Ym94LWZyYW1le3JuZH0iIG5hbWU9ImZhbmN5Ym94LWZyYW1le3JuZH0iIGNsYXNzPSJmYW5jeWJveC1pZnJhbWUiIGFsbG93ZnVsbHNjcmVlbj0iYWxsb3dmdWxsc2NyZWVuIiBhbGxvdz0iYXV0b3BsYXk7IGZ1bGxzY3JlZW4iIHNyYz0iIj48L2lmcmFtZT4nLAogICAgICAgIHByZWxvYWQ6ICEwLAogICAgICAgIGNzczoge30sCiAgICAgICAgYXR0cjogewogICAgICAgICAgc2Nyb2xsaW5nOiAiYXV0byIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpZGVvOiB7CiAgICAgICAgdHBsOiAnPHZpZGVvIGNsYXNzPSJmYW5jeWJveC12aWRlbyIgY29udHJvbHMgY29udHJvbHNMaXN0PSJub2Rvd25sb2FkIiBwb3N0ZXI9Int7cG9zdGVyfX0iPjxzb3VyY2Ugc3JjPSJ7e3NyY319IiB0eXBlPSJ7e2Zvcm1hdH19IiAvPlNvcnJ5LCB5b3VyIGJyb3dzZXIgZG9lc25cJ3Qgc3VwcG9ydCBlbWJlZGRlZCB2aWRlb3MsIDxhIGhyZWY9Int7c3JjfX0iPmRvd25sb2FkPC9hPiBhbmQgd2F0Y2ggd2l0aCB5b3VyIGZhdm9yaXRlIHZpZGVvIHBsYXllciE8L3ZpZGVvPicsCiAgICAgICAgZm9ybWF0OiAiIiwKICAgICAgICBhdXRvU3RhcnQ6ICEwCiAgICAgIH0sCiAgICAgIGRlZmF1bHRUeXBlOiAiaW1hZ2UiLAogICAgICBhbmltYXRpb25FZmZlY3Q6ICJ6b29tIiwKICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDM2NiwKICAgICAgem9vbU9wYWNpdHk6ICJhdXRvIiwKICAgICAgdHJhbnNpdGlvbkVmZmVjdDogImZhZGUiLAogICAgICB0cmFuc2l0aW9uRHVyYXRpb246IDM2NiwKICAgICAgc2xpZGVDbGFzczogIiIsCiAgICAgIGJhc2VDbGFzczogIiIsCiAgICAgIGJhc2VUcGw6ICc8ZGl2IGNsYXNzPSJmYW5jeWJveC1jb250YWluZXIiIHJvbGU9ImRpYWxvZyIgdGFiaW5kZXg9Ii0xIj48ZGl2IGNsYXNzPSJmYW5jeWJveC1iZyI+PC9kaXY+PGRpdiBjbGFzcz0iZmFuY3lib3gtaW5uZXIiPjxkaXYgY2xhc3M9ImZhbmN5Ym94LWluZm9iYXIiPjxzcGFuIGRhdGEtZmFuY3lib3gtaW5kZXg+PC9zcGFuPiZuYnNwOy8mbmJzcDs8c3BhbiBkYXRhLWZhbmN5Ym94LWNvdW50Pjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPSJmYW5jeWJveC10b29sYmFyIj57e2J1dHRvbnN9fTwvZGl2PjxkaXYgY2xhc3M9ImZhbmN5Ym94LW5hdmlnYXRpb24iPnt7YXJyb3dzfX08L2Rpdj48ZGl2IGNsYXNzPSJmYW5jeWJveC1zdGFnZSI+PC9kaXY+PGRpdiBjbGFzcz0iZmFuY3lib3gtY2FwdGlvbiI+PGRpdiBjbGFzcz0iZmFuY3lib3gtY2FwdGlvbl9fYm9keSI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+JywKICAgICAgc3Bpbm5lclRwbDogJzxkaXYgY2xhc3M9ImZhbmN5Ym94LWxvYWRpbmciPjwvZGl2PicsCiAgICAgIGVycm9yVHBsOiAnPGRpdiBjbGFzcz0iZmFuY3lib3gtZXJyb3IiPjxwPnt7RVJST1J9fTwvcD48L2Rpdj4nLAogICAgICBidG5UcGw6IHsKICAgICAgICBkb3dubG9hZDogJzxhIGRvd25sb2FkIGRhdGEtZmFuY3lib3gtZG93bmxvYWQgY2xhc3M9ImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWRvd25sb2FkIiB0aXRsZT0ie3tET1dOTE9BRH19IiBocmVmPSJqYXZhc2NyaXB0OjsiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xOC42MiAxNy4wOVYxOUg1LjM4di0xLjkxem0tMi45Ny02Ljk2TDE3IDExLjQ1bC01IDQuODctNS00Ljg3IDEuMzYtMS4zMiAyLjY4IDIuNjRWNWgxLjkydjcuNzd6Ii8+PC9zdmc+PC9hPicsCiAgICAgICAgem9vbTogJzxidXR0b24gZGF0YS1mYW5jeWJveC16b29tIGNsYXNzPSJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS16b29tIiB0aXRsZT0ie3taT09NfX0iPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xOC43IDE3LjNsLTMtM2E1LjkgNS45IDAgMCAwLS42LTcuNiA1LjkgNS45IDAgMCAwLTguNCAwIDUuOSA1LjkgMCAwIDAgMCA4LjQgNS45IDUuOSAwIDAgMCA3LjcuN2wzIDNhMSAxIDAgMCAwIDEuMyAwYy40LS41LjQtMSAwLTEuNXpNOC4xIDEzLjhhNCA0IDAgMCAxIDAtNS43IDQgNCAwIDAgMSA1LjcgMCA0IDQgMCAwIDEgMCA1LjcgNCA0IDAgMCAxLTUuNyAweiIvPjwvc3ZnPjwvYnV0dG9uPicsCiAgICAgICAgY2xvc2U6ICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtY2xvc2UgY2xhc3M9ImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWNsb3NlIiB0aXRsZT0ie3tDTE9TRX19Ij48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMTAuNkw2LjYgNS4yIDUuMiA2LjZsNS40IDUuNC01LjQgNS40IDEuNCAxLjQgNS40LTUuNCA1LjQgNS40IDEuNC0xLjQtNS40LTUuNCA1LjQtNS40LTEuNC0xLjQtNS40IDUuNHoiLz48L3N2Zz48L2J1dHRvbj4nLAogICAgICAgIGFycm93TGVmdDogJzxidXR0b24gZGF0YS1mYW5jeWJveC1wcmV2IGNsYXNzPSJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1hcnJvd19sZWZ0IiB0aXRsZT0ie3tQUkVWfX0iPjxkaXY+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTExLjI4IDE1LjdsLTEuMzQgMS4zN0w1IDEybDQuOTQtNS4wNyAxLjM0IDEuMzgtMi42OCAyLjcySDE5djEuOTRIOC42eiIvPjwvc3ZnPjwvZGl2PjwvYnV0dG9uPicsCiAgICAgICAgYXJyb3dSaWdodDogJzxidXR0b24gZGF0YS1mYW5jeWJveC1uZXh0IGNsYXNzPSJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1hcnJvd19yaWdodCIgdGl0bGU9Int7TkVYVH19Ij48ZGl2PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNS40IDEyLjk3bC0yLjY4IDIuNzIgMS4zNCAxLjM4TDE5IDEybC00Ljk0LTUuMDctMS4zNCAxLjM4IDIuNjggMi43Mkg1djEuOTR6Ii8+PC9zdmc+PC9kaXY+PC9idXR0b24+JywKICAgICAgICBzbWFsbEJ0bjogJzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLWZhbmN5Ym94LWNsb3NlIGNsYXNzPSJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtY2xvc2Utc21hbGwiIHRpdGxlPSJ7e0NMT1NFfX0iPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMyAxMmw1LTUtMS0xLTUgNS01LTUtMSAxIDUgNS01IDUgMSAxIDUtNSA1IDUgMS0xeiIvPjwvc3ZnPjwvYnV0dG9uPicKICAgICAgfSwKICAgICAgcGFyZW50RWw6ICJib2R5IiwKICAgICAgaGlkZVNjcm9sbGJhcjogITAsCiAgICAgIGF1dG9Gb2N1czogITAsCiAgICAgIGJhY2tGb2N1czogITAsCiAgICAgIHRyYXBGb2N1czogITAsCiAgICAgIGZ1bGxTY3JlZW46IHsKICAgICAgICBhdXRvU3RhcnQ6ICExCiAgICAgIH0sCiAgICAgIHRvdWNoOiB7CiAgICAgICAgdmVydGljYWw6ICEwLAogICAgICAgIG1vbWVudHVtOiAhMAogICAgICB9LAogICAgICBoYXNoOiBudWxsLAogICAgICBtZWRpYToge30sCiAgICAgIHNsaWRlU2hvdzogewogICAgICAgIGF1dG9TdGFydDogITEsCiAgICAgICAgc3BlZWQ6IDNlMwogICAgICB9LAogICAgICB0aHVtYnM6IHsKICAgICAgICBhdXRvU3RhcnQ6ICExLAogICAgICAgIGhpZGVPbkNsb3NlOiAhMCwKICAgICAgICBwYXJlbnRFbDogIi5mYW5jeWJveC1jb250YWluZXIiLAogICAgICAgIGF4aXM6ICJ5IgogICAgICB9LAogICAgICB3aGVlbDogImF1dG8iLAogICAgICBvbkluaXQ6IG4ubm9vcCwKICAgICAgYmVmb3JlTG9hZDogbi5ub29wLAogICAgICBhZnRlckxvYWQ6IG4ubm9vcCwKICAgICAgYmVmb3JlU2hvdzogbi5ub29wLAogICAgICBhZnRlclNob3c6IG4ubm9vcCwKICAgICAgYmVmb3JlQ2xvc2U6IG4ubm9vcCwKICAgICAgYWZ0ZXJDbG9zZTogbi5ub29wLAogICAgICBvbkFjdGl2YXRlOiBuLm5vb3AsCiAgICAgIG9uRGVhY3RpdmF0ZTogbi5ub29wLAogICAgICBjbGlja0NvbnRlbnQ6IGZ1bmN0aW9uIGNsaWNrQ29udGVudCh0LCBlKSB7CiAgICAgICAgcmV0dXJuICJpbWFnZSIgPT09IHQudHlwZSAmJiAiem9vbSI7CiAgICAgIH0sCiAgICAgIGNsaWNrU2xpZGU6ICJjbG9zZSIsCiAgICAgIGNsaWNrT3V0c2lkZTogImNsb3NlIiwKICAgICAgZGJsY2xpY2tDb250ZW50OiAhMSwKICAgICAgZGJsY2xpY2tTbGlkZTogITEsCiAgICAgIGRibGNsaWNrT3V0c2lkZTogITEsCiAgICAgIG1vYmlsZTogewogICAgICAgIHByZXZlbnRDYXB0aW9uT3ZlcmxhcDogITEsCiAgICAgICAgaWRsZVRpbWU6ICExLAogICAgICAgIGNsaWNrQ29udGVudDogZnVuY3Rpb24gY2xpY2tDb250ZW50KHQsIGUpIHsKICAgICAgICAgIHJldHVybiAiaW1hZ2UiID09PSB0LnR5cGUgJiYgInRvZ2dsZUNvbnRyb2xzIjsKICAgICAgICB9LAogICAgICAgIGNsaWNrU2xpZGU6IGZ1bmN0aW9uIGNsaWNrU2xpZGUodCwgZSkgewogICAgICAgICAgcmV0dXJuICJpbWFnZSIgPT09IHQudHlwZSA/ICJ0b2dnbGVDb250cm9scyIgOiAiY2xvc2UiOwogICAgICAgIH0sCiAgICAgICAgZGJsY2xpY2tDb250ZW50OiBmdW5jdGlvbiBkYmxjbGlja0NvbnRlbnQodCwgZSkgewogICAgICAgICAgcmV0dXJuICJpbWFnZSIgPT09IHQudHlwZSAmJiAiem9vbSI7CiAgICAgICAgfSwKICAgICAgICBkYmxjbGlja1NsaWRlOiBmdW5jdGlvbiBkYmxjbGlja1NsaWRlKHQsIGUpIHsKICAgICAgICAgIHJldHVybiAiaW1hZ2UiID09PSB0LnR5cGUgJiYgInpvb20iOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbGFuZzogImVuIiwKICAgICAgaTE4bjogewogICAgICAgIGVuOiB7CiAgICAgICAgICBDTE9TRTogIkNsb3NlIiwKICAgICAgICAgIE5FWFQ6ICJOZXh0IiwKICAgICAgICAgIFBSRVY6ICJQcmV2aW91cyIsCiAgICAgICAgICBFUlJPUjogIlRoZSByZXF1ZXN0ZWQgY29udGVudCBjYW5ub3QgYmUgbG9hZGVkLiA8YnIvPiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIsCiAgICAgICAgICBQTEFZX1NUQVJUOiAiU3RhcnQgc2xpZGVzaG93IiwKICAgICAgICAgIFBMQVlfU1RPUDogIlBhdXNlIHNsaWRlc2hvdyIsCiAgICAgICAgICBGVUxMX1NDUkVFTjogIkZ1bGwgc2NyZWVuIiwKICAgICAgICAgIFRIVU1CUzogIlRodW1ibmFpbHMiLAogICAgICAgICAgRE9XTkxPQUQ6ICJEb3dubG9hZCIsCiAgICAgICAgICBTSEFSRTogIlNoYXJlIiwKICAgICAgICAgIFpPT006ICJab29tIgogICAgICAgIH0sCiAgICAgICAgZGU6IHsKICAgICAgICAgIENMT1NFOiAiU2NobGllJnN6bGlnO2VuIiwKICAgICAgICAgIE5FWFQ6ICJXZWl0ZXIiLAogICAgICAgICAgUFJFVjogIlp1ciZ1dW1sO2NrIiwKICAgICAgICAgIEVSUk9SOiAiRGllIGFuZ2Vmb3JkZXJ0ZW4gRGF0ZW4ga29ubnRlbiBuaWNodCBnZWxhZGVuIHdlcmRlbi4gPGJyLz4gQml0dGUgdmVyc3VjaGVuIFNpZSBlcyBzcCZhdW1sO3RlciBub2NobWFsLiIsCiAgICAgICAgICBQTEFZX1NUQVJUOiAiRGlhc2NoYXUgc3RhcnRlbiIsCiAgICAgICAgICBQTEFZX1NUT1A6ICJEaWFzY2hhdSBiZWVuZGVuIiwKICAgICAgICAgIEZVTExfU0NSRUVOOiAiVm9sbGJpbGQiLAogICAgICAgICAgVEhVTUJTOiAiVm9yc2NoYXViaWxkZXIiLAogICAgICAgICAgRE9XTkxPQUQ6ICJIZXJ1bnRlcmxhZGVuIiwKICAgICAgICAgIFNIQVJFOiAiVGVpbGVuIiwKICAgICAgICAgIFpPT006ICJWZXJnciZvdW1sOyZzemxpZztlcm4iCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgICAgIHMgPSBuKHQpLAogICAgICAgIHIgPSBuKGUpLAogICAgICAgIGMgPSAwLAogICAgICAgIGwgPSBmdW5jdGlvbiBsKHQpIHsKICAgICAgcmV0dXJuIHQgJiYgdC5oYXNPd25Qcm9wZXJ0eSAmJiB0IGluc3RhbmNlb2YgbjsKICAgIH0sCiAgICAgICAgZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHQub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB0LnNldFRpbWVvdXQoZSwgMWUzIC8gNjApOwogICAgICB9OwogICAgfSgpLAogICAgICAgIHUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHQud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgdC5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB0Lm9DYW5jZWxBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoZSkgewogICAgICAgIHQuY2xlYXJUaW1lb3V0KGUpOwogICAgICB9OwogICAgfSgpLAogICAgICAgIGYgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IGUuY3JlYXRlRWxlbWVudCgiZmFrZWVsZW1lbnQiKSwKICAgICAgICAgIG8gPSB7CiAgICAgICAgdHJhbnNpdGlvbjogInRyYW5zaXRpb25lbmQiLAogICAgICAgIE9UcmFuc2l0aW9uOiAib1RyYW5zaXRpb25FbmQiLAogICAgICAgIE1velRyYW5zaXRpb246ICJ0cmFuc2l0aW9uZW5kIiwKICAgICAgICBXZWJraXRUcmFuc2l0aW9uOiAid2Via2l0VHJhbnNpdGlvbkVuZCIKICAgICAgfTsKCiAgICAgIGZvciAodCBpbiBvKSB7CiAgICAgICAgaWYgKHZvaWQgMCAhPT0gbi5zdHlsZVt0XSkgcmV0dXJuIG9bdF07CiAgICAgIH0KCiAgICAgIHJldHVybiAidHJhbnNpdGlvbmVuZCI7CiAgICB9KCksCiAgICAgICAgcCA9IGZ1bmN0aW9uIHAodCkgewogICAgICByZXR1cm4gdCAmJiB0Lmxlbmd0aCAmJiB0WzBdLm9mZnNldEhlaWdodDsKICAgIH0sCiAgICAgICAgaCA9IGZ1bmN0aW9uIGgodCwgZSkgewogICAgICB2YXIgbyA9IG4uZXh0ZW5kKCEwLCB7fSwgdCwgZSk7CiAgICAgIHJldHVybiBuLmVhY2goZSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICBuLmlzQXJyYXkoZSkgJiYgKG9bdF0gPSBlKTsKICAgICAgfSksIG87CiAgICB9LAogICAgICAgIGcgPSBmdW5jdGlvbiBnKHQpIHsKICAgICAgdmFyIG8sIGk7CiAgICAgIHJldHVybiAhKCF0IHx8IHQub3duZXJEb2N1bWVudCAhPT0gZSkgJiYgKG4oIi5mYW5jeWJveC1jb250YWluZXIiKS5jc3MoInBvaW50ZXItZXZlbnRzIiwgIm5vbmUiKSwgbyA9IHsKICAgICAgICB4OiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyB0Lm9mZnNldFdpZHRoIC8gMiwKICAgICAgICB5OiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHQub2Zmc2V0SGVpZ2h0IC8gMgogICAgICB9LCBpID0gZS5lbGVtZW50RnJvbVBvaW50KG8ueCwgby55KSA9PT0gdCwgbigiLmZhbmN5Ym94LWNvbnRhaW5lciIpLmNzcygicG9pbnRlci1ldmVudHMiLCAiIiksIGkpOwogICAgfSwKICAgICAgICBiID0gZnVuY3Rpb24gYih0LCBlLCBvKSB7CiAgICAgIHZhciBpID0gdGhpczsKICAgICAgaS5vcHRzID0gaCh7CiAgICAgICAgaW5kZXg6IG8KICAgICAgfSwgbi5mYW5jeWJveC5kZWZhdWx0cyksIG4uaXNQbGFpbk9iamVjdChlKSAmJiAoaS5vcHRzID0gaChpLm9wdHMsIGUpKSwgbi5mYW5jeWJveC5pc01vYmlsZSAmJiAoaS5vcHRzID0gaChpLm9wdHMsIGkub3B0cy5tb2JpbGUpKSwgaS5pZCA9IGkub3B0cy5pZCB8fCArK2MsIGkuY3VyckluZGV4ID0gcGFyc2VJbnQoaS5vcHRzLmluZGV4LCAxMCkgfHwgMCwgaS5wcmV2SW5kZXggPSBudWxsLCBpLnByZXZQb3MgPSBudWxsLCBpLmN1cnJQb3MgPSAwLCBpLmZpcnN0UnVuID0gITAsIGkuZ3JvdXAgPSBbXSwgaS5zbGlkZXMgPSB7fSwgaS5hZGRDb250ZW50KHQpLCBpLmdyb3VwLmxlbmd0aCAmJiBpLmluaXQoKTsKICAgIH07CgogICAgbi5leHRlbmQoYi5wcm90b3R5cGUsIHsKICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICB2YXIgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSA9IHRoaXMsCiAgICAgICAgICAgIHMgPSBhLmdyb3VwW2EuY3VyckluZGV4XSwKICAgICAgICAgICAgciA9IHMub3B0czsKICAgICAgICByLmNsb3NlRXhpc3RpbmcgJiYgbi5mYW5jeWJveC5jbG9zZSghMCksIG4oImJvZHkiKS5hZGRDbGFzcygiZmFuY3lib3gtYWN0aXZlIiksICFuLmZhbmN5Ym94LmdldEluc3RhbmNlKCkgJiYgITEgIT09IHIuaGlkZVNjcm9sbGJhciAmJiAhbi5mYW5jeWJveC5pc01vYmlsZSAmJiBlLmJvZHkuc2Nyb2xsSGVpZ2h0ID4gdC5pbm5lckhlaWdodCAmJiAobigiaGVhZCIpLmFwcGVuZCgnPHN0eWxlIGlkPSJmYW5jeWJveC1zdHlsZS1ub3Njcm9sbCIgdHlwZT0idGV4dC9jc3MiPi5jb21wZW5zYXRlLWZvci1zY3JvbGxiYXJ7bWFyZ2luLXJpZ2h0OicgKyAodC5pbm5lcldpZHRoIC0gZS5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpICsgInB4O308L3N0eWxlPiIpLCBuKCJib2R5IikuYWRkQ2xhc3MoImNvbXBlbnNhdGUtZm9yLXNjcm9sbGJhciIpKSwgaSA9ICIiLCBuLmVhY2goci5idXR0b25zLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgaSArPSByLmJ0blRwbFtlXSB8fCAiIjsKICAgICAgICB9KSwgbyA9IG4oYS50cmFuc2xhdGUoYSwgci5iYXNlVHBsLnJlcGxhY2UoInt7YnV0dG9uc319IiwgaSkucmVwbGFjZSgie3thcnJvd3N9fSIsIHIuYnRuVHBsLmFycm93TGVmdCArIHIuYnRuVHBsLmFycm93UmlnaHQpKSkuYXR0cigiaWQiLCAiZmFuY3lib3gtY29udGFpbmVyLSIgKyBhLmlkKS5hZGRDbGFzcyhyLmJhc2VDbGFzcykuZGF0YSgiRmFuY3lCb3giLCBhKS5hcHBlbmRUbyhyLnBhcmVudEVsKSwgYS4kcmVmcyA9IHsKICAgICAgICAgIGNvbnRhaW5lcjogbwogICAgICAgIH0sIFsiYmciLCAiaW5uZXIiLCAiaW5mb2JhciIsICJ0b29sYmFyIiwgInN0YWdlIiwgImNhcHRpb24iLCAibmF2aWdhdGlvbiJdLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIGEuJHJlZnNbdF0gPSBvLmZpbmQoIi5mYW5jeWJveC0iICsgdCk7CiAgICAgICAgfSksIGEudHJpZ2dlcigib25Jbml0IiksIGEuYWN0aXZhdGUoKSwgYS5qdW1wVG8oYS5jdXJySW5kZXgpOwogICAgICB9LAogICAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uIHRyYW5zbGF0ZSh0LCBlKSB7CiAgICAgICAgdmFyIG4gPSB0Lm9wdHMuaTE4blt0Lm9wdHMubGFuZ10gfHwgdC5vcHRzLmkxOG4uZW47CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvXHtceyhcdyspXH1cfS9nLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gbltlXSA/IHQgOiBuW2VdOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBhZGRDb250ZW50OiBmdW5jdGlvbiBhZGRDb250ZW50KHQpIHsKICAgICAgICB2YXIgZSwKICAgICAgICAgICAgbyA9IHRoaXMsCiAgICAgICAgICAgIGkgPSBuLm1ha2VBcnJheSh0KTsKICAgICAgICBuLmVhY2goaSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgIHZhciBpLAogICAgICAgICAgICAgIGEsCiAgICAgICAgICAgICAgcywKICAgICAgICAgICAgICByLAogICAgICAgICAgICAgIGMsCiAgICAgICAgICAgICAgbCA9IHt9LAogICAgICAgICAgICAgIGQgPSB7fTsKICAgICAgICAgIG4uaXNQbGFpbk9iamVjdChlKSA/IChsID0gZSwgZCA9IGUub3B0cyB8fCBlKSA6ICJvYmplY3QiID09PSBuLnR5cGUoZSkgJiYgbihlKS5sZW5ndGggPyAoaSA9IG4oZSksIGQgPSBpLmRhdGEoKSB8fCB7fSwgZCA9IG4uZXh0ZW5kKCEwLCB7fSwgZCwgZC5vcHRpb25zKSwgZC4kb3JpZyA9IGksIGwuc3JjID0gby5vcHRzLnNyYyB8fCBkLnNyYyB8fCBpLmF0dHIoImhyZWYiKSwgbC50eXBlIHx8IGwuc3JjIHx8IChsLnR5cGUgPSAiaW5saW5lIiwgbC5zcmMgPSBlKSkgOiBsID0gewogICAgICAgICAgICB0eXBlOiAiaHRtbCIsCiAgICAgICAgICAgIHNyYzogZSArICIiCiAgICAgICAgICB9LCBsLm9wdHMgPSBuLmV4dGVuZCghMCwge30sIG8ub3B0cywgZCksIG4uaXNBcnJheShkLmJ1dHRvbnMpICYmIChsLm9wdHMuYnV0dG9ucyA9IGQuYnV0dG9ucyksIG4uZmFuY3lib3guaXNNb2JpbGUgJiYgbC5vcHRzLm1vYmlsZSAmJiAobC5vcHRzID0gaChsLm9wdHMsIGwub3B0cy5tb2JpbGUpKSwgYSA9IGwudHlwZSB8fCBsLm9wdHMudHlwZSwgciA9IGwuc3JjIHx8ICIiLCAhYSAmJiByICYmICgocyA9IHIubWF0Y2goL1wuKG1wNHxtb3Z8b2d2fHdlYm0pKChcP3wjKS4qKT8kL2kpKSA/IChhID0gInZpZGVvIiwgbC5vcHRzLnZpZGVvLmZvcm1hdCB8fCAobC5vcHRzLnZpZGVvLmZvcm1hdCA9ICJ2aWRlby8iICsgKCJvZ3YiID09PSBzWzFdID8gIm9nZyIgOiBzWzFdKSkpIDogci5tYXRjaCgvKF5kYXRhOmltYWdlXC9bYS16MC05K1wvPV0qLCl8KFwuKGpwKGV8Z3xlZyl8Z2lmfHBuZ3xibXB8d2VicHxzdmd8aWNvKSgoXD98IykuKik/JCkvaSkgPyBhID0gImltYWdlIiA6IHIubWF0Y2goL1wuKHBkZikoKFw/fCMpLiopPyQvaSkgPyAoYSA9ICJpZnJhbWUiLCBsID0gbi5leHRlbmQoITAsIGwsIHsKICAgICAgICAgICAgY29udGVudFR5cGU6ICJwZGYiLAogICAgICAgICAgICBvcHRzOiB7CiAgICAgICAgICAgICAgaWZyYW1lOiB7CiAgICAgICAgICAgICAgICBwcmVsb2FkOiAhMQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSkpIDogIiMiID09PSByLmNoYXJBdCgwKSAmJiAoYSA9ICJpbmxpbmUiKSksIGEgPyBsLnR5cGUgPSBhIDogby50cmlnZ2VyKCJvYmplY3ROZWVkc1R5cGUiLCBsKSwgbC5jb250ZW50VHlwZSB8fCAobC5jb250ZW50VHlwZSA9IG4uaW5BcnJheShsLnR5cGUsIFsiaHRtbCIsICJpbmxpbmUiLCAiYWpheCJdKSA+IC0xID8gImh0bWwiIDogbC50eXBlKSwgbC5pbmRleCA9IG8uZ3JvdXAubGVuZ3RoLCAiYXV0byIgPT0gbC5vcHRzLnNtYWxsQnRuICYmIChsLm9wdHMuc21hbGxCdG4gPSBuLmluQXJyYXkobC50eXBlLCBbImh0bWwiLCAiaW5saW5lIiwgImFqYXgiXSkgPiAtMSksICJhdXRvIiA9PT0gbC5vcHRzLnRvb2xiYXIgJiYgKGwub3B0cy50b29sYmFyID0gIWwub3B0cy5zbWFsbEJ0biksIGwuJHRodW1iID0gbC5vcHRzLiR0aHVtYiB8fCBudWxsLCBsLm9wdHMuJHRyaWdnZXIgJiYgbC5pbmRleCA9PT0gby5vcHRzLmluZGV4ICYmIChsLiR0aHVtYiA9IGwub3B0cy4kdHJpZ2dlci5maW5kKCJpbWc6Zmlyc3QiKSwgbC4kdGh1bWIubGVuZ3RoICYmIChsLm9wdHMuJG9yaWcgPSBsLm9wdHMuJHRyaWdnZXIpKSwgbC4kdGh1bWIgJiYgbC4kdGh1bWIubGVuZ3RoIHx8ICFsLm9wdHMuJG9yaWcgfHwgKGwuJHRodW1iID0gbC5vcHRzLiRvcmlnLmZpbmQoImltZzpmaXJzdCIpKSwgbC4kdGh1bWIgJiYgIWwuJHRodW1iLmxlbmd0aCAmJiAobC4kdGh1bWIgPSBudWxsKSwgbC50aHVtYiA9IGwub3B0cy50aHVtYiB8fCAobC4kdGh1bWIgPyBsLiR0aHVtYlswXS5zcmMgOiBudWxsKSwgImZ1bmN0aW9uIiA9PT0gbi50eXBlKGwub3B0cy5jYXB0aW9uKSAmJiAobC5vcHRzLmNhcHRpb24gPSBsLm9wdHMuY2FwdGlvbi5hcHBseShlLCBbbywgbF0pKSwgImZ1bmN0aW9uIiA9PT0gbi50eXBlKG8ub3B0cy5jYXB0aW9uKSAmJiAobC5vcHRzLmNhcHRpb24gPSBvLm9wdHMuY2FwdGlvbi5hcHBseShlLCBbbywgbF0pKSwgbC5vcHRzLmNhcHRpb24gaW5zdGFuY2VvZiBuIHx8IChsLm9wdHMuY2FwdGlvbiA9IHZvaWQgMCA9PT0gbC5vcHRzLmNhcHRpb24gPyAiIiA6IGwub3B0cy5jYXB0aW9uICsgIiIpLCAiYWpheCIgPT09IGwudHlwZSAmJiAoYyA9IHIuc3BsaXQoL1xzKy8sIDIpLCBjLmxlbmd0aCA+IDEgJiYgKGwuc3JjID0gYy5zaGlmdCgpLCBsLm9wdHMuZmlsdGVyID0gYy5zaGlmdCgpKSksIGwub3B0cy5tb2RhbCAmJiAobC5vcHRzID0gbi5leHRlbmQoITAsIGwub3B0cywgewogICAgICAgICAgICB0cmFwRm9jdXM6ICEwLAogICAgICAgICAgICBpbmZvYmFyOiAwLAogICAgICAgICAgICB0b29sYmFyOiAwLAogICAgICAgICAgICBzbWFsbEJ0bjogMCwKICAgICAgICAgICAga2V5Ym9hcmQ6IDAsCiAgICAgICAgICAgIHNsaWRlU2hvdzogMCwKICAgICAgICAgICAgZnVsbFNjcmVlbjogMCwKICAgICAgICAgICAgdGh1bWJzOiAwLAogICAgICAgICAgICB0b3VjaDogMCwKICAgICAgICAgICAgY2xpY2tDb250ZW50OiAhMSwKICAgICAgICAgICAgY2xpY2tTbGlkZTogITEsCiAgICAgICAgICAgIGNsaWNrT3V0c2lkZTogITEsCiAgICAgICAgICAgIGRibGNsaWNrQ29udGVudDogITEsCiAgICAgICAgICAgIGRibGNsaWNrU2xpZGU6ICExLAogICAgICAgICAgICBkYmxjbGlja091dHNpZGU6ICExCiAgICAgICAgICB9KSksIG8uZ3JvdXAucHVzaChsKTsKICAgICAgICB9KSwgT2JqZWN0LmtleXMoby5zbGlkZXMpLmxlbmd0aCAmJiAoby51cGRhdGVDb250cm9scygpLCAoZSA9IG8uVGh1bWJzKSAmJiBlLmlzQWN0aXZlICYmIChlLmNyZWF0ZSgpLCBlLmZvY3VzKCkpKTsKICAgICAgfSwKICAgICAgYWRkRXZlbnRzOiBmdW5jdGlvbiBhZGRFdmVudHMoKSB7CiAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgIGUucmVtb3ZlRXZlbnRzKCksIGUuJHJlZnMuY29udGFpbmVyLm9uKCJjbGljay5mYi1jbG9zZSIsICJbZGF0YS1mYW5jeWJveC1jbG9zZV0iLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdC5zdG9wUHJvcGFnYXRpb24oKSwgdC5wcmV2ZW50RGVmYXVsdCgpLCBlLmNsb3NlKHQpOwogICAgICAgIH0pLm9uKCJ0b3VjaHN0YXJ0LmZiLXByZXYgY2xpY2suZmItcHJldiIsICJbZGF0YS1mYW5jeWJveC1wcmV2XSIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB0LnN0b3BQcm9wYWdhdGlvbigpLCB0LnByZXZlbnREZWZhdWx0KCksIGUucHJldmlvdXMoKTsKICAgICAgICB9KS5vbigidG91Y2hzdGFydC5mYi1uZXh0IGNsaWNrLmZiLW5leHQiLCAiW2RhdGEtZmFuY3lib3gtbmV4dF0iLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdC5zdG9wUHJvcGFnYXRpb24oKSwgdC5wcmV2ZW50RGVmYXVsdCgpLCBlLm5leHQoKTsKICAgICAgICB9KS5vbigiY2xpY2suZmIiLCAiW2RhdGEtZmFuY3lib3gtem9vbV0iLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgZVtlLmlzU2NhbGVkRG93bigpID8gInNjYWxlVG9BY3R1YWwiIDogInNjYWxlVG9GaXQiXSgpOwogICAgICAgIH0pLCBzLm9uKCJvcmllbnRhdGlvbmNoYW5nZS5mYiByZXNpemUuZmIiLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdCAmJiB0Lm9yaWdpbmFsRXZlbnQgJiYgInJlc2l6ZSIgPT09IHQub3JpZ2luYWxFdmVudC50eXBlID8gKGUucmVxdWVzdElkICYmIHUoZS5yZXF1ZXN0SWQpLCBlLnJlcXVlc3RJZCA9IGQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBlLnVwZGF0ZSh0KTsKICAgICAgICAgIH0pKSA6IChlLmN1cnJlbnQgJiYgImlmcmFtZSIgPT09IGUuY3VycmVudC50eXBlICYmIGUuJHJlZnMuc3RhZ2UuaGlkZSgpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZS4kcmVmcy5zdGFnZS5zaG93KCksIGUudXBkYXRlKHQpOwogICAgICAgICAgfSwgbi5mYW5jeWJveC5pc01vYmlsZSA/IDYwMCA6IDI1MCkpOwogICAgICAgIH0pLCByLm9uKCJrZXlkb3duLmZiIiwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHZhciBvID0gbi5mYW5jeWJveCA/IG4uZmFuY3lib3guZ2V0SW5zdGFuY2UoKSA6IG51bGwsCiAgICAgICAgICAgICAgaSA9IG8uY3VycmVudCwKICAgICAgICAgICAgICBhID0gdC5rZXlDb2RlIHx8IHQud2hpY2g7CiAgICAgICAgICBpZiAoOSA9PSBhKSByZXR1cm4gdm9pZCAoaS5vcHRzLnRyYXBGb2N1cyAmJiBlLmZvY3VzKHQpKTsKICAgICAgICAgIGlmICghKCFpLm9wdHMua2V5Ym9hcmQgfHwgdC5jdHJsS2V5IHx8IHQuYWx0S2V5IHx8IHQuc2hpZnRLZXkgfHwgbih0LnRhcmdldCkuaXMoImlucHV0LHRleHRhcmVhLHZpZGVvLGF1ZGlvLHNlbGVjdCIpKSkgcmV0dXJuIDggPT09IGEgfHwgMjcgPT09IGEgPyAodC5wcmV2ZW50RGVmYXVsdCgpLCB2b2lkIGUuY2xvc2UodCkpIDogMzcgPT09IGEgfHwgMzggPT09IGEgPyAodC5wcmV2ZW50RGVmYXVsdCgpLCB2b2lkIGUucHJldmlvdXMoKSkgOiAzOSA9PT0gYSB8fCA0MCA9PT0gYSA/ICh0LnByZXZlbnREZWZhdWx0KCksIHZvaWQgZS5uZXh0KCkpIDogdm9pZCBlLnRyaWdnZXIoImFmdGVyS2V5ZG93biIsIHQsIGEpOwogICAgICAgIH0pLCBlLmdyb3VwW2UuY3VyckluZGV4XS5vcHRzLmlkbGVUaW1lICYmIChlLmlkbGVTZWNvbmRzQ291bnRlciA9IDAsIHIub24oIm1vdXNlbW92ZS5mYi1pZGxlIG1vdXNlbGVhdmUuZmItaWRsZSBtb3VzZWRvd24uZmItaWRsZSB0b3VjaHN0YXJ0LmZiLWlkbGUgdG91Y2htb3ZlLmZiLWlkbGUgc2Nyb2xsLmZiLWlkbGUga2V5ZG93bi5mYi1pZGxlIiwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIGUuaWRsZVNlY29uZHNDb3VudGVyID0gMCwgZS5pc0lkbGUgJiYgZS5zaG93Q29udHJvbHMoKSwgZS5pc0lkbGUgPSAhMTsKICAgICAgICB9KSwgZS5pZGxlSW50ZXJ2YWwgPSB0LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICsrZS5pZGxlU2Vjb25kc0NvdW50ZXIgPj0gZS5ncm91cFtlLmN1cnJJbmRleF0ub3B0cy5pZGxlVGltZSAmJiAhZS5pc0RyYWdnaW5nICYmIChlLmlzSWRsZSA9ICEwLCBlLmlkbGVTZWNvbmRzQ291bnRlciA9IDAsIGUuaGlkZUNvbnRyb2xzKCkpOwogICAgICAgIH0sIDFlMykpOwogICAgICB9LAogICAgICByZW1vdmVFdmVudHM6IGZ1bmN0aW9uIHJlbW92ZUV2ZW50cygpIHsKICAgICAgICB2YXIgZSA9IHRoaXM7CiAgICAgICAgcy5vZmYoIm9yaWVudGF0aW9uY2hhbmdlLmZiIHJlc2l6ZS5mYiIpLCByLm9mZigia2V5ZG93bi5mYiAuZmItaWRsZSIpLCB0aGlzLiRyZWZzLmNvbnRhaW5lci5vZmYoIi5mYi1jbG9zZSAuZmItcHJldiAuZmItbmV4dCIpLCBlLmlkbGVJbnRlcnZhbCAmJiAodC5jbGVhckludGVydmFsKGUuaWRsZUludGVydmFsKSwgZS5pZGxlSW50ZXJ2YWwgPSBudWxsKTsKICAgICAgfSwKICAgICAgcHJldmlvdXM6IGZ1bmN0aW9uIHByZXZpb3VzKHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5qdW1wVG8odGhpcy5jdXJyUG9zIC0gMSwgdCk7CiAgICAgIH0sCiAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQodCkgewogICAgICAgIHJldHVybiB0aGlzLmp1bXBUbyh0aGlzLmN1cnJQb3MgKyAxLCB0KTsKICAgICAgfSwKICAgICAganVtcFRvOiBmdW5jdGlvbiBqdW1wVG8odCwgZSkgewogICAgICAgIHZhciBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICBzLAogICAgICAgICAgICByLAogICAgICAgICAgICBjLAogICAgICAgICAgICBsLAogICAgICAgICAgICBkLAogICAgICAgICAgICB1LAogICAgICAgICAgICBmID0gdGhpcywKICAgICAgICAgICAgaCA9IGYuZ3JvdXAubGVuZ3RoOwoKICAgICAgICBpZiAoIShmLmlzRHJhZ2dpbmcgfHwgZi5pc0Nsb3NpbmcgfHwgZi5pc0FuaW1hdGluZyAmJiBmLmZpcnN0UnVuKSkgewogICAgICAgICAgaWYgKHQgPSBwYXJzZUludCh0LCAxMCksICEoYSA9IGYuY3VycmVudCA/IGYuY3VycmVudC5vcHRzLmxvb3AgOiBmLm9wdHMubG9vcCkgJiYgKHQgPCAwIHx8IHQgPj0gaCkpIHJldHVybiAhMTsKICAgICAgICAgIGlmIChvID0gZi5maXJzdFJ1biA9ICFPYmplY3Qua2V5cyhmLnNsaWRlcykubGVuZ3RoLCByID0gZi5jdXJyZW50LCBmLnByZXZJbmRleCA9IGYuY3VyckluZGV4LCBmLnByZXZQb3MgPSBmLmN1cnJQb3MsIHMgPSBmLmNyZWF0ZVNsaWRlKHQpLCBoID4gMSAmJiAoKGEgfHwgcy5pbmRleCA8IGggLSAxKSAmJiBmLmNyZWF0ZVNsaWRlKHQgKyAxKSwgKGEgfHwgcy5pbmRleCA+IDApICYmIGYuY3JlYXRlU2xpZGUodCAtIDEpKSwgZi5jdXJyZW50ID0gcywgZi5jdXJySW5kZXggPSBzLmluZGV4LCBmLmN1cnJQb3MgPSBzLnBvcywgZi50cmlnZ2VyKCJiZWZvcmVTaG93IiwgbyksIGYudXBkYXRlQ29udHJvbHMoKSwgcy5mb3JjZWREdXJhdGlvbiA9IHZvaWQgMCwgbi5pc051bWVyaWMoZSkgPyBzLmZvcmNlZER1cmF0aW9uID0gZSA6IGUgPSBzLm9wdHNbbyA/ICJhbmltYXRpb25EdXJhdGlvbiIgOiAidHJhbnNpdGlvbkR1cmF0aW9uIl0sIGUgPSBwYXJzZUludChlLCAxMCksIGkgPSBmLmlzTW92ZWQocyksIHMuJHNsaWRlLmFkZENsYXNzKCJmYW5jeWJveC1zbGlkZS0tY3VycmVudCIpLCBvKSByZXR1cm4gcy5vcHRzLmFuaW1hdGlvbkVmZmVjdCAmJiBlICYmIGYuJHJlZnMuY29udGFpbmVyLmNzcygidHJhbnNpdGlvbi1kdXJhdGlvbiIsIGUgKyAibXMiKSwgZi4kcmVmcy5jb250YWluZXIuYWRkQ2xhc3MoImZhbmN5Ym94LWlzLW9wZW4iKS50cmlnZ2VyKCJmb2N1cyIpLCBmLmxvYWRTbGlkZShzKSwgdm9pZCBmLnByZWxvYWQoImltYWdlIik7CiAgICAgICAgICBjID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoci4kc2xpZGUpLCBsID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoZi4kcmVmcy5zdGFnZSksIG4uZWFjaChmLnNsaWRlcywgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgbi5mYW5jeWJveC5zdG9wKGUuJHNsaWRlLCAhMCk7CiAgICAgICAgICB9KSwgci5wb3MgIT09IHMucG9zICYmIChyLmlzQ29tcGxldGUgPSAhMSksIHIuJHNsaWRlLnJlbW92ZUNsYXNzKCJmYW5jeWJveC1zbGlkZS0tY29tcGxldGUgZmFuY3lib3gtc2xpZGUtLWN1cnJlbnQiKSwgaSA/ICh1ID0gYy5sZWZ0IC0gKHIucG9zICogYy53aWR0aCArIHIucG9zICogci5vcHRzLmd1dHRlciksIG4uZWFjaChmLnNsaWRlcywgZnVuY3Rpb24gKHQsIG8pIHsKICAgICAgICAgICAgby4kc2xpZGUucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWFuaW1hdGVkIikucmVtb3ZlQ2xhc3MoZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgICByZXR1cm4gKGUubWF0Y2goLyhefFxzKWZhbmN5Ym94LWZ4LVxTKy9nKSB8fCBbXSkuam9pbigiICIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIGkgPSBvLnBvcyAqIGMud2lkdGggKyBvLnBvcyAqIG8ub3B0cy5ndXR0ZXI7CiAgICAgICAgICAgIG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKG8uJHNsaWRlLCB7CiAgICAgICAgICAgICAgdG9wOiAwLAogICAgICAgICAgICAgIGxlZnQ6IGkgLSBsLmxlZnQgKyB1CiAgICAgICAgICAgIH0pLCBvLnBvcyAhPT0gcy5wb3MgJiYgby4kc2xpZGUuYWRkQ2xhc3MoImZhbmN5Ym94LXNsaWRlLS0iICsgKG8ucG9zID4gcy5wb3MgPyAibmV4dCIgOiAicHJldmlvdXMiKSksIHAoby4kc2xpZGUpLCBuLmZhbmN5Ym94LmFuaW1hdGUoby4kc2xpZGUsIHsKICAgICAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICAgICAgbGVmdDogKG8ucG9zIC0gcy5wb3MpICogYy53aWR0aCArIChvLnBvcyAtIHMucG9zKSAqIG8ub3B0cy5ndXR0ZXIKICAgICAgICAgICAgfSwgZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIG8uJHNsaWRlLmNzcyh7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICIiLAogICAgICAgICAgICAgICAgb3BhY2l0eTogIiIKICAgICAgICAgICAgICB9KS5yZW1vdmVDbGFzcygiZmFuY3lib3gtc2xpZGUtLW5leHQgZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzIiksIG8ucG9zID09PSBmLmN1cnJQb3MgJiYgZi5jb21wbGV0ZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKSA6IGUgJiYgcy5vcHRzLnRyYW5zaXRpb25FZmZlY3QgJiYgKGQgPSAiZmFuY3lib3gtYW5pbWF0ZWQgZmFuY3lib3gtZngtIiArIHMub3B0cy50cmFuc2l0aW9uRWZmZWN0LCByLiRzbGlkZS5hZGRDbGFzcygiZmFuY3lib3gtc2xpZGUtLSIgKyAoci5wb3MgPiBzLnBvcyA/ICJuZXh0IiA6ICJwcmV2aW91cyIpKSwgbi5mYW5jeWJveC5hbmltYXRlKHIuJHNsaWRlLCBkLCBlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHIuJHNsaWRlLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUNsYXNzKCJmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXMiKTsKICAgICAgICAgIH0sICExKSksIHMuaXNMb2FkZWQgPyBmLnJldmVhbENvbnRlbnQocykgOiBmLmxvYWRTbGlkZShzKSwgZi5wcmVsb2FkKCJpbWFnZSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgY3JlYXRlU2xpZGU6IGZ1bmN0aW9uIGNyZWF0ZVNsaWRlKHQpIHsKICAgICAgICB2YXIgZSwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSA9IHRoaXM7CiAgICAgICAgcmV0dXJuIG8gPSB0ICUgaS5ncm91cC5sZW5ndGgsIG8gPSBvIDwgMCA/IGkuZ3JvdXAubGVuZ3RoICsgbyA6IG8sICFpLnNsaWRlc1t0XSAmJiBpLmdyb3VwW29dICYmIChlID0gbignPGRpdiBjbGFzcz0iZmFuY3lib3gtc2xpZGUiPjwvZGl2PicpLmFwcGVuZFRvKGkuJHJlZnMuc3RhZ2UpLCBpLnNsaWRlc1t0XSA9IG4uZXh0ZW5kKCEwLCB7fSwgaS5ncm91cFtvXSwgewogICAgICAgICAgcG9zOiB0LAogICAgICAgICAgJHNsaWRlOiBlLAogICAgICAgICAgaXNMb2FkZWQ6ICExCiAgICAgICAgfSksIGkudXBkYXRlU2xpZGUoaS5zbGlkZXNbdF0pKSwgaS5zbGlkZXNbdF07CiAgICAgIH0sCiAgICAgIHNjYWxlVG9BY3R1YWw6IGZ1bmN0aW9uIHNjYWxlVG9BY3R1YWwodCwgZSwgbykgewogICAgICAgIHZhciBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICBzLAogICAgICAgICAgICByLAogICAgICAgICAgICBjLAogICAgICAgICAgICBsID0gdGhpcywKICAgICAgICAgICAgZCA9IGwuY3VycmVudCwKICAgICAgICAgICAgdSA9IGQuJGNvbnRlbnQsCiAgICAgICAgICAgIGYgPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShkLiRzbGlkZSkud2lkdGgsCiAgICAgICAgICAgIHAgPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShkLiRzbGlkZSkuaGVpZ2h0LAogICAgICAgICAgICBoID0gZC53aWR0aCwKICAgICAgICAgICAgZyA9IGQuaGVpZ2h0OwogICAgICAgIGwuaXNBbmltYXRpbmcgfHwgbC5pc01vdmVkKCkgfHwgIXUgfHwgImltYWdlIiAhPSBkLnR5cGUgfHwgIWQuaXNMb2FkZWQgfHwgZC5oYXNFcnJvciB8fCAobC5pc0FuaW1hdGluZyA9ICEwLCBuLmZhbmN5Ym94LnN0b3AodSksIHQgPSB2b2lkIDAgPT09IHQgPyAwLjUgKiBmIDogdCwgZSA9IHZvaWQgMCA9PT0gZSA/IDAuNSAqIHAgOiBlLCBpID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUodSksIGkudG9wIC09IG4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGQuJHNsaWRlKS50b3AsIGkubGVmdCAtPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShkLiRzbGlkZSkubGVmdCwgciA9IGggLyBpLndpZHRoLCBjID0gZyAvIGkuaGVpZ2h0LCBhID0gMC41ICogZiAtIDAuNSAqIGgsIHMgPSAwLjUgKiBwIC0gMC41ICogZywgaCA+IGYgJiYgKGEgPSBpLmxlZnQgKiByIC0gKHQgKiByIC0gdCksIGEgPiAwICYmIChhID0gMCksIGEgPCBmIC0gaCAmJiAoYSA9IGYgLSBoKSksIGcgPiBwICYmIChzID0gaS50b3AgKiBjIC0gKGUgKiBjIC0gZSksIHMgPiAwICYmIChzID0gMCksIHMgPCBwIC0gZyAmJiAocyA9IHAgLSBnKSksIGwudXBkYXRlQ3Vyc29yKGgsIGcpLCBuLmZhbmN5Ym94LmFuaW1hdGUodSwgewogICAgICAgICAgdG9wOiBzLAogICAgICAgICAgbGVmdDogYSwKICAgICAgICAgIHNjYWxlWDogciwKICAgICAgICAgIHNjYWxlWTogYwogICAgICAgIH0sIG8gfHwgMzY2LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBsLmlzQW5pbWF0aW5nID0gITE7CiAgICAgICAgfSksIGwuU2xpZGVTaG93ICYmIGwuU2xpZGVTaG93LmlzQWN0aXZlICYmIGwuU2xpZGVTaG93LnN0b3AoKSk7CiAgICAgIH0sCiAgICAgIHNjYWxlVG9GaXQ6IGZ1bmN0aW9uIHNjYWxlVG9GaXQodCkgewogICAgICAgIHZhciBlLAogICAgICAgICAgICBvID0gdGhpcywKICAgICAgICAgICAgaSA9IG8uY3VycmVudCwKICAgICAgICAgICAgYSA9IGkuJGNvbnRlbnQ7CiAgICAgICAgby5pc0FuaW1hdGluZyB8fCBvLmlzTW92ZWQoKSB8fCAhYSB8fCAiaW1hZ2UiICE9IGkudHlwZSB8fCAhaS5pc0xvYWRlZCB8fCBpLmhhc0Vycm9yIHx8IChvLmlzQW5pbWF0aW5nID0gITAsIG4uZmFuY3lib3guc3RvcChhKSwgZSA9IG8uZ2V0Rml0UG9zKGkpLCBvLnVwZGF0ZUN1cnNvcihlLndpZHRoLCBlLmhlaWdodCksIG4uZmFuY3lib3guYW5pbWF0ZShhLCB7CiAgICAgICAgICB0b3A6IGUudG9wLAogICAgICAgICAgbGVmdDogZS5sZWZ0LAogICAgICAgICAgc2NhbGVYOiBlLndpZHRoIC8gYS53aWR0aCgpLAogICAgICAgICAgc2NhbGVZOiBlLmhlaWdodCAvIGEuaGVpZ2h0KCkKICAgICAgICB9LCB0IHx8IDM2NiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgby5pc0FuaW1hdGluZyA9ICExOwogICAgICAgIH0pKTsKICAgICAgfSwKICAgICAgZ2V0Rml0UG9zOiBmdW5jdGlvbiBnZXRGaXRQb3ModCkgewogICAgICAgIHZhciBlLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICBzID0gdGhpcywKICAgICAgICAgICAgciA9IHQuJGNvbnRlbnQsCiAgICAgICAgICAgIGMgPSB0LiRzbGlkZSwKICAgICAgICAgICAgbCA9IHQud2lkdGggfHwgdC5vcHRzLndpZHRoLAogICAgICAgICAgICBkID0gdC5oZWlnaHQgfHwgdC5vcHRzLmhlaWdodCwKICAgICAgICAgICAgdSA9IHt9OwogICAgICAgIHJldHVybiAhISh0LmlzTG9hZGVkICYmIHIgJiYgci5sZW5ndGgpICYmIChlID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUocy4kcmVmcy5zdGFnZSkud2lkdGgsIG8gPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzLiRyZWZzLnN0YWdlKS5oZWlnaHQsIGUgLT0gcGFyc2VGbG9hdChjLmNzcygicGFkZGluZ0xlZnQiKSkgKyBwYXJzZUZsb2F0KGMuY3NzKCJwYWRkaW5nUmlnaHQiKSkgKyBwYXJzZUZsb2F0KHIuY3NzKCJtYXJnaW5MZWZ0IikpICsgcGFyc2VGbG9hdChyLmNzcygibWFyZ2luUmlnaHQiKSksIG8gLT0gcGFyc2VGbG9hdChjLmNzcygicGFkZGluZ1RvcCIpKSArIHBhcnNlRmxvYXQoYy5jc3MoInBhZGRpbmdCb3R0b20iKSkgKyBwYXJzZUZsb2F0KHIuY3NzKCJtYXJnaW5Ub3AiKSkgKyBwYXJzZUZsb2F0KHIuY3NzKCJtYXJnaW5Cb3R0b20iKSksIGwgJiYgZCB8fCAobCA9IGUsIGQgPSBvKSwgaSA9IE1hdGgubWluKDEsIGUgLyBsLCBvIC8gZCksIGwgKj0gaSwgZCAqPSBpLCBsID4gZSAtIDAuNSAmJiAobCA9IGUpLCBkID4gbyAtIDAuNSAmJiAoZCA9IG8pLCAiaW1hZ2UiID09PSB0LnR5cGUgPyAodS50b3AgPSBNYXRoLmZsb29yKDAuNSAqIChvIC0gZCkpICsgcGFyc2VGbG9hdChjLmNzcygicGFkZGluZ1RvcCIpKSwgdS5sZWZ0ID0gTWF0aC5mbG9vcigwLjUgKiAoZSAtIGwpKSArIHBhcnNlRmxvYXQoYy5jc3MoInBhZGRpbmdMZWZ0IikpKSA6ICJ2aWRlbyIgPT09IHQuY29udGVudFR5cGUgJiYgKGEgPSB0Lm9wdHMud2lkdGggJiYgdC5vcHRzLmhlaWdodCA/IGwgLyBkIDogdC5vcHRzLnJhdGlvIHx8IDE2IC8gOSwgZCA+IGwgLyBhID8gZCA9IGwgLyBhIDogbCA+IGQgKiBhICYmIChsID0gZCAqIGEpKSwgdS53aWR0aCA9IGwsIHUuaGVpZ2h0ID0gZCwgdSk7CiAgICAgIH0sCiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHQpIHsKICAgICAgICB2YXIgZSA9IHRoaXM7CiAgICAgICAgbi5lYWNoKGUuc2xpZGVzLCBmdW5jdGlvbiAobiwgbykgewogICAgICAgICAgZS51cGRhdGVTbGlkZShvLCB0KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdXBkYXRlU2xpZGU6IGZ1bmN0aW9uIHVwZGF0ZVNsaWRlKHQsIGUpIHsKICAgICAgICB2YXIgbyA9IHRoaXMsCiAgICAgICAgICAgIGkgPSB0ICYmIHQuJGNvbnRlbnQsCiAgICAgICAgICAgIGEgPSB0LndpZHRoIHx8IHQub3B0cy53aWR0aCwKICAgICAgICAgICAgcyA9IHQuaGVpZ2h0IHx8IHQub3B0cy5oZWlnaHQsCiAgICAgICAgICAgIHIgPSB0LiRzbGlkZTsKICAgICAgICBvLmFkanVzdENhcHRpb24odCksIGkgJiYgKGEgfHwgcyB8fCAidmlkZW8iID09PSB0LmNvbnRlbnRUeXBlKSAmJiAhdC5oYXNFcnJvciAmJiAobi5mYW5jeWJveC5zdG9wKGkpLCBuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShpLCBvLmdldEZpdFBvcyh0KSksIHQucG9zID09PSBvLmN1cnJQb3MgJiYgKG8uaXNBbmltYXRpbmcgPSAhMSwgby51cGRhdGVDdXJzb3IoKSkpLCBvLmFkanVzdExheW91dCh0KSwgci5sZW5ndGggJiYgKHIudHJpZ2dlcigicmVmcmVzaCIpLCB0LnBvcyA9PT0gby5jdXJyUG9zICYmIG8uJHJlZnMudG9vbGJhci5hZGQoby4kcmVmcy5uYXZpZ2F0aW9uLmZpbmQoIi5mYW5jeWJveC1idXR0b24tLWFycm93X3JpZ2h0IikpLnRvZ2dsZUNsYXNzKCJjb21wZW5zYXRlLWZvci1zY3JvbGxiYXIiLCByLmdldCgwKS5zY3JvbGxIZWlnaHQgPiByLmdldCgwKS5jbGllbnRIZWlnaHQpKSwgby50cmlnZ2VyKCJvblVwZGF0ZSIsIHQsIGUpOwogICAgICB9LAogICAgICBjZW50ZXJTbGlkZTogZnVuY3Rpb24gY2VudGVyU2xpZGUodCkgewogICAgICAgIHZhciBlID0gdGhpcywKICAgICAgICAgICAgbyA9IGUuY3VycmVudCwKICAgICAgICAgICAgaSA9IG8uJHNsaWRlOwogICAgICAgICFlLmlzQ2xvc2luZyAmJiBvICYmIChpLnNpYmxpbmdzKCkuY3NzKHsKICAgICAgICAgIHRyYW5zZm9ybTogIiIsCiAgICAgICAgICBvcGFjaXR5OiAiIgogICAgICAgIH0pLCBpLnBhcmVudCgpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXNsaWRlLS1wcmV2aW91cyBmYW5jeWJveC1zbGlkZS0tbmV4dCIpLCBuLmZhbmN5Ym94LmFuaW1hdGUoaSwgewogICAgICAgICAgdG9wOiAwLAogICAgICAgICAgbGVmdDogMCwKICAgICAgICAgIG9wYWNpdHk6IDEKICAgICAgICB9LCB2b2lkIDAgPT09IHQgPyAwIDogdCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgaS5jc3MoewogICAgICAgICAgICB0cmFuc2Zvcm06ICIiLAogICAgICAgICAgICBvcGFjaXR5OiAiIgogICAgICAgICAgfSksIG8uaXNDb21wbGV0ZSB8fCBlLmNvbXBsZXRlKCk7CiAgICAgICAgfSwgITEpKTsKICAgICAgfSwKICAgICAgaXNNb3ZlZDogZnVuY3Rpb24gaXNNb3ZlZCh0KSB7CiAgICAgICAgdmFyIGUsCiAgICAgICAgICAgIG8sCiAgICAgICAgICAgIGkgPSB0IHx8IHRoaXMuY3VycmVudDsKICAgICAgICByZXR1cm4gISFpICYmIChvID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUodGhpcy4kcmVmcy5zdGFnZSksIGUgPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShpLiRzbGlkZSksICFpLiRzbGlkZS5oYXNDbGFzcygiZmFuY3lib3gtYW5pbWF0ZWQiKSAmJiAoTWF0aC5hYnMoZS50b3AgLSBvLnRvcCkgPiAwLjUgfHwgTWF0aC5hYnMoZS5sZWZ0IC0gby5sZWZ0KSA+IDAuNSkpOwogICAgICB9LAogICAgICB1cGRhdGVDdXJzb3I6IGZ1bmN0aW9uIHVwZGF0ZUN1cnNvcih0LCBlKSB7CiAgICAgICAgdmFyIG8sCiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGEgPSB0aGlzLAogICAgICAgICAgICBzID0gYS5jdXJyZW50LAogICAgICAgICAgICByID0gYS4kcmVmcy5jb250YWluZXI7CiAgICAgICAgcyAmJiAhYS5pc0Nsb3NpbmcgJiYgYS5HdWVzdHVyZXMgJiYgKHIucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWlzLXpvb21hYmxlIGZhbmN5Ym94LWNhbi16b29tSW4gZmFuY3lib3gtY2FuLXpvb21PdXQgZmFuY3lib3gtY2FuLXN3aXBlIGZhbmN5Ym94LWNhbi1wYW4iKSwgbyA9IGEuY2FuUGFuKHQsIGUpLCBpID0gISFvIHx8IGEuaXNab29tYWJsZSgpLCByLnRvZ2dsZUNsYXNzKCJmYW5jeWJveC1pcy16b29tYWJsZSIsIGkpLCBuKCJbZGF0YS1mYW5jeWJveC16b29tXSIpLnByb3AoImRpc2FibGVkIiwgIWkpLCBvID8gci5hZGRDbGFzcygiZmFuY3lib3gtY2FuLXBhbiIpIDogaSAmJiAoInpvb20iID09PSBzLm9wdHMuY2xpY2tDb250ZW50IHx8IG4uaXNGdW5jdGlvbihzLm9wdHMuY2xpY2tDb250ZW50KSAmJiAiem9vbSIgPT0gcy5vcHRzLmNsaWNrQ29udGVudChzKSkgPyByLmFkZENsYXNzKCJmYW5jeWJveC1jYW4tem9vbUluIikgOiBzLm9wdHMudG91Y2ggJiYgKHMub3B0cy50b3VjaC52ZXJ0aWNhbCB8fCBhLmdyb3VwLmxlbmd0aCA+IDEpICYmICJ2aWRlbyIgIT09IHMuY29udGVudFR5cGUgJiYgci5hZGRDbGFzcygiZmFuY3lib3gtY2FuLXN3aXBlIikpOwogICAgICB9LAogICAgICBpc1pvb21hYmxlOiBmdW5jdGlvbiBpc1pvb21hYmxlKCkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBlID0gdGhpcywKICAgICAgICAgICAgbiA9IGUuY3VycmVudDsKCiAgICAgICAgaWYgKG4gJiYgIWUuaXNDbG9zaW5nICYmICJpbWFnZSIgPT09IG4udHlwZSAmJiAhbi5oYXNFcnJvcikgewogICAgICAgICAgaWYgKCFuLmlzTG9hZGVkKSByZXR1cm4gITA7CiAgICAgICAgICBpZiAoKHQgPSBlLmdldEZpdFBvcyhuKSkgJiYgKG4ud2lkdGggPiB0LndpZHRoIHx8IG4uaGVpZ2h0ID4gdC5oZWlnaHQpKSByZXR1cm4gITA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gITE7CiAgICAgIH0sCiAgICAgIGlzU2NhbGVkRG93bjogZnVuY3Rpb24gaXNTY2FsZWREb3duKHQsIGUpIHsKICAgICAgICB2YXIgbyA9IHRoaXMsCiAgICAgICAgICAgIGkgPSAhMSwKICAgICAgICAgICAgYSA9IG8uY3VycmVudCwKICAgICAgICAgICAgcyA9IGEuJGNvbnRlbnQ7CiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdCAmJiB2b2lkIDAgIT09IGUgPyBpID0gdCA8IGEud2lkdGggJiYgZSA8IGEuaGVpZ2h0IDogcyAmJiAoaSA9IG4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKHMpLCBpID0gaS53aWR0aCA8IGEud2lkdGggJiYgaS5oZWlnaHQgPCBhLmhlaWdodCksIGk7CiAgICAgIH0sCiAgICAgIGNhblBhbjogZnVuY3Rpb24gY2FuUGFuKHQsIGUpIHsKICAgICAgICB2YXIgbyA9IHRoaXMsCiAgICAgICAgICAgIGkgPSBvLmN1cnJlbnQsCiAgICAgICAgICAgIGEgPSBudWxsLAogICAgICAgICAgICBzID0gITE7CiAgICAgICAgcmV0dXJuICJpbWFnZSIgPT09IGkudHlwZSAmJiAoaS5pc0NvbXBsZXRlIHx8IHQgJiYgZSkgJiYgIWkuaGFzRXJyb3IgJiYgKHMgPSBvLmdldEZpdFBvcyhpKSwgdm9pZCAwICE9PSB0ICYmIHZvaWQgMCAhPT0gZSA/IGEgPSB7CiAgICAgICAgICB3aWR0aDogdCwKICAgICAgICAgIGhlaWdodDogZQogICAgICAgIH0gOiBpLmlzQ29tcGxldGUgJiYgKGEgPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShpLiRjb250ZW50KSksIGEgJiYgcyAmJiAocyA9IE1hdGguYWJzKGEud2lkdGggLSBzLndpZHRoKSA+IDEuNSB8fCBNYXRoLmFicyhhLmhlaWdodCAtIHMuaGVpZ2h0KSA+IDEuNSkpLCBzOwogICAgICB9LAogICAgICBsb2FkU2xpZGU6IGZ1bmN0aW9uIGxvYWRTbGlkZSh0KSB7CiAgICAgICAgdmFyIGUsCiAgICAgICAgICAgIG8sCiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGEgPSB0aGlzOwoKICAgICAgICBpZiAoIXQuaXNMb2FkaW5nICYmICF0LmlzTG9hZGVkKSB7CiAgICAgICAgICBpZiAodC5pc0xvYWRpbmcgPSAhMCwgITEgPT09IGEudHJpZ2dlcigiYmVmb3JlTG9hZCIsIHQpKSByZXR1cm4gdC5pc0xvYWRpbmcgPSAhMSwgITE7CgogICAgICAgICAgc3dpdGNoIChlID0gdC50eXBlLCBvID0gdC4kc2xpZGUsIG8ub2ZmKCJyZWZyZXNoIikudHJpZ2dlcigib25SZXNldCIpLmFkZENsYXNzKHQub3B0cy5zbGlkZUNsYXNzKSwgZSkgewogICAgICAgICAgICBjYXNlICJpbWFnZSI6CiAgICAgICAgICAgICAgYS5zZXRJbWFnZSh0KTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgImlmcmFtZSI6CiAgICAgICAgICAgICAgYS5zZXRJZnJhbWUodCk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJodG1sIjoKICAgICAgICAgICAgICBhLnNldENvbnRlbnQodCwgdC5zcmMgfHwgdC5jb250ZW50KTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgInZpZGVvIjoKICAgICAgICAgICAgICBhLnNldENvbnRlbnQodCwgdC5vcHRzLnZpZGVvLnRwbC5yZXBsYWNlKC9ce1x7c3JjXH1cfS9naSwgdC5zcmMpLnJlcGxhY2UoInt7Zm9ybWF0fX0iLCB0Lm9wdHMudmlkZW9Gb3JtYXQgfHwgdC5vcHRzLnZpZGVvLmZvcm1hdCB8fCAiIikucmVwbGFjZSgie3twb3N0ZXJ9fSIsIHQudGh1bWIgfHwgIiIpKTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgImlubGluZSI6CiAgICAgICAgICAgICAgbih0LnNyYykubGVuZ3RoID8gYS5zZXRDb250ZW50KHQsIG4odC5zcmMpKSA6IGEuc2V0RXJyb3IodCk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJhamF4IjoKICAgICAgICAgICAgICBhLnNob3dMb2FkaW5nKHQpLCBpID0gbi5hamF4KG4uZXh0ZW5kKHt9LCB0Lm9wdHMuYWpheC5zZXR0aW5ncywgewogICAgICAgICAgICAgICAgdXJsOiB0LnNyYywKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZSwgbikgewogICAgICAgICAgICAgICAgICAic3VjY2VzcyIgPT09IG4gJiYgYS5zZXRDb250ZW50KHQsIGUpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlLCBuKSB7CiAgICAgICAgICAgICAgICAgIGUgJiYgImFib3J0IiAhPT0gbiAmJiBhLnNldEVycm9yKHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pKSwgby5vbmUoIm9uUmVzZXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpLmFib3J0KCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIGEuc2V0RXJyb3IodCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuICEwOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2V0SW1hZ2U6IGZ1bmN0aW9uIHNldEltYWdlKHQpIHsKICAgICAgICB2YXIgbywKICAgICAgICAgICAgaSA9IHRoaXM7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZSA9IHQuJGltYWdlOwogICAgICAgICAgaS5pc0Nsb3NpbmcgfHwgIXQuaXNMb2FkaW5nIHx8IGUgJiYgZS5sZW5ndGggJiYgZVswXS5jb21wbGV0ZSB8fCB0Lmhhc0Vycm9yIHx8IGkuc2hvd0xvYWRpbmcodCk7CiAgICAgICAgfSwgNTApLCBpLmNoZWNrU3Jjc2V0KHQpLCB0LiRjb250ZW50ID0gbignPGRpdiBjbGFzcz0iZmFuY3lib3gtY29udGVudCI+PC9kaXY+JykuYWRkQ2xhc3MoImZhbmN5Ym94LWlzLWhpZGRlbiIpLmFwcGVuZFRvKHQuJHNsaWRlLmFkZENsYXNzKCJmYW5jeWJveC1zbGlkZS0taW1hZ2UiKSksICExICE9PSB0Lm9wdHMucHJlbG9hZCAmJiB0Lm9wdHMud2lkdGggJiYgdC5vcHRzLmhlaWdodCAmJiB0LnRodW1iICYmICh0LndpZHRoID0gdC5vcHRzLndpZHRoLCB0LmhlaWdodCA9IHQub3B0cy5oZWlnaHQsIG8gPSBlLmNyZWF0ZUVsZW1lbnQoImltZyIpLCBvLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBuKHRoaXMpLnJlbW92ZSgpLCB0LiRnaG9zdCA9IG51bGw7CiAgICAgICAgfSwgby5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpLmFmdGVyTG9hZCh0KTsKICAgICAgICB9LCB0LiRnaG9zdCA9IG4obykuYWRkQ2xhc3MoImZhbmN5Ym94LWltYWdlIikuYXBwZW5kVG8odC4kY29udGVudCkuYXR0cigic3JjIiwgdC50aHVtYikpLCBpLnNldEJpZ0ltYWdlKHQpOwogICAgICB9LAogICAgICBjaGVja1NyY3NldDogZnVuY3Rpb24gY2hlY2tTcmNzZXQoZSkgewogICAgICAgIHZhciBuLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICBzID0gZS5vcHRzLnNyY3NldCB8fCBlLm9wdHMuaW1hZ2Uuc3Jjc2V0OwoKICAgICAgICBpZiAocykgewogICAgICAgICAgaSA9IHQuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLCBhID0gdC5pbm5lcldpZHRoICogaSwgbyA9IHMuc3BsaXQoIiwiKS5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgdmFyIGUgPSB7fTsKICAgICAgICAgICAgcmV0dXJuIHQudHJpbSgpLnNwbGl0KC9ccysvKS5mb3JFYWNoKGZ1bmN0aW9uICh0LCBuKSB7CiAgICAgICAgICAgICAgdmFyIG8gPSBwYXJzZUludCh0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtIDEpLCAxMCk7CiAgICAgICAgICAgICAgaWYgKDAgPT09IG4pIHJldHVybiBlLnVybCA9IHQ7CiAgICAgICAgICAgICAgbyAmJiAoZS52YWx1ZSA9IG8sIGUucG9zdGZpeCA9IHRbdC5sZW5ndGggLSAxXSk7CiAgICAgICAgICAgIH0pLCBlOwogICAgICAgICAgfSksIG8uc29ydChmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICByZXR1cm4gdC52YWx1ZSAtIGUudmFsdWU7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IG8ubGVuZ3RoOyByKyspIHsKICAgICAgICAgICAgdmFyIGMgPSBvW3JdOwoKICAgICAgICAgICAgaWYgKCJ3IiA9PT0gYy5wb3N0Zml4ICYmIGMudmFsdWUgPj0gYSB8fCAieCIgPT09IGMucG9zdGZpeCAmJiBjLnZhbHVlID49IGkpIHsKICAgICAgICAgICAgICBuID0gYzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgICFuICYmIG8ubGVuZ3RoICYmIChuID0gb1tvLmxlbmd0aCAtIDFdKSwgbiAmJiAoZS5zcmMgPSBuLnVybCwgZS53aWR0aCAmJiBlLmhlaWdodCAmJiAidyIgPT0gbi5wb3N0Zml4ICYmIChlLmhlaWdodCA9IGUud2lkdGggLyBlLmhlaWdodCAqIG4udmFsdWUsIGUud2lkdGggPSBuLnZhbHVlKSwgZS5vcHRzLnNyY3NldCA9IHMpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2V0QmlnSW1hZ2U6IGZ1bmN0aW9uIHNldEJpZ0ltYWdlKHQpIHsKICAgICAgICB2YXIgbyA9IHRoaXMsCiAgICAgICAgICAgIGkgPSBlLmNyZWF0ZUVsZW1lbnQoImltZyIpLAogICAgICAgICAgICBhID0gbihpKTsKICAgICAgICB0LiRpbWFnZSA9IGEub25lKCJlcnJvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG8uc2V0RXJyb3IodCk7CiAgICAgICAgfSkub25lKCJsb2FkIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGU7CiAgICAgICAgICB0LiRnaG9zdCB8fCAoby5yZXNvbHZlSW1hZ2VTbGlkZVNpemUodCwgdGhpcy5uYXR1cmFsV2lkdGgsIHRoaXMubmF0dXJhbEhlaWdodCksIG8uYWZ0ZXJMb2FkKHQpKSwgby5pc0Nsb3NpbmcgfHwgKHQub3B0cy5zcmNzZXQgJiYgKGUgPSB0Lm9wdHMuc2l6ZXMsIGUgJiYgImF1dG8iICE9PSBlIHx8IChlID0gKHQud2lkdGggLyB0LmhlaWdodCA+IDEgJiYgcy53aWR0aCgpIC8gcy5oZWlnaHQoKSA+IDEgPyAiMTAwIiA6IE1hdGgucm91bmQodC53aWR0aCAvIHQuaGVpZ2h0ICogMTAwKSkgKyAidnciKSwgYS5hdHRyKCJzaXplcyIsIGUpLmF0dHIoInNyY3NldCIsIHQub3B0cy5zcmNzZXQpKSwgdC4kZ2hvc3QgJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHQuJGdob3N0ICYmICFvLmlzQ2xvc2luZyAmJiB0LiRnaG9zdC5oaWRlKCk7CiAgICAgICAgICB9LCBNYXRoLm1pbigzMDAsIE1hdGgubWF4KDFlMywgdC5oZWlnaHQgLyAxNjAwKSkpLCBvLmhpZGVMb2FkaW5nKHQpKTsKICAgICAgICB9KS5hZGRDbGFzcygiZmFuY3lib3gtaW1hZ2UiKS5hdHRyKCJzcmMiLCB0LnNyYykuYXBwZW5kVG8odC4kY29udGVudCksIChpLmNvbXBsZXRlIHx8ICJjb21wbGV0ZSIgPT0gaS5yZWFkeVN0YXRlKSAmJiBhLm5hdHVyYWxXaWR0aCAmJiBhLm5hdHVyYWxIZWlnaHQgPyBhLnRyaWdnZXIoImxvYWQiKSA6IGkuZXJyb3IgJiYgYS50cmlnZ2VyKCJlcnJvciIpOwogICAgICB9LAogICAgICByZXNvbHZlSW1hZ2VTbGlkZVNpemU6IGZ1bmN0aW9uIHJlc29sdmVJbWFnZVNsaWRlU2l6ZSh0LCBlLCBuKSB7CiAgICAgICAgdmFyIG8gPSBwYXJzZUludCh0Lm9wdHMud2lkdGgsIDEwKSwKICAgICAgICAgICAgaSA9IHBhcnNlSW50KHQub3B0cy5oZWlnaHQsIDEwKTsKICAgICAgICB0LndpZHRoID0gZSwgdC5oZWlnaHQgPSBuLCBvID4gMCAmJiAodC53aWR0aCA9IG8sIHQuaGVpZ2h0ID0gTWF0aC5mbG9vcihvICogbiAvIGUpKSwgaSA+IDAgJiYgKHQud2lkdGggPSBNYXRoLmZsb29yKGkgKiBlIC8gbiksIHQuaGVpZ2h0ID0gaSk7CiAgICAgIH0sCiAgICAgIHNldElmcmFtZTogZnVuY3Rpb24gc2V0SWZyYW1lKHQpIHsKICAgICAgICB2YXIgZSwKICAgICAgICAgICAgbyA9IHRoaXMsCiAgICAgICAgICAgIGkgPSB0Lm9wdHMuaWZyYW1lLAogICAgICAgICAgICBhID0gdC4kc2xpZGU7CiAgICAgICAgdC4kY29udGVudCA9IG4oJzxkaXYgY2xhc3M9ImZhbmN5Ym94LWNvbnRlbnQnICsgKGkucHJlbG9hZCA/ICIgZmFuY3lib3gtaXMtaGlkZGVuIiA6ICIiKSArICciPjwvZGl2PicpLmNzcyhpLmNzcykuYXBwZW5kVG8oYSksIGEuYWRkQ2xhc3MoImZhbmN5Ym94LXNsaWRlLS0iICsgdC5jb250ZW50VHlwZSksIHQuJGlmcmFtZSA9IGUgPSBuKGkudHBsLnJlcGxhY2UoL1x7cm5kXH0vZywgbmV3IERhdGUoKS5nZXRUaW1lKCkpKS5hdHRyKGkuYXR0cikuYXBwZW5kVG8odC4kY29udGVudCksIGkucHJlbG9hZCA/IChvLnNob3dMb2FkaW5nKHQpLCBlLm9uKCJsb2FkLmZiIGVycm9yLmZiIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHRoaXMuaXNSZWFkeSA9IDEsIHQuJHNsaWRlLnRyaWdnZXIoInJlZnJlc2giKSwgby5hZnRlckxvYWQodCk7CiAgICAgICAgfSksIGEub24oInJlZnJlc2guZmIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgbiwKICAgICAgICAgICAgICBvLAogICAgICAgICAgICAgIHMgPSB0LiRjb250ZW50LAogICAgICAgICAgICAgIHIgPSBpLmNzcy53aWR0aCwKICAgICAgICAgICAgICBjID0gaS5jc3MuaGVpZ2h0OwoKICAgICAgICAgIGlmICgxID09PSBlWzBdLmlzUmVhZHkpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBuID0gZS5jb250ZW50cygpLCBvID0gbi5maW5kKCJib2R5Iik7CiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9CgogICAgICAgICAgICBvICYmIG8ubGVuZ3RoICYmIG8uY2hpbGRyZW4oKS5sZW5ndGggJiYgKGEuY3NzKCJvdmVyZmxvdyIsICJ2aXNpYmxlIiksIHMuY3NzKHsKICAgICAgICAgICAgICB3aWR0aDogIjEwMCUiLAogICAgICAgICAgICAgICJtYXgtd2lkdGgiOiAiMTAwJSIsCiAgICAgICAgICAgICAgaGVpZ2h0OiAiOTk5OXB4IgogICAgICAgICAgICB9KSwgdm9pZCAwID09PSByICYmIChyID0gTWF0aC5jZWlsKE1hdGgubWF4KG9bMF0uY2xpZW50V2lkdGgsIG8ub3V0ZXJXaWR0aCghMCkpKSksIHMuY3NzKCJ3aWR0aCIsIHIgfHwgIiIpLmNzcygibWF4LXdpZHRoIiwgIiIpLCB2b2lkIDAgPT09IGMgJiYgKGMgPSBNYXRoLmNlaWwoTWF0aC5tYXgob1swXS5jbGllbnRIZWlnaHQsIG8ub3V0ZXJIZWlnaHQoITApKSkpLCBzLmNzcygiaGVpZ2h0IiwgYyB8fCAiIiksIGEuY3NzKCJvdmVyZmxvdyIsICJhdXRvIikpLCBzLnJlbW92ZUNsYXNzKCJmYW5jeWJveC1pcy1oaWRkZW4iKTsKICAgICAgICAgIH0KICAgICAgICB9KSkgOiBvLmFmdGVyTG9hZCh0KSwgZS5hdHRyKCJzcmMiLCB0LnNyYyksIGEub25lKCJvblJlc2V0IiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbih0aGlzKS5maW5kKCJpZnJhbWUiKS5oaWRlKCkudW5iaW5kKCkuYXR0cigic3JjIiwgIi8vYWJvdXQ6YmxhbmsiKTsKICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9CgogICAgICAgICAgbih0aGlzKS5vZmYoInJlZnJlc2guZmIiKS5lbXB0eSgpLCB0LmlzTG9hZGVkID0gITEsIHQuaXNSZXZlYWxlZCA9ICExOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZXRDb250ZW50OiBmdW5jdGlvbiBzZXRDb250ZW50KHQsIGUpIHsKICAgICAgICB2YXIgbyA9IHRoaXM7CiAgICAgICAgby5pc0Nsb3NpbmcgfHwgKG8uaGlkZUxvYWRpbmcodCksIHQuJGNvbnRlbnQgJiYgbi5mYW5jeWJveC5zdG9wKHQuJGNvbnRlbnQpLCB0LiRzbGlkZS5lbXB0eSgpLCBsKGUpICYmIGUucGFyZW50KCkubGVuZ3RoID8gKChlLmhhc0NsYXNzKCJmYW5jeWJveC1jb250ZW50IikgfHwgZS5wYXJlbnQoKS5oYXNDbGFzcygiZmFuY3lib3gtY29udGVudCIpKSAmJiBlLnBhcmVudHMoIi5mYW5jeWJveC1zbGlkZSIpLnRyaWdnZXIoIm9uUmVzZXQiKSwgdC4kcGxhY2Vob2xkZXIgPSBuKCI8ZGl2PiIpLmhpZGUoKS5pbnNlcnRBZnRlcihlKSwgZS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIikpIDogdC5oYXNFcnJvciB8fCAoInN0cmluZyIgPT09IG4udHlwZShlKSAmJiAoZSA9IG4oIjxkaXY+IikuYXBwZW5kKG4udHJpbShlKSkuY29udGVudHMoKSksIHQub3B0cy5maWx0ZXIgJiYgKGUgPSBuKCI8ZGl2PiIpLmh0bWwoZSkuZmluZCh0Lm9wdHMuZmlsdGVyKSkpLCB0LiRzbGlkZS5vbmUoIm9uUmVzZXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBuKHRoaXMpLmZpbmQoInZpZGVvLGF1ZGlvIikudHJpZ2dlcigicGF1c2UiKSwgdC4kcGxhY2Vob2xkZXIgJiYgKHQuJHBsYWNlaG9sZGVyLmFmdGVyKGUucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWNvbnRlbnQiKS5oaWRlKCkpLnJlbW92ZSgpLCB0LiRwbGFjZWhvbGRlciA9IG51bGwpLCB0LiRzbWFsbEJ0biAmJiAodC4kc21hbGxCdG4ucmVtb3ZlKCksIHQuJHNtYWxsQnRuID0gbnVsbCksIHQuaGFzRXJyb3IgfHwgKG4odGhpcykuZW1wdHkoKSwgdC5pc0xvYWRlZCA9ICExLCB0LmlzUmV2ZWFsZWQgPSAhMSk7CiAgICAgICAgfSksIG4oZSkuYXBwZW5kVG8odC4kc2xpZGUpLCBuKGUpLmlzKCJ2aWRlbyxhdWRpbyIpICYmIChuKGUpLmFkZENsYXNzKCJmYW5jeWJveC12aWRlbyIpLCBuKGUpLndyYXAoIjxkaXY+PC9kaXY+IiksIHQuY29udGVudFR5cGUgPSAidmlkZW8iLCB0Lm9wdHMud2lkdGggPSB0Lm9wdHMud2lkdGggfHwgbihlKS5hdHRyKCJ3aWR0aCIpLCB0Lm9wdHMuaGVpZ2h0ID0gdC5vcHRzLmhlaWdodCB8fCBuKGUpLmF0dHIoImhlaWdodCIpKSwgdC4kY29udGVudCA9IHQuJHNsaWRlLmNoaWxkcmVuKCkuZmlsdGVyKCJkaXYsZm9ybSxtYWluLHZpZGVvLGF1ZGlvLGFydGljbGUsLmZhbmN5Ym94LWNvbnRlbnQiKS5maXJzdCgpLCB0LiRjb250ZW50LnNpYmxpbmdzKCkuaGlkZSgpLCB0LiRjb250ZW50Lmxlbmd0aCB8fCAodC4kY29udGVudCA9IHQuJHNsaWRlLndyYXBJbm5lcigiPGRpdj48L2Rpdj4iKS5jaGlsZHJlbigpLmZpcnN0KCkpLCB0LiRjb250ZW50LmFkZENsYXNzKCJmYW5jeWJveC1jb250ZW50IiksIHQuJHNsaWRlLmFkZENsYXNzKCJmYW5jeWJveC1zbGlkZS0tIiArIHQuY29udGVudFR5cGUpLCBvLmFmdGVyTG9hZCh0KSk7CiAgICAgIH0sCiAgICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcih0KSB7CiAgICAgICAgdC5oYXNFcnJvciA9ICEwLCB0LiRzbGlkZS50cmlnZ2VyKCJvblJlc2V0IikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXNsaWRlLS0iICsgdC5jb250ZW50VHlwZSkuYWRkQ2xhc3MoImZhbmN5Ym94LXNsaWRlLS1lcnJvciIpLCB0LmNvbnRlbnRUeXBlID0gImh0bWwiLCB0aGlzLnNldENvbnRlbnQodCwgdGhpcy50cmFuc2xhdGUodCwgdC5vcHRzLmVycm9yVHBsKSksIHQucG9zID09PSB0aGlzLmN1cnJQb3MgJiYgKHRoaXMuaXNBbmltYXRpbmcgPSAhMSk7CiAgICAgIH0sCiAgICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbiBzaG93TG9hZGluZyh0KSB7CiAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgICh0ID0gdCB8fCBlLmN1cnJlbnQpICYmICF0LiRzcGlubmVyICYmICh0LiRzcGlubmVyID0gbihlLnRyYW5zbGF0ZShlLCBlLm9wdHMuc3Bpbm5lclRwbCkpLmFwcGVuZFRvKHQuJHNsaWRlKS5oaWRlKCkuZmFkZUluKCJmYXN0IikpOwogICAgICB9LAogICAgICBoaWRlTG9hZGluZzogZnVuY3Rpb24gaGlkZUxvYWRpbmcodCkgewogICAgICAgIHZhciBlID0gdGhpczsKICAgICAgICAodCA9IHQgfHwgZS5jdXJyZW50KSAmJiB0LiRzcGlubmVyICYmICh0LiRzcGlubmVyLnN0b3AoKS5yZW1vdmUoKSwgZGVsZXRlIHQuJHNwaW5uZXIpOwogICAgICB9LAogICAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uIGFmdGVyTG9hZCh0KSB7CiAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgIGUuaXNDbG9zaW5nIHx8ICh0LmlzTG9hZGluZyA9ICExLCB0LmlzTG9hZGVkID0gITAsIGUudHJpZ2dlcigiYWZ0ZXJMb2FkIiwgdCksIGUuaGlkZUxvYWRpbmcodCksICF0Lm9wdHMuc21hbGxCdG4gfHwgdC4kc21hbGxCdG4gJiYgdC4kc21hbGxCdG4ubGVuZ3RoIHx8ICh0LiRzbWFsbEJ0biA9IG4oZS50cmFuc2xhdGUodCwgdC5vcHRzLmJ0blRwbC5zbWFsbEJ0bikpLmFwcGVuZFRvKHQuJGNvbnRlbnQpKSwgdC5vcHRzLnByb3RlY3QgJiYgdC4kY29udGVudCAmJiAhdC5oYXNFcnJvciAmJiAodC4kY29udGVudC5vbigiY29udGV4dG1lbnUuZmIiLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuIDIgPT0gdC5idXR0b24gJiYgdC5wcmV2ZW50RGVmYXVsdCgpLCAhMDsKICAgICAgICB9KSwgImltYWdlIiA9PT0gdC50eXBlICYmIG4oJzxkaXYgY2xhc3M9ImZhbmN5Ym94LXNwYWNlYmFsbCI+PC9kaXY+JykuYXBwZW5kVG8odC4kY29udGVudCkpLCBlLmFkanVzdENhcHRpb24odCksIGUuYWRqdXN0TGF5b3V0KHQpLCB0LnBvcyA9PT0gZS5jdXJyUG9zICYmIGUudXBkYXRlQ3Vyc29yKCksIGUucmV2ZWFsQ29udGVudCh0KSk7CiAgICAgIH0sCiAgICAgIGFkanVzdENhcHRpb246IGZ1bmN0aW9uIGFkanVzdENhcHRpb24odCkgewogICAgICAgIHZhciBlLAogICAgICAgICAgICBuID0gdGhpcywKICAgICAgICAgICAgbyA9IHQgfHwgbi5jdXJyZW50LAogICAgICAgICAgICBpID0gby5vcHRzLmNhcHRpb24sCiAgICAgICAgICAgIGEgPSBvLm9wdHMucHJldmVudENhcHRpb25PdmVybGFwLAogICAgICAgICAgICBzID0gbi4kcmVmcy5jYXB0aW9uLAogICAgICAgICAgICByID0gITE7CiAgICAgICAgcy50b2dnbGVDbGFzcygiZmFuY3lib3gtY2FwdGlvbi0tc2VwYXJhdGUiLCBhKSwgYSAmJiBpICYmIGkubGVuZ3RoICYmIChvLnBvcyAhPT0gbi5jdXJyUG9zID8gKGUgPSBzLmNsb25lKCkuYXBwZW5kVG8ocy5wYXJlbnQoKSksIGUuY2hpbGRyZW4oKS5lcSgwKS5lbXB0eSgpLmh0bWwoaSksIHIgPSBlLm91dGVySGVpZ2h0KCEwKSwgZS5lbXB0eSgpLnJlbW92ZSgpKSA6IG4uJGNhcHRpb24gJiYgKHIgPSBuLiRjYXB0aW9uLm91dGVySGVpZ2h0KCEwKSksIG8uJHNsaWRlLmNzcygicGFkZGluZy1ib3R0b20iLCByIHx8ICIiKSk7CiAgICAgIH0sCiAgICAgIGFkanVzdExheW91dDogZnVuY3Rpb24gYWRqdXN0TGF5b3V0KHQpIHsKICAgICAgICB2YXIgZSwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSA9IHRoaXMsCiAgICAgICAgICAgIHMgPSB0IHx8IGEuY3VycmVudDsKICAgICAgICBzLmlzTG9hZGVkICYmICEwICE9PSBzLm9wdHMuZGlzYWJsZUxheW91dEZpeCAmJiAocy4kY29udGVudC5jc3MoIm1hcmdpbi1ib3R0b20iLCAiIiksIHMuJGNvbnRlbnQub3V0ZXJIZWlnaHQoKSA+IHMuJHNsaWRlLmhlaWdodCgpICsgMC41ICYmIChvID0gcy4kc2xpZGVbMF0uc3R5bGVbInBhZGRpbmctYm90dG9tIl0sIGkgPSBzLiRzbGlkZS5jc3MoInBhZGRpbmctYm90dG9tIiksIHBhcnNlRmxvYXQoaSkgPiAwICYmIChlID0gcy4kc2xpZGVbMF0uc2Nyb2xsSGVpZ2h0LCBzLiRzbGlkZS5jc3MoInBhZGRpbmctYm90dG9tIiwgMCksIE1hdGguYWJzKGUgLSBzLiRzbGlkZVswXS5zY3JvbGxIZWlnaHQpIDwgMSAmJiAobiA9IGkpLCBzLiRzbGlkZS5jc3MoInBhZGRpbmctYm90dG9tIiwgbykpKSwgcy4kY29udGVudC5jc3MoIm1hcmdpbi1ib3R0b20iLCBuKSk7CiAgICAgIH0sCiAgICAgIHJldmVhbENvbnRlbnQ6IGZ1bmN0aW9uIHJldmVhbENvbnRlbnQodCkgewogICAgICAgIHZhciBlLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICBzID0gdGhpcywKICAgICAgICAgICAgciA9IHQuJHNsaWRlLAogICAgICAgICAgICBjID0gITEsCiAgICAgICAgICAgIGwgPSAhMSwKICAgICAgICAgICAgZCA9IHMuaXNNb3ZlZCh0KSwKICAgICAgICAgICAgdSA9IHQuaXNSZXZlYWxlZDsKICAgICAgICByZXR1cm4gdC5pc1JldmVhbGVkID0gITAsIGUgPSB0Lm9wdHNbcy5maXJzdFJ1biA/ICJhbmltYXRpb25FZmZlY3QiIDogInRyYW5zaXRpb25FZmZlY3QiXSwgaSA9IHQub3B0c1tzLmZpcnN0UnVuID8gImFuaW1hdGlvbkR1cmF0aW9uIiA6ICJ0cmFuc2l0aW9uRHVyYXRpb24iXSwgaSA9IHBhcnNlSW50KHZvaWQgMCA9PT0gdC5mb3JjZWREdXJhdGlvbiA/IGkgOiB0LmZvcmNlZER1cmF0aW9uLCAxMCksICFkICYmIHQucG9zID09PSBzLmN1cnJQb3MgJiYgaSB8fCAoZSA9ICExKSwgInpvb20iID09PSBlICYmICh0LnBvcyA9PT0gcy5jdXJyUG9zICYmIGkgJiYgImltYWdlIiA9PT0gdC50eXBlICYmICF0Lmhhc0Vycm9yICYmIChsID0gcy5nZXRUaHVtYlBvcyh0KSkgPyBjID0gcy5nZXRGaXRQb3ModCkgOiBlID0gImZhZGUiKSwgInpvb20iID09PSBlID8gKHMuaXNBbmltYXRpbmcgPSAhMCwgYy5zY2FsZVggPSBjLndpZHRoIC8gbC53aWR0aCwgYy5zY2FsZVkgPSBjLmhlaWdodCAvIGwuaGVpZ2h0LCBhID0gdC5vcHRzLnpvb21PcGFjaXR5LCAiYXV0byIgPT0gYSAmJiAoYSA9IE1hdGguYWJzKHQud2lkdGggLyB0LmhlaWdodCAtIGwud2lkdGggLyBsLmhlaWdodCkgPiAwLjEpLCBhICYmIChsLm9wYWNpdHkgPSAwLjEsIGMub3BhY2l0eSA9IDEpLCBuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZSh0LiRjb250ZW50LnJlbW92ZUNsYXNzKCJmYW5jeWJveC1pcy1oaWRkZW4iKSwgbCksIHAodC4kY29udGVudCksIHZvaWQgbi5mYW5jeWJveC5hbmltYXRlKHQuJGNvbnRlbnQsIGMsIGksIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHMuaXNBbmltYXRpbmcgPSAhMSwgcy5jb21wbGV0ZSgpOwogICAgICAgIH0pKSA6IChzLnVwZGF0ZVNsaWRlKHQpLCBlID8gKG4uZmFuY3lib3guc3RvcChyKSwgbyA9ICJmYW5jeWJveC1zbGlkZS0tIiArICh0LnBvcyA+PSBzLnByZXZQb3MgPyAibmV4dCIgOiAicHJldmlvdXMiKSArICIgZmFuY3lib3gtYW5pbWF0ZWQgZmFuY3lib3gtZngtIiArIGUsIHIuYWRkQ2xhc3MobykucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXNsaWRlLS1jdXJyZW50IiksIHQuJGNvbnRlbnQucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWlzLWhpZGRlbiIpLCBwKHIpLCAiaW1hZ2UiICE9PSB0LnR5cGUgJiYgdC4kY29udGVudC5oaWRlKCkuc2hvdygwKSwgdm9pZCBuLmZhbmN5Ym94LmFuaW1hdGUociwgImZhbmN5Ym94LXNsaWRlLS1jdXJyZW50IiwgaSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgci5yZW1vdmVDbGFzcyhvKS5jc3MoewogICAgICAgICAgICB0cmFuc2Zvcm06ICIiLAogICAgICAgICAgICBvcGFjaXR5OiAiIgogICAgICAgICAgfSksIHQucG9zID09PSBzLmN1cnJQb3MgJiYgcy5jb21wbGV0ZSgpOwogICAgICAgIH0sICEwKSkgOiAodC4kY29udGVudC5yZW1vdmVDbGFzcygiZmFuY3lib3gtaXMtaGlkZGVuIiksIHUgfHwgIWQgfHwgImltYWdlIiAhPT0gdC50eXBlIHx8IHQuaGFzRXJyb3IgfHwgdC4kY29udGVudC5oaWRlKCkuZmFkZUluKCJmYXN0IiksIHZvaWQgKHQucG9zID09PSBzLmN1cnJQb3MgJiYgcy5jb21wbGV0ZSgpKSkpOwogICAgICB9LAogICAgICBnZXRUaHVtYlBvczogZnVuY3Rpb24gZ2V0VGh1bWJQb3ModCkgewogICAgICAgIHZhciBlLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICBzLAogICAgICAgICAgICByID0gITEsCiAgICAgICAgICAgIGMgPSB0LiR0aHVtYjsKICAgICAgICByZXR1cm4gISghYyB8fCAhZyhjWzBdKSkgJiYgKGUgPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShjKSwgbyA9IHBhcnNlRmxvYXQoYy5jc3MoImJvcmRlci10b3Atd2lkdGgiKSB8fCAwKSwgaSA9IHBhcnNlRmxvYXQoYy5jc3MoImJvcmRlci1yaWdodC13aWR0aCIpIHx8IDApLCBhID0gcGFyc2VGbG9hdChjLmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpIHx8IDApLCBzID0gcGFyc2VGbG9hdChjLmNzcygiYm9yZGVyLWxlZnQtd2lkdGgiKSB8fCAwKSwgciA9IHsKICAgICAgICAgIHRvcDogZS50b3AgKyBvLAogICAgICAgICAgbGVmdDogZS5sZWZ0ICsgcywKICAgICAgICAgIHdpZHRoOiBlLndpZHRoIC0gaSAtIHMsCiAgICAgICAgICBoZWlnaHQ6IGUuaGVpZ2h0IC0gbyAtIGEsCiAgICAgICAgICBzY2FsZVg6IDEsCiAgICAgICAgICBzY2FsZVk6IDEKICAgICAgICB9LCBlLndpZHRoID4gMCAmJiBlLmhlaWdodCA+IDAgJiYgcik7CiAgICAgIH0sCiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgZSA9IHRoaXMsCiAgICAgICAgICAgIG8gPSBlLmN1cnJlbnQsCiAgICAgICAgICAgIGkgPSB7fTsKICAgICAgICAhZS5pc01vdmVkKCkgJiYgby5pc0xvYWRlZCAmJiAoby5pc0NvbXBsZXRlIHx8IChvLmlzQ29tcGxldGUgPSAhMCwgby4kc2xpZGUuc2libGluZ3MoKS50cmlnZ2VyKCJvblJlc2V0IiksIGUucHJlbG9hZCgiaW5saW5lIiksIHAoby4kc2xpZGUpLCBvLiRzbGlkZS5hZGRDbGFzcygiZmFuY3lib3gtc2xpZGUtLWNvbXBsZXRlIiksIG4uZWFjaChlLnNsaWRlcywgZnVuY3Rpb24gKHQsIG8pIHsKICAgICAgICAgIG8ucG9zID49IGUuY3VyclBvcyAtIDEgJiYgby5wb3MgPD0gZS5jdXJyUG9zICsgMSA/IGlbby5wb3NdID0gbyA6IG8gJiYgKG4uZmFuY3lib3guc3RvcChvLiRzbGlkZSksIG8uJHNsaWRlLm9mZigpLnJlbW92ZSgpKTsKICAgICAgICB9KSwgZS5zbGlkZXMgPSBpKSwgZS5pc0FuaW1hdGluZyA9ICExLCBlLnVwZGF0ZUN1cnNvcigpLCBlLnRyaWdnZXIoImFmdGVyU2hvdyIpLCBvLm9wdHMudmlkZW8uYXV0b1N0YXJ0ICYmIG8uJHNsaWRlLmZpbmQoInZpZGVvLGF1ZGlvIikuZmlsdGVyKCI6dmlzaWJsZTpmaXJzdCIpLnRyaWdnZXIoInBsYXkiKS5vbmUoImVuZGVkIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgRG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4gPyBEb2N1bWVudC5leGl0RnVsbHNjcmVlbigpIDogdGhpcy53ZWJraXRFeGl0RnVsbHNjcmVlbiAmJiB0aGlzLndlYmtpdEV4aXRGdWxsc2NyZWVuKCksIGUubmV4dCgpOwogICAgICAgIH0pLCBvLm9wdHMuYXV0b0ZvY3VzICYmICJodG1sIiA9PT0gby5jb250ZW50VHlwZSAmJiAodCA9IG8uJGNvbnRlbnQuZmluZCgiaW5wdXRbYXV0b2ZvY3VzXTplbmFibGVkOnZpc2libGU6Zmlyc3QiKSwgdC5sZW5ndGggPyB0LnRyaWdnZXIoImZvY3VzIikgOiBlLmZvY3VzKG51bGwsICEwKSksIG8uJHNsaWRlLnNjcm9sbFRvcCgwKS5zY3JvbGxMZWZ0KDApKTsKICAgICAgfSwKICAgICAgcHJlbG9hZDogZnVuY3Rpb24gcHJlbG9hZCh0KSB7CiAgICAgICAgdmFyIGUsCiAgICAgICAgICAgIG4sCiAgICAgICAgICAgIG8gPSB0aGlzOwogICAgICAgIG8uZ3JvdXAubGVuZ3RoIDwgMiB8fCAobiA9IG8uc2xpZGVzW28uY3VyclBvcyArIDFdLCBlID0gby5zbGlkZXNbby5jdXJyUG9zIC0gMV0sIGUgJiYgZS50eXBlID09PSB0ICYmIG8ubG9hZFNsaWRlKGUpLCBuICYmIG4udHlwZSA9PT0gdCAmJiBvLmxvYWRTbGlkZShuKSk7CiAgICAgIH0sCiAgICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cyh0LCBvKSB7CiAgICAgICAgdmFyIGksCiAgICAgICAgICAgIGEsCiAgICAgICAgICAgIHMgPSB0aGlzLAogICAgICAgICAgICByID0gWyJhW2hyZWZdIiwgImFyZWFbaHJlZl0iLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pOm5vdChbdHlwZT0iaGlkZGVuIl0pOm5vdChbYXJpYS1oaWRkZW5dKScsICJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKSIsICJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pIiwgImJ1dHRvbjpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pIiwgImlmcmFtZSIsICJvYmplY3QiLCAiZW1iZWQiLCAidmlkZW8iLCAiYXVkaW8iLCAiW2NvbnRlbnRlZGl0YWJsZV0iLCAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4Xj0iLSJdKSddLmpvaW4oIiwiKTsKICAgICAgICBzLmlzQ2xvc2luZyB8fCAoaSA9ICF0ICYmIHMuY3VycmVudCAmJiBzLmN1cnJlbnQuaXNDb21wbGV0ZSA/IHMuY3VycmVudC4kc2xpZGUuZmluZCgiKjp2aXNpYmxlIiArIChvID8gIjpub3QoLmZhbmN5Ym94LWNsb3NlLXNtYWxsKSIgOiAiIikpIDogcy4kcmVmcy5jb250YWluZXIuZmluZCgiKjp2aXNpYmxlIiksIGkgPSBpLmZpbHRlcihyKS5maWx0ZXIoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICJoaWRkZW4iICE9PSBuKHRoaXMpLmNzcygidmlzaWJpbGl0eSIpICYmICFuKHRoaXMpLmhhc0NsYXNzKCJkaXNhYmxlZCIpOwogICAgICAgIH0pLCBpLmxlbmd0aCA/IChhID0gaS5pbmRleChlLmFjdGl2ZUVsZW1lbnQpLCB0ICYmIHQuc2hpZnRLZXkgPyAoYSA8IDAgfHwgMCA9PSBhKSAmJiAodC5wcmV2ZW50RGVmYXVsdCgpLCBpLmVxKGkubGVuZ3RoIC0gMSkudHJpZ2dlcigiZm9jdXMiKSkgOiAoYSA8IDAgfHwgYSA9PSBpLmxlbmd0aCAtIDEpICYmICh0ICYmIHQucHJldmVudERlZmF1bHQoKSwgaS5lcSgwKS50cmlnZ2VyKCJmb2N1cyIpKSkgOiBzLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKCJmb2N1cyIpKTsKICAgICAgfSwKICAgICAgYWN0aXZhdGU6IGZ1bmN0aW9uIGFjdGl2YXRlKCkgewogICAgICAgIHZhciB0ID0gdGhpczsKICAgICAgICBuKCIuZmFuY3lib3gtY29udGFpbmVyIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZSA9IG4odGhpcykuZGF0YSgiRmFuY3lCb3giKTsKICAgICAgICAgIGUgJiYgZS5pZCAhPT0gdC5pZCAmJiAhZS5pc0Nsb3NpbmcgJiYgKGUudHJpZ2dlcigib25EZWFjdGl2YXRlIiksIGUucmVtb3ZlRXZlbnRzKCksIGUuaXNWaXNpYmxlID0gITEpOwogICAgICAgIH0pLCB0LmlzVmlzaWJsZSA9ICEwLCAodC5jdXJyZW50IHx8IHQuaXNJZGxlKSAmJiAodC51cGRhdGUoKSwgdC51cGRhdGVDb250cm9scygpKSwgdC50cmlnZ2VyKCJvbkFjdGl2YXRlIiksIHQuYWRkRXZlbnRzKCk7CiAgICAgIH0sCiAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSh0LCBlKSB7CiAgICAgICAgdmFyIG8sCiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGEsCiAgICAgICAgICAgIHMsCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIGMsCiAgICAgICAgICAgIGwsCiAgICAgICAgICAgIHUgPSB0aGlzLAogICAgICAgICAgICBmID0gdS5jdXJyZW50LAogICAgICAgICAgICBoID0gZnVuY3Rpb24gaCgpIHsKICAgICAgICAgIHUuY2xlYW5VcCh0KTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gIXUuaXNDbG9zaW5nICYmICh1LmlzQ2xvc2luZyA9ICEwLCAhMSA9PT0gdS50cmlnZ2VyKCJiZWZvcmVDbG9zZSIsIHQpID8gKHUuaXNDbG9zaW5nID0gITEsIGQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdS51cGRhdGUoKTsKICAgICAgICB9KSwgITEpIDogKHUucmVtb3ZlRXZlbnRzKCksIGEgPSBmLiRjb250ZW50LCBvID0gZi5vcHRzLmFuaW1hdGlvbkVmZmVjdCwgaSA9IG4uaXNOdW1lcmljKGUpID8gZSA6IG8gPyBmLm9wdHMuYW5pbWF0aW9uRHVyYXRpb24gOiAwLCBmLiRzbGlkZS5yZW1vdmVDbGFzcygiZmFuY3lib3gtc2xpZGUtLWNvbXBsZXRlIGZhbmN5Ym94LXNsaWRlLS1uZXh0IGZhbmN5Ym94LXNsaWRlLS1wcmV2aW91cyBmYW5jeWJveC1hbmltYXRlZCIpLCAhMCAhPT0gdCA/IG4uZmFuY3lib3guc3RvcChmLiRzbGlkZSkgOiBvID0gITEsIGYuJHNsaWRlLnNpYmxpbmdzKCkudHJpZ2dlcigib25SZXNldCIpLnJlbW92ZSgpLCBpICYmIHUuJHJlZnMuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJmYW5jeWJveC1pcy1vcGVuIikuYWRkQ2xhc3MoImZhbmN5Ym94LWlzLWNsb3NpbmciKS5jc3MoInRyYW5zaXRpb24tZHVyYXRpb24iLCBpICsgIm1zIiksIHUuaGlkZUxvYWRpbmcoZiksIHUuaGlkZUNvbnRyb2xzKCEwKSwgdS51cGRhdGVDdXJzb3IoKSwgInpvb20iICE9PSBvIHx8IGEgJiYgaSAmJiAiaW1hZ2UiID09PSBmLnR5cGUgJiYgIXUuaXNNb3ZlZCgpICYmICFmLmhhc0Vycm9yICYmIChsID0gdS5nZXRUaHVtYlBvcyhmKSkgfHwgKG8gPSAiZmFkZSIpLCAiem9vbSIgPT09IG8gPyAobi5mYW5jeWJveC5zdG9wKGEpLCBzID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoYSksIGMgPSB7CiAgICAgICAgICB0b3A6IHMudG9wLAogICAgICAgICAgbGVmdDogcy5sZWZ0LAogICAgICAgICAgc2NhbGVYOiBzLndpZHRoIC8gbC53aWR0aCwKICAgICAgICAgIHNjYWxlWTogcy5oZWlnaHQgLyBsLmhlaWdodCwKICAgICAgICAgIHdpZHRoOiBsLndpZHRoLAogICAgICAgICAgaGVpZ2h0OiBsLmhlaWdodAogICAgICAgIH0sIHIgPSBmLm9wdHMuem9vbU9wYWNpdHksICJhdXRvIiA9PSByICYmIChyID0gTWF0aC5hYnMoZi53aWR0aCAvIGYuaGVpZ2h0IC0gbC53aWR0aCAvIGwuaGVpZ2h0KSA+IDAuMSksIHIgJiYgKGwub3BhY2l0eSA9IDApLCBuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShhLCBjKSwgcChhKSwgbi5mYW5jeWJveC5hbmltYXRlKGEsIGwsIGksIGgpLCAhMCkgOiAobyAmJiBpID8gbi5mYW5jeWJveC5hbmltYXRlKGYuJHNsaWRlLmFkZENsYXNzKCJmYW5jeWJveC1zbGlkZS0tcHJldmlvdXMiKS5yZW1vdmVDbGFzcygiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnQiKSwgImZhbmN5Ym94LWFuaW1hdGVkIGZhbmN5Ym94LWZ4LSIgKyBvLCBpLCBoKSA6ICEwID09PSB0ID8gc2V0VGltZW91dChoLCBpKSA6IGgoKSwgITApKSk7CiAgICAgIH0sCiAgICAgIGNsZWFuVXA6IGZ1bmN0aW9uIGNsZWFuVXAoZSkgewogICAgICAgIHZhciBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICBzID0gdGhpcywKICAgICAgICAgICAgciA9IHMuY3VycmVudC5vcHRzLiRvcmlnOwogICAgICAgIHMuY3VycmVudC4kc2xpZGUudHJpZ2dlcigib25SZXNldCIpLCBzLiRyZWZzLmNvbnRhaW5lci5lbXB0eSgpLnJlbW92ZSgpLCBzLnRyaWdnZXIoImFmdGVyQ2xvc2UiLCBlKSwgcy5jdXJyZW50Lm9wdHMuYmFja0ZvY3VzICYmIChyICYmIHIubGVuZ3RoICYmIHIuaXMoIjp2aXNpYmxlIikgfHwgKHIgPSBzLiR0cmlnZ2VyKSwgciAmJiByLmxlbmd0aCAmJiAoaSA9IHQuc2Nyb2xsWCwgYSA9IHQuc2Nyb2xsWSwgci50cmlnZ2VyKCJmb2N1cyIpLCBuKCJodG1sLCBib2R5Iikuc2Nyb2xsVG9wKGEpLnNjcm9sbExlZnQoaSkpKSwgcy5jdXJyZW50ID0gbnVsbCwgbyA9IG4uZmFuY3lib3guZ2V0SW5zdGFuY2UoKSwgbyA/IG8uYWN0aXZhdGUoKSA6IChuKCJib2R5IikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWFjdGl2ZSBjb21wZW5zYXRlLWZvci1zY3JvbGxiYXIiKSwgbigiI2ZhbmN5Ym94LXN0eWxlLW5vc2Nyb2xsIikucmVtb3ZlKCkpOwogICAgICB9LAogICAgICB0cmlnZ2VyOiBmdW5jdGlvbiB0cmlnZ2VyKHQsIGUpIHsKICAgICAgICB2YXIgbywKICAgICAgICAgICAgaSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksCiAgICAgICAgICAgIGEgPSB0aGlzLAogICAgICAgICAgICBzID0gZSAmJiBlLm9wdHMgPyBlIDogYS5jdXJyZW50OwogICAgICAgIGlmIChzID8gaS51bnNoaWZ0KHMpIDogcyA9IGEsIGkudW5zaGlmdChhKSwgbi5pc0Z1bmN0aW9uKHMub3B0c1t0XSkgJiYgKG8gPSBzLm9wdHNbdF0uYXBwbHkocywgaSkpLCAhMSA9PT0gbykgcmV0dXJuIG87CiAgICAgICAgImFmdGVyQ2xvc2UiICE9PSB0ICYmIGEuJHJlZnMgPyBhLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKHQgKyAiLmZiIiwgaSkgOiByLnRyaWdnZXIodCArICIuZmIiLCBpKTsKICAgICAgfSwKICAgICAgdXBkYXRlQ29udHJvbHM6IGZ1bmN0aW9uIHVwZGF0ZUNvbnRyb2xzKCkgewogICAgICAgIHZhciB0ID0gdGhpcywKICAgICAgICAgICAgbyA9IHQuY3VycmVudCwKICAgICAgICAgICAgaSA9IG8uaW5kZXgsCiAgICAgICAgICAgIGEgPSB0LiRyZWZzLmNvbnRhaW5lciwKICAgICAgICAgICAgcyA9IHQuJHJlZnMuY2FwdGlvbiwKICAgICAgICAgICAgciA9IG8ub3B0cy5jYXB0aW9uOwogICAgICAgIG8uJHNsaWRlLnRyaWdnZXIoInJlZnJlc2giKSwgciAmJiByLmxlbmd0aCA/ICh0LiRjYXB0aW9uID0gcywgcy5jaGlsZHJlbigpLmVxKDApLmh0bWwocikpIDogdC4kY2FwdGlvbiA9IG51bGwsIHQuaGFzSGlkZGVuQ29udHJvbHMgfHwgdC5pc0lkbGUgfHwgdC5zaG93Q29udHJvbHMoKSwgYS5maW5kKCJbZGF0YS1mYW5jeWJveC1jb3VudF0iKS5odG1sKHQuZ3JvdXAubGVuZ3RoKSwgYS5maW5kKCJbZGF0YS1mYW5jeWJveC1pbmRleF0iKS5odG1sKGkgKyAxKSwgYS5maW5kKCJbZGF0YS1mYW5jeWJveC1wcmV2XSIpLnByb3AoImRpc2FibGVkIiwgIW8ub3B0cy5sb29wICYmIGkgPD0gMCksIGEuZmluZCgiW2RhdGEtZmFuY3lib3gtbmV4dF0iKS5wcm9wKCJkaXNhYmxlZCIsICFvLm9wdHMubG9vcCAmJiBpID49IHQuZ3JvdXAubGVuZ3RoIC0gMSksICJpbWFnZSIgPT09IG8udHlwZSA/IGEuZmluZCgiW2RhdGEtZmFuY3lib3gtem9vbV0iKS5zaG93KCkuZW5kKCkuZmluZCgiW2RhdGEtZmFuY3lib3gtZG93bmxvYWRdIikuYXR0cigiaHJlZiIsIG8ub3B0cy5pbWFnZS5zcmMgfHwgby5zcmMpLnNob3coKSA6IG8ub3B0cy50b29sYmFyICYmIGEuZmluZCgiW2RhdGEtZmFuY3lib3gtZG93bmxvYWRdLFtkYXRhLWZhbmN5Ym94LXpvb21dIikuaGlkZSgpLCBuKGUuYWN0aXZlRWxlbWVudCkuaXMoIjpoaWRkZW4sW2Rpc2FibGVkXSIpICYmIHQuJHJlZnMuY29udGFpbmVyLnRyaWdnZXIoImZvY3VzIik7CiAgICAgIH0sCiAgICAgIGhpZGVDb250cm9sczogZnVuY3Rpb24gaGlkZUNvbnRyb2xzKHQpIHsKICAgICAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgICAgIG4gPSBbImluZm9iYXIiLCAidG9vbGJhciIsICJuYXYiXTsKICAgICAgICAhdCAmJiBlLmN1cnJlbnQub3B0cy5wcmV2ZW50Q2FwdGlvbk92ZXJsYXAgfHwgbi5wdXNoKCJjYXB0aW9uIiksIHRoaXMuJHJlZnMuY29udGFpbmVyLnJlbW92ZUNsYXNzKG4ubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gImZhbmN5Ym94LXNob3ctIiArIHQ7CiAgICAgICAgfSkuam9pbigiICIpKSwgdGhpcy5oYXNIaWRkZW5Db250cm9scyA9ICEwOwogICAgICB9LAogICAgICBzaG93Q29udHJvbHM6IGZ1bmN0aW9uIHNob3dDb250cm9scygpIHsKICAgICAgICB2YXIgdCA9IHRoaXMsCiAgICAgICAgICAgIGUgPSB0LmN1cnJlbnQgPyB0LmN1cnJlbnQub3B0cyA6IHQub3B0cywKICAgICAgICAgICAgbiA9IHQuJHJlZnMuY29udGFpbmVyOwogICAgICAgIHQuaGFzSGlkZGVuQ29udHJvbHMgPSAhMSwgdC5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwLCBuLnRvZ2dsZUNsYXNzKCJmYW5jeWJveC1zaG93LXRvb2xiYXIiLCAhKCFlLnRvb2xiYXIgfHwgIWUuYnV0dG9ucykpLnRvZ2dsZUNsYXNzKCJmYW5jeWJveC1zaG93LWluZm9iYXIiLCAhIShlLmluZm9iYXIgJiYgdC5ncm91cC5sZW5ndGggPiAxKSkudG9nZ2xlQ2xhc3MoImZhbmN5Ym94LXNob3ctY2FwdGlvbiIsICEhdC4kY2FwdGlvbikudG9nZ2xlQ2xhc3MoImZhbmN5Ym94LXNob3ctbmF2IiwgISEoZS5hcnJvd3MgJiYgdC5ncm91cC5sZW5ndGggPiAxKSkudG9nZ2xlQ2xhc3MoImZhbmN5Ym94LWlzLW1vZGFsIiwgISFlLm1vZGFsKTsKICAgICAgfSwKICAgICAgdG9nZ2xlQ29udHJvbHM6IGZ1bmN0aW9uIHRvZ2dsZUNvbnRyb2xzKCkgewogICAgICAgIHRoaXMuaGFzSGlkZGVuQ29udHJvbHMgPyB0aGlzLnNob3dDb250cm9scygpIDogdGhpcy5oaWRlQ29udHJvbHMoKTsKICAgICAgfQogICAgfSksIG4uZmFuY3lib3ggPSB7CiAgICAgIHZlcnNpb246ICIzLjUuNyIsCiAgICAgIGRlZmF1bHRzOiBhLAogICAgICBnZXRJbnN0YW5jZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UodCkgewogICAgICAgIHZhciBlID0gbignLmZhbmN5Ym94LWNvbnRhaW5lcjpub3QoIi5mYW5jeWJveC1pcy1jbG9zaW5nIik6bGFzdCcpLmRhdGEoIkZhbmN5Qm94IiksCiAgICAgICAgICAgIG8gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgYiAmJiAoInN0cmluZyIgPT09IG4udHlwZSh0KSA/IGVbdF0uYXBwbHkoZSwgbykgOiAiZnVuY3Rpb24iID09PSBuLnR5cGUodCkgJiYgdC5hcHBseShlLCBvKSwgZSk7CiAgICAgIH0sCiAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4odCwgZSwgbikgewogICAgICAgIHJldHVybiBuZXcgYih0LCBlLCBuKTsKICAgICAgfSwKICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKHQpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTsKICAgICAgICBlICYmIChlLmNsb3NlKCksICEwID09PSB0ICYmIHRoaXMuY2xvc2UodCkpOwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHRoaXMuY2xvc2UoITApLCByLmFkZCgiYm9keSIpLm9mZigiY2xpY2suZmItc3RhcnQiLCAiKioiKTsKICAgICAgfSwKICAgICAgaXNNb2JpbGU6IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSwKICAgICAgdXNlM2Q6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbiA9IGUuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgcmV0dXJuIHQuZ2V0Q29tcHV0ZWRTdHlsZSAmJiB0LmdldENvbXB1dGVkU3R5bGUobikgJiYgdC5nZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUoInRyYW5zZm9ybSIpICYmICEoZS5kb2N1bWVudE1vZGUgJiYgZS5kb2N1bWVudE1vZGUgPCAxMSk7CiAgICAgIH0oKSwKICAgICAgZ2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBnZXRUcmFuc2xhdGUodCkgewogICAgICAgIHZhciBlOwogICAgICAgIHJldHVybiAhKCF0IHx8ICF0Lmxlbmd0aCkgJiYgKGUgPSB0WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB7CiAgICAgICAgICB0b3A6IGUudG9wIHx8IDAsCiAgICAgICAgICBsZWZ0OiBlLmxlZnQgfHwgMCwKICAgICAgICAgIHdpZHRoOiBlLndpZHRoLAogICAgICAgICAgaGVpZ2h0OiBlLmhlaWdodCwKICAgICAgICAgIG9wYWNpdHk6IHBhcnNlRmxvYXQodC5jc3MoIm9wYWNpdHkiKSkKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUodCwgZSkgewogICAgICAgIHZhciBuID0gIiIsCiAgICAgICAgICAgIG8gPSB7fTsKICAgICAgICBpZiAodCAmJiBlKSByZXR1cm4gdm9pZCAwID09PSBlLmxlZnQgJiYgdm9pZCAwID09PSBlLnRvcCB8fCAobiA9ICh2b2lkIDAgPT09IGUubGVmdCA/IHQucG9zaXRpb24oKS5sZWZ0IDogZS5sZWZ0KSArICJweCwgIiArICh2b2lkIDAgPT09IGUudG9wID8gdC5wb3NpdGlvbigpLnRvcCA6IGUudG9wKSArICJweCIsIG4gPSB0aGlzLnVzZTNkID8gInRyYW5zbGF0ZTNkKCIgKyBuICsgIiwgMHB4KSIgOiAidHJhbnNsYXRlKCIgKyBuICsgIikiKSwgdm9pZCAwICE9PSBlLnNjYWxlWCAmJiB2b2lkIDAgIT09IGUuc2NhbGVZID8gbiArPSAiIHNjYWxlKCIgKyBlLnNjYWxlWCArICIsICIgKyBlLnNjYWxlWSArICIpIiA6IHZvaWQgMCAhPT0gZS5zY2FsZVggJiYgKG4gKz0gIiBzY2FsZVgoIiArIGUuc2NhbGVYICsgIikiKSwgbi5sZW5ndGggJiYgKG8udHJhbnNmb3JtID0gbiksIHZvaWQgMCAhPT0gZS5vcGFjaXR5ICYmIChvLm9wYWNpdHkgPSBlLm9wYWNpdHkpLCB2b2lkIDAgIT09IGUud2lkdGggJiYgKG8ud2lkdGggPSBlLndpZHRoKSwgdm9pZCAwICE9PSBlLmhlaWdodCAmJiAoby5oZWlnaHQgPSBlLmhlaWdodCksIHQuY3NzKG8pOwogICAgICB9LAogICAgICBhbmltYXRlOiBmdW5jdGlvbiBhbmltYXRlKHQsIGUsIG8sIGksIGEpIHsKICAgICAgICB2YXIgcywKICAgICAgICAgICAgciA9IHRoaXM7CiAgICAgICAgbi5pc0Z1bmN0aW9uKG8pICYmIChpID0gbywgbyA9IG51bGwpLCByLnN0b3AodCksIHMgPSByLmdldFRyYW5zbGF0ZSh0KSwgdC5vbihmLCBmdW5jdGlvbiAoYykgewogICAgICAgICAgKCFjIHx8ICFjLm9yaWdpbmFsRXZlbnQgfHwgdC5pcyhjLm9yaWdpbmFsRXZlbnQudGFyZ2V0KSAmJiAiei1pbmRleCIgIT0gYy5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZSkgJiYgKHIuc3RvcCh0KSwgbi5pc051bWVyaWMobykgJiYgdC5jc3MoInRyYW5zaXRpb24tZHVyYXRpb24iLCAiIiksIG4uaXNQbGFpbk9iamVjdChlKSA/IHZvaWQgMCAhPT0gZS5zY2FsZVggJiYgdm9pZCAwICE9PSBlLnNjYWxlWSAmJiByLnNldFRyYW5zbGF0ZSh0LCB7CiAgICAgICAgICAgIHRvcDogZS50b3AsCiAgICAgICAgICAgIGxlZnQ6IGUubGVmdCwKICAgICAgICAgICAgd2lkdGg6IHMud2lkdGggKiBlLnNjYWxlWCwKICAgICAgICAgICAgaGVpZ2h0OiBzLmhlaWdodCAqIGUuc2NhbGVZLAogICAgICAgICAgICBzY2FsZVg6IDEsCiAgICAgICAgICAgIHNjYWxlWTogMQogICAgICAgICAgfSkgOiAhMCAhPT0gYSAmJiB0LnJlbW92ZUNsYXNzKGUpLCBuLmlzRnVuY3Rpb24oaSkgJiYgaShjKSk7CiAgICAgICAgfSksIG4uaXNOdW1lcmljKG8pICYmIHQuY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIiwgbyArICJtcyIpLCBuLmlzUGxhaW5PYmplY3QoZSkgPyAodm9pZCAwICE9PSBlLnNjYWxlWCAmJiB2b2lkIDAgIT09IGUuc2NhbGVZICYmIChkZWxldGUgZS53aWR0aCwgZGVsZXRlIGUuaGVpZ2h0LCB0LnBhcmVudCgpLmhhc0NsYXNzKCJmYW5jeWJveC1zbGlkZS0taW1hZ2UiKSAmJiB0LnBhcmVudCgpLmFkZENsYXNzKCJmYW5jeWJveC1pcy1zY2FsaW5nIikpLCBuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZSh0LCBlKSkgOiB0LmFkZENsYXNzKGUpLCB0LmRhdGEoInRpbWVyIiwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0LnRyaWdnZXIoZik7CiAgICAgICAgfSwgbyArIDMzKSk7CiAgICAgIH0sCiAgICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AodCwgZSkgewogICAgICAgIHQgJiYgdC5sZW5ndGggJiYgKGNsZWFyVGltZW91dCh0LmRhdGEoInRpbWVyIikpLCBlICYmIHQudHJpZ2dlcihmKSwgdC5vZmYoZikuY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIiwgIiIpLCB0LnBhcmVudCgpLnJlbW92ZUNsYXNzKCJmYW5jeWJveC1pcy1zY2FsaW5nIikpOwogICAgICB9CiAgICB9LCBuLmZuLmZhbmN5Ym94ID0gZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGU7CiAgICAgIHJldHVybiB0ID0gdCB8fCB7fSwgZSA9IHQuc2VsZWN0b3IgfHwgITEsIGUgPyBuKCJib2R5Iikub2ZmKCJjbGljay5mYi1zdGFydCIsIGUpLm9uKCJjbGljay5mYi1zdGFydCIsIGUsIHsKICAgICAgICBvcHRpb25zOiB0CiAgICAgIH0sIGkpIDogdGhpcy5vZmYoImNsaWNrLmZiLXN0YXJ0Iikub24oImNsaWNrLmZiLXN0YXJ0IiwgewogICAgICAgIGl0ZW1zOiB0aGlzLAogICAgICAgIG9wdGlvbnM6IHQKICAgICAgfSwgaSksIHRoaXM7CiAgICB9LCByLm9uKCJjbGljay5mYi1zdGFydCIsICJbZGF0YS1mYW5jeWJveF0iLCBpKSwgci5vbigiY2xpY2suZmItc3RhcnQiLCAiW2RhdGEtZmFuY3lib3gtdHJpZ2dlcl0iLCBmdW5jdGlvbiAodCkgewogICAgICBuKCdbZGF0YS1mYW5jeWJveD0iJyArIG4odGhpcykuYXR0cigiZGF0YS1mYW5jeWJveC10cmlnZ2VyIikgKyAnIl0nKS5lcShuKHRoaXMpLmF0dHIoImRhdGEtZmFuY3lib3gtaW5kZXgiKSB8fCAwKS50cmlnZ2VyKCJjbGljay5mYi1zdGFydCIsIHsKICAgICAgICAkdHJpZ2dlcjogbih0aGlzKQogICAgICB9KTsKICAgIH0pLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0ID0gbnVsbDsKICAgICAgci5vbigibW91c2Vkb3duIG1vdXNldXAgZm9jdXMgYmx1ciIsICIuZmFuY3lib3gtYnV0dG9uIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBzd2l0Y2ggKGUudHlwZSkgewogICAgICAgICAgY2FzZSAibW91c2Vkb3duIjoKICAgICAgICAgICAgdCA9IG4odGhpcyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgIm1vdXNldXAiOgogICAgICAgICAgICB0ID0gbnVsbDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZm9jdXNpbiI6CiAgICAgICAgICAgIG4oIi5mYW5jeWJveC1idXR0b24iKS5yZW1vdmVDbGFzcygiZmFuY3lib3gtZm9jdXMiKSwgbih0aGlzKS5pcyh0KSB8fCBuKHRoaXMpLmlzKCJbZGlzYWJsZWRdIikgfHwgbih0aGlzKS5hZGRDbGFzcygiZmFuY3lib3gtZm9jdXMiKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiZm9jdXNvdXQiOgogICAgICAgICAgICBuKCIuZmFuY3lib3gtYnV0dG9uIikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWZvY3VzIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0oKTsKICB9Cn0od2luZG93LCBkb2N1bWVudCwgalF1ZXJ5KSwgZnVuY3Rpb24gKHQpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBlID0gewogICAgeW91dHViZTogewogICAgICBtYXRjaGVyOiAvKHlvdXR1YmVcLmNvbXx5b3V0dVwuYmV8eW91dHViZVwtbm9jb29raWVcLmNvbSlcLyh3YXRjaFw/KC4qJik/dj18dlwvfHVcL3xlbWJlZFwvPyk/KHZpZGVvc2VyaWVzXD9saXN0PSguKil8W1x3LV17MTF9fFw/bGlzdFR5cGU9KC4qKSZsaXN0PSguKikpKC4qKS9pLAogICAgICBwYXJhbXM6IHsKICAgICAgICBhdXRvcGxheTogMSwKICAgICAgICBhdXRvaGlkZTogMSwKICAgICAgICBmczogMSwKICAgICAgICByZWw6IDAsCiAgICAgICAgaGQ6IDEsCiAgICAgICAgd21vZGU6ICJ0cmFuc3BhcmVudCIsCiAgICAgICAgZW5hYmxlanNhcGk6IDEsCiAgICAgICAgaHRtbDU6IDEKICAgICAgfSwKICAgICAgcGFyYW1QbGFjZTogOCwKICAgICAgdHlwZTogImlmcmFtZSIsCiAgICAgIHVybDogImh0dHBzOi8vd3d3LnlvdXR1YmUtbm9jb29raWUuY29tL2VtYmVkLyQ0IiwKICAgICAgdGh1bWI6ICJodHRwczovL2ltZy55b3V0dWJlLmNvbS92aS8kNC9ocWRlZmF1bHQuanBnIgogICAgfSwKICAgIHZpbWVvOiB7CiAgICAgIG1hdGNoZXI6IC9eLit2aW1lby5jb21cLyguKlwvKT8oW1xkXSspKC4qKT8vLAogICAgICBwYXJhbXM6IHsKICAgICAgICBhdXRvcGxheTogMSwKICAgICAgICBoZDogMSwKICAgICAgICBzaG93X3RpdGxlOiAxLAogICAgICAgIHNob3dfYnlsaW5lOiAxLAogICAgICAgIHNob3dfcG9ydHJhaXQ6IDAsCiAgICAgICAgZnVsbHNjcmVlbjogMQogICAgICB9LAogICAgICBwYXJhbVBsYWNlOiAzLAogICAgICB0eXBlOiAiaWZyYW1lIiwKICAgICAgdXJsOiAiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyQyIgogICAgfSwKICAgIGluc3RhZ3JhbTogewogICAgICBtYXRjaGVyOiAvKGluc3RhZ3JcLmFtfGluc3RhZ3JhbVwuY29tKVwvcFwvKFthLXpBLVowLTlfXC1dKylcLz8vaSwKICAgICAgdHlwZTogImltYWdlIiwKICAgICAgdXJsOiAiLy8kMS9wLyQyL21lZGlhLz9zaXplPWwiCiAgICB9LAogICAgZ21hcF9wbGFjZTogewogICAgICBtYXRjaGVyOiAvKG1hcHNcLik/Z29vZ2xlXC4oW2Etel17MiwzfShcLlthLXpdezJ9KT8pXC8oKChtYXBzXC8ocGxhY2VcLyguKilcLyk/XEAoLiopLChcZCsuP1xkKz8peikpfChcP2xsPSkpKC4qKT8vaSwKICAgICAgdHlwZTogImlmcmFtZSIsCiAgICAgIHVybDogZnVuY3Rpb24gdXJsKHQpIHsKICAgICAgICByZXR1cm4gIi8vbWFwcy5nb29nbGUuIiArIHRbMl0gKyAiLz9sbD0iICsgKHRbOV0gPyB0WzldICsgIiZ6PSIgKyBNYXRoLmZsb29yKHRbMTBdKSArICh0WzEyXSA/IHRbMTJdLnJlcGxhY2UoL15cLy8sICImIikgOiAiIikgOiB0WzEyXSArICIiKS5yZXBsYWNlKC9cPy8sICImIikgKyAiJm91dHB1dD0iICsgKHRbMTJdICYmIHRbMTJdLmluZGV4T2YoImxheWVyPWMiKSA+IDAgPyAic3ZlbWJlZCIgOiAiZW1iZWQiKTsKICAgICAgfQogICAgfSwKICAgIGdtYXBfc2VhcmNoOiB7CiAgICAgIG1hdGNoZXI6IC8obWFwc1wuKT9nb29nbGVcLihbYS16XXsyLDN9KFwuW2Etel17Mn0pPylcLyhtYXBzXC9zZWFyY2hcLykoLiopL2ksCiAgICAgIHR5cGU6ICJpZnJhbWUiLAogICAgICB1cmw6IGZ1bmN0aW9uIHVybCh0KSB7CiAgICAgICAgcmV0dXJuICIvL21hcHMuZ29vZ2xlLiIgKyB0WzJdICsgIi9tYXBzP3E9IiArIHRbNV0ucmVwbGFjZSgicXVlcnk9IiwgInE9IikucmVwbGFjZSgiYXBpPTEiLCAiIikgKyAiJm91dHB1dD1lbWJlZCI7CiAgICAgIH0KICAgIH0KICB9LAogICAgICBuID0gZnVuY3Rpb24gbihlLCBfbiwgbykgewogICAgaWYgKGUpIHJldHVybiBvID0gbyB8fCAiIiwgIm9iamVjdCIgPT09IHQudHlwZShvKSAmJiAobyA9IHQucGFyYW0obywgITApKSwgdC5lYWNoKF9uLCBmdW5jdGlvbiAodCwgbikgewogICAgICBlID0gZS5yZXBsYWNlKCIkIiArIHQsIG4gfHwgIiIpOwogICAgfSksIG8ubGVuZ3RoICYmIChlICs9IChlLmluZGV4T2YoIj8iKSA+IDAgPyAiJiIgOiAiPyIpICsgbyksIGU7CiAgfTsKCiAgdChkb2N1bWVudCkub24oIm9iamVjdE5lZWRzVHlwZS5mYiIsIGZ1bmN0aW9uIChvLCBpLCBhKSB7CiAgICB2YXIgcywKICAgICAgICByLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBkLAogICAgICAgIHUsCiAgICAgICAgZiwKICAgICAgICBwID0gYS5zcmMgfHwgIiIsCiAgICAgICAgaCA9ICExOwogICAgcyA9IHQuZXh0ZW5kKCEwLCB7fSwgZSwgYS5vcHRzLm1lZGlhKSwgdC5lYWNoKHMsIGZ1bmN0aW9uIChlLCBvKSB7CiAgICAgIGlmIChjID0gcC5tYXRjaChvLm1hdGNoZXIpKSB7CiAgICAgICAgaWYgKGggPSBvLnR5cGUsIGYgPSBlLCB1ID0ge30sIG8ucGFyYW1QbGFjZSAmJiBjW28ucGFyYW1QbGFjZV0pIHsKICAgICAgICAgIGQgPSBjW28ucGFyYW1QbGFjZV0sICI/IiA9PSBkWzBdICYmIChkID0gZC5zdWJzdHJpbmcoMSkpLCBkID0gZC5zcGxpdCgiJiIpOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5sZW5ndGg7ICsraSkgewogICAgICAgICAgICB2YXIgcyA9IGRbaV0uc3BsaXQoIj0iLCAyKTsKICAgICAgICAgICAgMiA9PSBzLmxlbmd0aCAmJiAodVtzWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChzWzFdLnJlcGxhY2UoL1wrL2csICIgIikpKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBsID0gdC5leHRlbmQoITAsIHt9LCBvLnBhcmFtcywgYS5vcHRzW2VdLCB1KSwgcCA9ICJmdW5jdGlvbiIgPT09IHQudHlwZShvLnVybCkgPyBvLnVybC5jYWxsKHRoaXMsIGMsIGwsIGEpIDogbihvLnVybCwgYywgbCksIHIgPSAiZnVuY3Rpb24iID09PSB0LnR5cGUoby50aHVtYikgPyBvLnRodW1iLmNhbGwodGhpcywgYywgbCwgYSkgOiBuKG8udGh1bWIsIGMpLCAieW91dHViZSIgPT09IGUgPyBwID0gcC5yZXBsYWNlKC8mdD0oKFxkKyltKT8oXGQrKXMvLCBmdW5jdGlvbiAodCwgZSwgbiwgbykgewogICAgICAgICAgcmV0dXJuICImc3RhcnQ9IiArICgobiA/IDYwICogcGFyc2VJbnQobiwgMTApIDogMCkgKyBwYXJzZUludChvLCAxMCkpOwogICAgICAgIH0pIDogInZpbWVvIiA9PT0gZSAmJiAocCA9IHAucmVwbGFjZSgiJiUyMyIsICIjIikpLCAhMTsKICAgICAgfQogICAgfSksIGggPyAoYS5vcHRzLnRodW1iIHx8IGEub3B0cy4kdGh1bWIgJiYgYS5vcHRzLiR0aHVtYi5sZW5ndGggfHwgKGEub3B0cy50aHVtYiA9IHIpLCAiaWZyYW1lIiA9PT0gaCAmJiAoYS5vcHRzID0gdC5leHRlbmQoITAsIGEub3B0cywgewogICAgICBpZnJhbWU6IHsKICAgICAgICBwcmVsb2FkOiAhMSwKICAgICAgICBhdHRyOiB7CiAgICAgICAgICBzY3JvbGxpbmc6ICJubyIKICAgICAgICB9CiAgICAgIH0KICAgIH0pKSwgdC5leHRlbmQoYSwgewogICAgICB0eXBlOiBoLAogICAgICBzcmM6IHAsCiAgICAgIG9yaWdTcmM6IGEuc3JjLAogICAgICBjb250ZW50U291cmNlOiBmLAogICAgICBjb250ZW50VHlwZTogImltYWdlIiA9PT0gaCA/ICJpbWFnZSIgOiAiZ21hcF9wbGFjZSIgPT0gZiB8fCAiZ21hcF9zZWFyY2giID09IGYgPyAibWFwIiA6ICJ2aWRlbyIKICAgIH0pKSA6IHAgJiYgKGEudHlwZSA9IGEub3B0cy5kZWZhdWx0VHlwZSk7CiAgfSk7CiAgdmFyIG8gPSB7CiAgICB5b3V0dWJlOiB7CiAgICAgIHNyYzogImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGkiLAogICAgICBjbGFzczogIllUIiwKICAgICAgbG9hZGluZzogITEsCiAgICAgIGxvYWRlZDogITEKICAgIH0sCiAgICB2aW1lbzogewogICAgICBzcmM6ICJodHRwczovL3BsYXllci52aW1lby5jb20vYXBpL3BsYXllci5qcyIsCiAgICAgIGNsYXNzOiAiVmltZW8iLAogICAgICBsb2FkaW5nOiAhMSwKICAgICAgbG9hZGVkOiAhMQogICAgfSwKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQodCkgewogICAgICB2YXIgZSwKICAgICAgICAgIG4gPSB0aGlzOwogICAgICBpZiAodGhpc1t0XS5sb2FkZWQpIHJldHVybiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIG4uZG9uZSh0KTsKICAgICAgfSk7CiAgICAgIHRoaXNbdF0ubG9hZGluZyB8fCAodGhpc1t0XS5sb2FkaW5nID0gITAsIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSwgZS50eXBlID0gInRleHQvamF2YXNjcmlwdCIsIGUuc3JjID0gdGhpc1t0XS5zcmMsICJ5b3V0dWJlIiA9PT0gdCA/IHdpbmRvdy5vbllvdVR1YmVJZnJhbWVBUElSZWFkeSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBuW3RdLmxvYWRlZCA9ICEwLCBuLmRvbmUodCk7CiAgICAgIH0gOiBlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBuW3RdLmxvYWRlZCA9ICEwLCBuLmRvbmUodCk7CiAgICAgIH0sIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSkpOwogICAgfSwKICAgIGRvbmU6IGZ1bmN0aW9uIGRvbmUoZSkgewogICAgICB2YXIgbiwgbywgaTsKICAgICAgInlvdXR1YmUiID09PSBlICYmIGRlbGV0ZSB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHksIChuID0gdC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpKSAmJiAobyA9IG4uY3VycmVudC4kY29udGVudC5maW5kKCJpZnJhbWUiKSwgInlvdXR1YmUiID09PSBlICYmIHZvaWQgMCAhPT0gWVQgJiYgWVQgPyBpID0gbmV3IFlULlBsYXllcihvLmF0dHIoImlkIiksIHsKICAgICAgICBldmVudHM6IHsKICAgICAgICAgIG9uU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uIG9uU3RhdGVDaGFuZ2UodCkgewogICAgICAgICAgICAwID09IHQuZGF0YSAmJiBuLm5leHQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pIDogInZpbWVvIiA9PT0gZSAmJiB2b2lkIDAgIT09IFZpbWVvICYmIFZpbWVvICYmIChpID0gbmV3IFZpbWVvLlBsYXllcihvKSwgaS5vbigiZW5kZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgbi5uZXh0KCk7CiAgICAgIH0pKSk7CiAgICB9CiAgfTsKICB0KGRvY3VtZW50KS5vbih7CiAgICAiYWZ0ZXJTaG93LmZiIjogZnVuY3Rpb24gYWZ0ZXJTaG93RmIodCwgZSwgbikgewogICAgICBlLmdyb3VwLmxlbmd0aCA+IDEgJiYgKCJ5b3V0dWJlIiA9PT0gbi5jb250ZW50U291cmNlIHx8ICJ2aW1lbyIgPT09IG4uY29udGVudFNvdXJjZSkgJiYgby5sb2FkKG4uY29udGVudFNvdXJjZSk7CiAgICB9CiAgfSk7Cn0oalF1ZXJ5KSwgZnVuY3Rpb24gKHQsIGUsIG4pIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBvID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHQub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5zZXRUaW1lb3V0KGUsIDFlMyAvIDYwKTsKICAgIH07CiAgfSgpLAogICAgICBpID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHQuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgdC53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB0Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHQub0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChlKSB7CiAgICAgIHQuY2xlYXJUaW1lb3V0KGUpOwogICAgfTsKICB9KCksCiAgICAgIGEgPSBmdW5jdGlvbiBhKGUpIHsKICAgIHZhciBuID0gW107CiAgICBlID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUgfHwgdC5lLCBlID0gZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPyBlLnRvdWNoZXMgOiBlLmNoYW5nZWRUb3VjaGVzICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID8gZS5jaGFuZ2VkVG91Y2hlcyA6IFtlXTsKCiAgICBmb3IgKHZhciBvIGluIGUpIHsKICAgICAgZVtvXS5wYWdlWCA/IG4ucHVzaCh7CiAgICAgICAgeDogZVtvXS5wYWdlWCwKICAgICAgICB5OiBlW29dLnBhZ2VZCiAgICAgIH0pIDogZVtvXS5jbGllbnRYICYmIG4ucHVzaCh7CiAgICAgICAgeDogZVtvXS5jbGllbnRYLAogICAgICAgIHk6IGVbb10uY2xpZW50WQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9LAogICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBuKSB7CiAgICByZXR1cm4gZSAmJiB0ID8gIngiID09PSBuID8gdC54IC0gZS54IDogInkiID09PSBuID8gdC55IC0gZS55IDogTWF0aC5zcXJ0KE1hdGgucG93KHQueCAtIGUueCwgMikgKyBNYXRoLnBvdyh0LnkgLSBlLnksIDIpKSA6IDA7CiAgfSwKICAgICAgciA9IGZ1bmN0aW9uIHIodCkgewogICAgaWYgKHQuaXMoJ2EsYXJlYSxidXR0b24sW3JvbGU9ImJ1dHRvbiJdLGlucHV0LGxhYmVsLHNlbGVjdCxzdW1tYXJ5LHRleHRhcmVhLHZpZGVvLGF1ZGlvLGlmcmFtZScpIHx8IG4uaXNGdW5jdGlvbih0LmdldCgwKS5vbmNsaWNrKSB8fCB0LmRhdGEoInNlbGVjdGFibGUiKSkgcmV0dXJuICEwOwoKICAgIGZvciAodmFyIGUgPSAwLCBvID0gdFswXS5hdHRyaWJ1dGVzLCBpID0gby5sZW5ndGg7IGUgPCBpOyBlKyspIHsKICAgICAgaWYgKCJkYXRhLWZhbmN5Ym94LSIgPT09IG9bZV0ubm9kZU5hbWUuc3Vic3RyKDAsIDE0KSkgcmV0dXJuICEwOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LAogICAgICBjID0gZnVuY3Rpb24gYyhlKSB7CiAgICB2YXIgbiA9IHQuZ2V0Q29tcHV0ZWRTdHlsZShlKVsib3ZlcmZsb3cteSJdLAogICAgICAgIG8gPSB0LmdldENvbXB1dGVkU3R5bGUoZSlbIm92ZXJmbG93LXgiXSwKICAgICAgICBpID0gKCJzY3JvbGwiID09PSBuIHx8ICJhdXRvIiA9PT0gbikgJiYgZS5zY3JvbGxIZWlnaHQgPiBlLmNsaWVudEhlaWdodCwKICAgICAgICBhID0gKCJzY3JvbGwiID09PSBvIHx8ICJhdXRvIiA9PT0gbykgJiYgZS5zY3JvbGxXaWR0aCA+IGUuY2xpZW50V2lkdGg7CiAgICByZXR1cm4gaSB8fCBhOwogIH0sCiAgICAgIGwgPSBmdW5jdGlvbiBsKHQpIHsKICAgIGZvciAodmFyIGUgPSAhMTs7KSB7CiAgICAgIGlmIChlID0gYyh0LmdldCgwKSkpIGJyZWFrOwogICAgICBpZiAodCA9IHQucGFyZW50KCksICF0Lmxlbmd0aCB8fCB0Lmhhc0NsYXNzKCJmYW5jeWJveC1zdGFnZSIpIHx8IHQuaXMoImJvZHkiKSkgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfSwKICAgICAgZCA9IGZ1bmN0aW9uIGQodCkgewogICAgdmFyIGUgPSB0aGlzOwogICAgZS5pbnN0YW5jZSA9IHQsIGUuJGJnID0gdC4kcmVmcy5iZywgZS4kc3RhZ2UgPSB0LiRyZWZzLnN0YWdlLCBlLiRjb250YWluZXIgPSB0LiRyZWZzLmNvbnRhaW5lciwgZS5kZXN0cm95KCksIGUuJGNvbnRhaW5lci5vbigidG91Y2hzdGFydC5mYi50b3VjaCBtb3VzZWRvd24uZmIudG91Y2giLCBuLnByb3h5KGUsICJvbnRvdWNoc3RhcnQiKSk7CiAgfTsKCiAgZC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpczsKICAgIHQuJGNvbnRhaW5lci5vZmYoIi5mYi50b3VjaCIpLCBuKGUpLm9mZigiLmZiLnRvdWNoIiksIHQucmVxdWVzdElkICYmIChpKHQucmVxdWVzdElkKSwgdC5yZXF1ZXN0SWQgPSBudWxsKSwgdC50YXBwZWQgJiYgKGNsZWFyVGltZW91dCh0LnRhcHBlZCksIHQudGFwcGVkID0gbnVsbCk7CiAgfSwgZC5wcm90b3R5cGUub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24gKG8pIHsKICAgIHZhciBpID0gdGhpcywKICAgICAgICBjID0gbihvLnRhcmdldCksCiAgICAgICAgZCA9IGkuaW5zdGFuY2UsCiAgICAgICAgdSA9IGQuY3VycmVudCwKICAgICAgICBmID0gdS4kc2xpZGUsCiAgICAgICAgcCA9IHUuJGNvbnRlbnQsCiAgICAgICAgaCA9ICJ0b3VjaHN0YXJ0IiA9PSBvLnR5cGU7CgogICAgaWYgKGggJiYgaS4kY29udGFpbmVyLm9mZigibW91c2Vkb3duLmZiLnRvdWNoIiksICghby5vcmlnaW5hbEV2ZW50IHx8IDIgIT0gby5vcmlnaW5hbEV2ZW50LmJ1dHRvbikgJiYgZi5sZW5ndGggJiYgYy5sZW5ndGggJiYgIXIoYykgJiYgIXIoYy5wYXJlbnQoKSkgJiYgKGMuaXMoImltZyIpIHx8ICEoby5vcmlnaW5hbEV2ZW50LmNsaWVudFggPiBjWzBdLmNsaWVudFdpZHRoICsgYy5vZmZzZXQoKS5sZWZ0KSkpIHsKICAgICAgaWYgKCF1IHx8IGQuaXNBbmltYXRpbmcgfHwgdS4kc2xpZGUuaGFzQ2xhc3MoImZhbmN5Ym94LWFuaW1hdGVkIikpIHJldHVybiBvLnN0b3BQcm9wYWdhdGlvbigpLCB2b2lkIG8ucHJldmVudERlZmF1bHQoKTsKICAgICAgaS5yZWFsUG9pbnRzID0gaS5zdGFydFBvaW50cyA9IGEobyksIGkuc3RhcnRQb2ludHMubGVuZ3RoICYmICh1LnRvdWNoICYmIG8uc3RvcFByb3BhZ2F0aW9uKCksIGkuc3RhcnRFdmVudCA9IG8sIGkuY2FuVGFwID0gITAsIGkuJHRhcmdldCA9IGMsIGkuJGNvbnRlbnQgPSBwLCBpLm9wdHMgPSB1Lm9wdHMudG91Y2gsIGkuaXNQYW5uaW5nID0gITEsIGkuaXNTd2lwaW5nID0gITEsIGkuaXNab29taW5nID0gITEsIGkuaXNTY3JvbGxpbmcgPSAhMSwgaS5jYW5QYW4gPSBkLmNhblBhbigpLCBpLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBpLmRpc3RhbmNlWCA9IGkuZGlzdGFuY2VZID0gaS5kaXN0YW5jZSA9IDAsIGkuY2FudmFzV2lkdGggPSBNYXRoLnJvdW5kKGZbMF0uY2xpZW50V2lkdGgpLCBpLmNhbnZhc0hlaWdodCA9IE1hdGgucm91bmQoZlswXS5jbGllbnRIZWlnaHQpLCBpLmNvbnRlbnRMYXN0UG9zID0gbnVsbCwgaS5jb250ZW50U3RhcnRQb3MgPSBuLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShpLiRjb250ZW50KSB8fCB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGxlZnQ6IDAKICAgICAgfSwgaS5zbGlkZXJTdGFydFBvcyA9IG4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGYpLCBpLnN0YWdlUG9zID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoZC4kcmVmcy5zdGFnZSksIGkuc2xpZGVyU3RhcnRQb3MudG9wIC09IGkuc3RhZ2VQb3MudG9wLCBpLnNsaWRlclN0YXJ0UG9zLmxlZnQgLT0gaS5zdGFnZVBvcy5sZWZ0LCBpLmNvbnRlbnRTdGFydFBvcy50b3AgLT0gaS5zdGFnZVBvcy50b3AsIGkuY29udGVudFN0YXJ0UG9zLmxlZnQgLT0gaS5zdGFnZVBvcy5sZWZ0LCBuKGUpLm9mZigiLmZiLnRvdWNoIikub24oaCA/ICJ0b3VjaGVuZC5mYi50b3VjaCB0b3VjaGNhbmNlbC5mYi50b3VjaCIgOiAibW91c2V1cC5mYi50b3VjaCBtb3VzZWxlYXZlLmZiLnRvdWNoIiwgbi5wcm94eShpLCAib250b3VjaGVuZCIpKS5vbihoID8gInRvdWNobW92ZS5mYi50b3VjaCIgOiAibW91c2Vtb3ZlLmZiLnRvdWNoIiwgbi5wcm94eShpLCAib250b3VjaG1vdmUiKSksIG4uZmFuY3lib3guaXNNb2JpbGUgJiYgZS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBpLm9uc2Nyb2xsLCAhMCksICgoaS5vcHRzIHx8IGkuY2FuUGFuKSAmJiAoYy5pcyhpLiRzdGFnZSkgfHwgaS4kc3RhZ2UuZmluZChjKS5sZW5ndGgpIHx8IChjLmlzKCIuZmFuY3lib3gtaW1hZ2UiKSAmJiBvLnByZXZlbnREZWZhdWx0KCksIG4uZmFuY3lib3guaXNNb2JpbGUgJiYgYy5wYXJlbnRzKCIuZmFuY3lib3gtY2FwdGlvbiIpLmxlbmd0aCkpICYmIChpLmlzU2Nyb2xsYWJsZSA9IGwoYykgfHwgbChjLnBhcmVudCgpKSwgbi5mYW5jeWJveC5pc01vYmlsZSAmJiBpLmlzU2Nyb2xsYWJsZSB8fCBvLnByZXZlbnREZWZhdWx0KCksICgxID09PSBpLnN0YXJ0UG9pbnRzLmxlbmd0aCB8fCB1Lmhhc0Vycm9yKSAmJiAoaS5jYW5QYW4gPyAobi5mYW5jeWJveC5zdG9wKGkuJGNvbnRlbnQpLCBpLmlzUGFubmluZyA9ICEwKSA6IGkuaXNTd2lwaW5nID0gITAsIGkuJGNvbnRhaW5lci5hZGRDbGFzcygiZmFuY3lib3gtaXMtZ3JhYmJpbmciKSksIDIgPT09IGkuc3RhcnRQb2ludHMubGVuZ3RoICYmICJpbWFnZSIgPT09IHUudHlwZSAmJiAodS5pc0xvYWRlZCB8fCB1LiRnaG9zdCkgJiYgKGkuY2FuVGFwID0gITEsIGkuaXNTd2lwaW5nID0gITEsIGkuaXNQYW5uaW5nID0gITEsIGkuaXNab29taW5nID0gITAsIG4uZmFuY3lib3guc3RvcChpLiRjb250ZW50KSwgaS5jZW50ZXJQb2ludFN0YXJ0WCA9IDAuNSAqIChpLnN0YXJ0UG9pbnRzWzBdLnggKyBpLnN0YXJ0UG9pbnRzWzFdLngpIC0gbih0KS5zY3JvbGxMZWZ0KCksIGkuY2VudGVyUG9pbnRTdGFydFkgPSAwLjUgKiAoaS5zdGFydFBvaW50c1swXS55ICsgaS5zdGFydFBvaW50c1sxXS55KSAtIG4odCkuc2Nyb2xsVG9wKCksIGkucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRYID0gKGkuY2VudGVyUG9pbnRTdGFydFggLSBpLmNvbnRlbnRTdGFydFBvcy5sZWZ0KSAvIGkuY29udGVudFN0YXJ0UG9zLndpZHRoLCBpLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WSA9IChpLmNlbnRlclBvaW50U3RhcnRZIC0gaS5jb250ZW50U3RhcnRQb3MudG9wKSAvIGkuY29udGVudFN0YXJ0UG9zLmhlaWdodCwgaS5zdGFydERpc3RhbmNlQmV0d2VlbkZpbmdlcnMgPSBzKGkuc3RhcnRQb2ludHNbMF0sIGkuc3RhcnRQb2ludHNbMV0pKSkpOwogICAgfQogIH0sIGQucHJvdG90eXBlLm9uc2Nyb2xsID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBuID0gdGhpczsKICAgIG4uaXNTY3JvbGxpbmcgPSAhMCwgZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBuLm9uc2Nyb2xsLCAhMCk7CiAgfSwgZC5wcm90b3R5cGUub250b3VjaG1vdmUgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzOwogICAgcmV0dXJuIHZvaWQgMCAhPT0gdC5vcmlnaW5hbEV2ZW50LmJ1dHRvbnMgJiYgMCA9PT0gdC5vcmlnaW5hbEV2ZW50LmJ1dHRvbnMgPyB2b2lkIGUub250b3VjaGVuZCh0KSA6IGUuaXNTY3JvbGxpbmcgPyB2b2lkIChlLmNhblRhcCA9ICExKSA6IChlLm5ld1BvaW50cyA9IGEodCksIHZvaWQgKChlLm9wdHMgfHwgZS5jYW5QYW4pICYmIGUubmV3UG9pbnRzLmxlbmd0aCAmJiBlLm5ld1BvaW50cy5sZW5ndGggJiYgKGUuaXNTd2lwaW5nICYmICEwID09PSBlLmlzU3dpcGluZyB8fCB0LnByZXZlbnREZWZhdWx0KCksIGUuZGlzdGFuY2VYID0gcyhlLm5ld1BvaW50c1swXSwgZS5zdGFydFBvaW50c1swXSwgIngiKSwgZS5kaXN0YW5jZVkgPSBzKGUubmV3UG9pbnRzWzBdLCBlLnN0YXJ0UG9pbnRzWzBdLCAieSIpLCBlLmRpc3RhbmNlID0gcyhlLm5ld1BvaW50c1swXSwgZS5zdGFydFBvaW50c1swXSksIGUuZGlzdGFuY2UgPiAwICYmIChlLmlzU3dpcGluZyA/IGUub25Td2lwZSh0KSA6IGUuaXNQYW5uaW5nID8gZS5vblBhbigpIDogZS5pc1pvb21pbmcgJiYgZS5vblpvb20oKSkpKSk7CiAgfSwgZC5wcm90b3R5cGUub25Td2lwZSA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgYSwKICAgICAgICBzID0gdGhpcywKICAgICAgICByID0gcy5pbnN0YW5jZSwKICAgICAgICBjID0gcy5pc1N3aXBpbmcsCiAgICAgICAgbCA9IHMuc2xpZGVyU3RhcnRQb3MubGVmdCB8fCAwOwogICAgaWYgKCEwICE9PSBjKSAieCIgPT0gYyAmJiAocy5kaXN0YW5jZVggPiAwICYmIChzLmluc3RhbmNlLmdyb3VwLmxlbmd0aCA8IDIgfHwgMCA9PT0gcy5pbnN0YW5jZS5jdXJyZW50LmluZGV4ICYmICFzLmluc3RhbmNlLmN1cnJlbnQub3B0cy5sb29wKSA/IGwgKz0gTWF0aC5wb3cocy5kaXN0YW5jZVgsIDAuOCkgOiBzLmRpc3RhbmNlWCA8IDAgJiYgKHMuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMiB8fCBzLmluc3RhbmNlLmN1cnJlbnQuaW5kZXggPT09IHMuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIC0gMSAmJiAhcy5pbnN0YW5jZS5jdXJyZW50Lm9wdHMubG9vcCkgPyBsIC09IE1hdGgucG93KC1zLmRpc3RhbmNlWCwgMC44KSA6IGwgKz0gcy5kaXN0YW5jZVgpLCBzLnNsaWRlckxhc3RQb3MgPSB7CiAgICAgIHRvcDogIngiID09IGMgPyAwIDogcy5zbGlkZXJTdGFydFBvcy50b3AgKyBzLmRpc3RhbmNlWSwKICAgICAgbGVmdDogbAogICAgfSwgcy5yZXF1ZXN0SWQgJiYgKGkocy5yZXF1ZXN0SWQpLCBzLnJlcXVlc3RJZCA9IG51bGwpLCBzLnJlcXVlc3RJZCA9IG8oZnVuY3Rpb24gKCkgewogICAgICBzLnNsaWRlckxhc3RQb3MgJiYgKG4uZWFjaChzLmluc3RhbmNlLnNsaWRlcywgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB2YXIgbyA9IGUucG9zIC0gcy5pbnN0YW5jZS5jdXJyUG9zOwogICAgICAgIG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKGUuJHNsaWRlLCB7CiAgICAgICAgICB0b3A6IHMuc2xpZGVyTGFzdFBvcy50b3AsCiAgICAgICAgICBsZWZ0OiBzLnNsaWRlckxhc3RQb3MubGVmdCArIG8gKiBzLmNhbnZhc1dpZHRoICsgbyAqIGUub3B0cy5ndXR0ZXIKICAgICAgICB9KTsKICAgICAgfSksIHMuJGNvbnRhaW5lci5hZGRDbGFzcygiZmFuY3lib3gtaXMtc2xpZGluZyIpKTsKICAgIH0pO2Vsc2UgaWYgKE1hdGguYWJzKHMuZGlzdGFuY2UpID4gMTApIHsKICAgICAgaWYgKHMuY2FuVGFwID0gITEsIHIuZ3JvdXAubGVuZ3RoIDwgMiAmJiBzLm9wdHMudmVydGljYWwgPyBzLmlzU3dpcGluZyA9ICJ5IiA6IHIuaXNEcmFnZ2luZyB8fCAhMSA9PT0gcy5vcHRzLnZlcnRpY2FsIHx8ICJhdXRvIiA9PT0gcy5vcHRzLnZlcnRpY2FsICYmIG4odCkud2lkdGgoKSA+IDgwMCA/IHMuaXNTd2lwaW5nID0gIngiIDogKGEgPSBNYXRoLmFicygxODAgKiBNYXRoLmF0YW4yKHMuZGlzdGFuY2VZLCBzLmRpc3RhbmNlWCkgLyBNYXRoLlBJKSwgcy5pc1N3aXBpbmcgPSBhID4gNDUgJiYgYSA8IDEzNSA/ICJ5IiA6ICJ4IiksICJ5IiA9PT0gcy5pc1N3aXBpbmcgJiYgbi5mYW5jeWJveC5pc01vYmlsZSAmJiBzLmlzU2Nyb2xsYWJsZSkgcmV0dXJuIHZvaWQgKHMuaXNTY3JvbGxpbmcgPSAhMCk7CiAgICAgIHIuaXNEcmFnZ2luZyA9IHMuaXNTd2lwaW5nLCBzLnN0YXJ0UG9pbnRzID0gcy5uZXdQb2ludHMsIG4uZWFjaChyLnNsaWRlcywgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB2YXIgbywgaTsKICAgICAgICBuLmZhbmN5Ym94LnN0b3AoZS4kc2xpZGUpLCBvID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoZS4kc2xpZGUpLCBpID0gbi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoci4kcmVmcy5zdGFnZSksIGUuJHNsaWRlLmNzcyh7CiAgICAgICAgICB0cmFuc2Zvcm06ICIiLAogICAgICAgICAgb3BhY2l0eTogIiIsCiAgICAgICAgICAidHJhbnNpdGlvbi1kdXJhdGlvbiI6ICIiCiAgICAgICAgfSkucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWFuaW1hdGVkIikucmVtb3ZlQ2xhc3MoZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgIHJldHVybiAoZS5tYXRjaCgvKF58XHMpZmFuY3lib3gtZngtXFMrL2cpIHx8IFtdKS5qb2luKCIgIik7CiAgICAgICAgfSksIGUucG9zID09PSByLmN1cnJlbnQucG9zICYmIChzLnNsaWRlclN0YXJ0UG9zLnRvcCA9IG8udG9wIC0gaS50b3AsIHMuc2xpZGVyU3RhcnRQb3MubGVmdCA9IG8ubGVmdCAtIGkubGVmdCksIG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKGUuJHNsaWRlLCB7CiAgICAgICAgICB0b3A6IG8udG9wIC0gaS50b3AsCiAgICAgICAgICBsZWZ0OiBvLmxlZnQgLSBpLmxlZnQKICAgICAgICB9KTsKICAgICAgfSksIHIuU2xpZGVTaG93ICYmIHIuU2xpZGVTaG93LmlzQWN0aXZlICYmIHIuU2xpZGVTaG93LnN0b3AoKTsKICAgIH0KICB9LCBkLnByb3RvdHlwZS5vblBhbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpczsKICAgIGlmIChzKHQubmV3UG9pbnRzWzBdLCB0LnJlYWxQb2ludHNbMF0pIDwgKG4uZmFuY3lib3guaXNNb2JpbGUgPyAxMCA6IDUpKSByZXR1cm4gdm9pZCAodC5zdGFydFBvaW50cyA9IHQubmV3UG9pbnRzKTsKICAgIHQuY2FuVGFwID0gITEsIHQuY29udGVudExhc3RQb3MgPSB0LmxpbWl0TW92ZW1lbnQoKSwgdC5yZXF1ZXN0SWQgJiYgaSh0LnJlcXVlc3RJZCksIHQucmVxdWVzdElkID0gbyhmdW5jdGlvbiAoKSB7CiAgICAgIG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKHQuJGNvbnRlbnQsIHQuY29udGVudExhc3RQb3MpOwogICAgfSk7CiAgfSwgZC5wcm90b3R5cGUubGltaXRNb3ZlbWVudCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0LAogICAgICAgIGUsCiAgICAgICAgbiwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICBzID0gdGhpcywKICAgICAgICByID0gcy5jYW52YXNXaWR0aCwKICAgICAgICBjID0gcy5jYW52YXNIZWlnaHQsCiAgICAgICAgbCA9IHMuZGlzdGFuY2VYLAogICAgICAgIGQgPSBzLmRpc3RhbmNlWSwKICAgICAgICB1ID0gcy5jb250ZW50U3RhcnRQb3MsCiAgICAgICAgZiA9IHUubGVmdCwKICAgICAgICBwID0gdS50b3AsCiAgICAgICAgaCA9IHUud2lkdGgsCiAgICAgICAgZyA9IHUuaGVpZ2h0OwogICAgcmV0dXJuIGkgPSBoID4gciA/IGYgKyBsIDogZiwgYSA9IHAgKyBkLCB0ID0gTWF0aC5tYXgoMCwgMC41ICogciAtIDAuNSAqIGgpLCBlID0gTWF0aC5tYXgoMCwgMC41ICogYyAtIDAuNSAqIGcpLCBuID0gTWF0aC5taW4ociAtIGgsIDAuNSAqIHIgLSAwLjUgKiBoKSwgbyA9IE1hdGgubWluKGMgLSBnLCAwLjUgKiBjIC0gMC41ICogZyksIGwgPiAwICYmIGkgPiB0ICYmIChpID0gdCAtIDEgKyBNYXRoLnBvdygtdCArIGYgKyBsLCAwLjgpIHx8IDApLCBsIDwgMCAmJiBpIDwgbiAmJiAoaSA9IG4gKyAxIC0gTWF0aC5wb3cobiAtIGYgLSBsLCAwLjgpIHx8IDApLCBkID4gMCAmJiBhID4gZSAmJiAoYSA9IGUgLSAxICsgTWF0aC5wb3coLWUgKyBwICsgZCwgMC44KSB8fCAwKSwgZCA8IDAgJiYgYSA8IG8gJiYgKGEgPSBvICsgMSAtIE1hdGgucG93KG8gLSBwIC0gZCwgMC44KSB8fCAwKSwgewogICAgICB0b3A6IGEsCiAgICAgIGxlZnQ6IGkKICAgIH07CiAgfSwgZC5wcm90b3R5cGUubGltaXRQb3NpdGlvbiA9IGZ1bmN0aW9uICh0LCBlLCBuLCBvKSB7CiAgICB2YXIgaSA9IHRoaXMsCiAgICAgICAgYSA9IGkuY2FudmFzV2lkdGgsCiAgICAgICAgcyA9IGkuY2FudmFzSGVpZ2h0OwogICAgcmV0dXJuIG4gPiBhID8gKHQgPSB0ID4gMCA/IDAgOiB0LCB0ID0gdCA8IGEgLSBuID8gYSAtIG4gOiB0KSA6IHQgPSBNYXRoLm1heCgwLCBhIC8gMiAtIG4gLyAyKSwgbyA+IHMgPyAoZSA9IGUgPiAwID8gMCA6IGUsIGUgPSBlIDwgcyAtIG8gPyBzIC0gbyA6IGUpIDogZSA9IE1hdGgubWF4KDAsIHMgLyAyIC0gbyAvIDIpLCB7CiAgICAgIHRvcDogZSwKICAgICAgbGVmdDogdAogICAgfTsKICB9LCBkLnByb3RvdHlwZS5vblpvb20gPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgYSA9IGUuY29udGVudFN0YXJ0UG9zLAogICAgICAgIHIgPSBhLndpZHRoLAogICAgICAgIGMgPSBhLmhlaWdodCwKICAgICAgICBsID0gYS5sZWZ0LAogICAgICAgIGQgPSBhLnRvcCwKICAgICAgICB1ID0gcyhlLm5ld1BvaW50c1swXSwgZS5uZXdQb2ludHNbMV0pLAogICAgICAgIGYgPSB1IC8gZS5zdGFydERpc3RhbmNlQmV0d2VlbkZpbmdlcnMsCiAgICAgICAgcCA9IE1hdGguZmxvb3IociAqIGYpLAogICAgICAgIGggPSBNYXRoLmZsb29yKGMgKiBmKSwKICAgICAgICBnID0gKHIgLSBwKSAqIGUucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRYLAogICAgICAgIGIgPSAoYyAtIGgpICogZS5wZXJjZW50YWdlT2ZJbWFnZUF0UGluY2hQb2ludFksCiAgICAgICAgbSA9IChlLm5ld1BvaW50c1swXS54ICsgZS5uZXdQb2ludHNbMV0ueCkgLyAyIC0gbih0KS5zY3JvbGxMZWZ0KCksCiAgICAgICAgdiA9IChlLm5ld1BvaW50c1swXS55ICsgZS5uZXdQb2ludHNbMV0ueSkgLyAyIC0gbih0KS5zY3JvbGxUb3AoKSwKICAgICAgICB5ID0gbSAtIGUuY2VudGVyUG9pbnRTdGFydFgsCiAgICAgICAgeCA9IHYgLSBlLmNlbnRlclBvaW50U3RhcnRZLAogICAgICAgIHcgPSBsICsgKGcgKyB5KSwKICAgICAgICAkID0gZCArIChiICsgeCksCiAgICAgICAgUyA9IHsKICAgICAgdG9wOiAkLAogICAgICBsZWZ0OiB3LAogICAgICBzY2FsZVg6IGYsCiAgICAgIHNjYWxlWTogZgogICAgfTsKICAgIGUuY2FuVGFwID0gITEsIGUubmV3V2lkdGggPSBwLCBlLm5ld0hlaWdodCA9IGgsIGUuY29udGVudExhc3RQb3MgPSBTLCBlLnJlcXVlc3RJZCAmJiBpKGUucmVxdWVzdElkKSwgZS5yZXF1ZXN0SWQgPSBvKGZ1bmN0aW9uICgpIHsKICAgICAgbi5mYW5jeWJveC5zZXRUcmFuc2xhdGUoZS4kY29udGVudCwgZS5jb250ZW50TGFzdFBvcyk7CiAgICB9KTsKICB9LCBkLnByb3RvdHlwZS5vbnRvdWNoZW5kID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBvID0gdGhpcywKICAgICAgICBzID0gby5pc1N3aXBpbmcsCiAgICAgICAgciA9IG8uaXNQYW5uaW5nLAogICAgICAgIGMgPSBvLmlzWm9vbWluZywKICAgICAgICBsID0gby5pc1Njcm9sbGluZzsKICAgIGlmIChvLmVuZFBvaW50cyA9IGEodCksIG8uZE1zID0gTWF0aC5tYXgobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBvLnN0YXJ0VGltZSwgMSksIG8uJGNvbnRhaW5lci5yZW1vdmVDbGFzcygiZmFuY3lib3gtaXMtZ3JhYmJpbmciKSwgbihlKS5vZmYoIi5mYi50b3VjaCIpLCBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIG8ub25zY3JvbGwsICEwKSwgby5yZXF1ZXN0SWQgJiYgKGkoby5yZXF1ZXN0SWQpLCBvLnJlcXVlc3RJZCA9IG51bGwpLCBvLmlzU3dpcGluZyA9ICExLCBvLmlzUGFubmluZyA9ICExLCBvLmlzWm9vbWluZyA9ICExLCBvLmlzU2Nyb2xsaW5nID0gITEsIG8uaW5zdGFuY2UuaXNEcmFnZ2luZyA9ICExLCBvLmNhblRhcCkgcmV0dXJuIG8ub25UYXAodCk7CiAgICBvLnNwZWVkID0gMTAwLCBvLnZlbG9jaXR5WCA9IG8uZGlzdGFuY2VYIC8gby5kTXMgKiAwLjUsIG8udmVsb2NpdHlZID0gby5kaXN0YW5jZVkgLyBvLmRNcyAqIDAuNSwgciA/IG8uZW5kUGFubmluZygpIDogYyA/IG8uZW5kWm9vbWluZygpIDogby5lbmRTd2lwaW5nKHMsIGwpOwogIH0sIGQucHJvdG90eXBlLmVuZFN3aXBpbmcgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdmFyIG8gPSB0aGlzLAogICAgICAgIGkgPSAhMSwKICAgICAgICBhID0gby5pbnN0YW5jZS5ncm91cC5sZW5ndGgsCiAgICAgICAgcyA9IE1hdGguYWJzKG8uZGlzdGFuY2VYKSwKICAgICAgICByID0gIngiID09IHQgJiYgYSA+IDEgJiYgKG8uZE1zID4gMTMwICYmIHMgPiAxMCB8fCBzID4gNTApOwogICAgby5zbGlkZXJMYXN0UG9zID0gbnVsbCwgInkiID09IHQgJiYgIWUgJiYgTWF0aC5hYnMoby5kaXN0YW5jZVkpID4gNTAgPyAobi5mYW5jeWJveC5hbmltYXRlKG8uaW5zdGFuY2UuY3VycmVudC4kc2xpZGUsIHsKICAgICAgdG9wOiBvLnNsaWRlclN0YXJ0UG9zLnRvcCArIG8uZGlzdGFuY2VZICsgMTUwICogby52ZWxvY2l0eVksCiAgICAgIG9wYWNpdHk6IDAKICAgIH0sIDIwMCksIGkgPSBvLmluc3RhbmNlLmNsb3NlKCEwLCAyNTApKSA6IHIgJiYgby5kaXN0YW5jZVggPiAwID8gaSA9IG8uaW5zdGFuY2UucHJldmlvdXMoMzAwKSA6IHIgJiYgby5kaXN0YW5jZVggPCAwICYmIChpID0gby5pbnN0YW5jZS5uZXh0KDMwMCkpLCAhMSAhPT0gaSB8fCAieCIgIT0gdCAmJiAieSIgIT0gdCB8fCBvLmluc3RhbmNlLmNlbnRlclNsaWRlKDIwMCksIG8uJGNvbnRhaW5lci5yZW1vdmVDbGFzcygiZmFuY3lib3gtaXMtc2xpZGluZyIpOwogIH0sIGQucHJvdG90eXBlLmVuZFBhbm5pbmcgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCwKICAgICAgICBlLAogICAgICAgIG8sCiAgICAgICAgaSA9IHRoaXM7CiAgICBpLmNvbnRlbnRMYXN0UG9zICYmICghMSA9PT0gaS5vcHRzLm1vbWVudHVtIHx8IGkuZE1zID4gMzUwID8gKHQgPSBpLmNvbnRlbnRMYXN0UG9zLmxlZnQsIGUgPSBpLmNvbnRlbnRMYXN0UG9zLnRvcCkgOiAodCA9IGkuY29udGVudExhc3RQb3MubGVmdCArIDUwMCAqIGkudmVsb2NpdHlYLCBlID0gaS5jb250ZW50TGFzdFBvcy50b3AgKyA1MDAgKiBpLnZlbG9jaXR5WSksIG8gPSBpLmxpbWl0UG9zaXRpb24odCwgZSwgaS5jb250ZW50U3RhcnRQb3Mud2lkdGgsIGkuY29udGVudFN0YXJ0UG9zLmhlaWdodCksIG8ud2lkdGggPSBpLmNvbnRlbnRTdGFydFBvcy53aWR0aCwgby5oZWlnaHQgPSBpLmNvbnRlbnRTdGFydFBvcy5oZWlnaHQsIG4uZmFuY3lib3guYW5pbWF0ZShpLiRjb250ZW50LCBvLCAzNjYpKTsKICB9LCBkLnByb3RvdHlwZS5lbmRab29taW5nID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQsCiAgICAgICAgZSwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSA9IHRoaXMsCiAgICAgICAgcyA9IGEuaW5zdGFuY2UuY3VycmVudCwKICAgICAgICByID0gYS5uZXdXaWR0aCwKICAgICAgICBjID0gYS5uZXdIZWlnaHQ7CiAgICBhLmNvbnRlbnRMYXN0UG9zICYmICh0ID0gYS5jb250ZW50TGFzdFBvcy5sZWZ0LCBlID0gYS5jb250ZW50TGFzdFBvcy50b3AsIGkgPSB7CiAgICAgIHRvcDogZSwKICAgICAgbGVmdDogdCwKICAgICAgd2lkdGg6IHIsCiAgICAgIGhlaWdodDogYywKICAgICAgc2NhbGVYOiAxLAogICAgICBzY2FsZVk6IDEKICAgIH0sIG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKGEuJGNvbnRlbnQsIGkpLCByIDwgYS5jYW52YXNXaWR0aCAmJiBjIDwgYS5jYW52YXNIZWlnaHQgPyBhLmluc3RhbmNlLnNjYWxlVG9GaXQoMTUwKSA6IHIgPiBzLndpZHRoIHx8IGMgPiBzLmhlaWdodCA/IGEuaW5zdGFuY2Uuc2NhbGVUb0FjdHVhbChhLmNlbnRlclBvaW50U3RhcnRYLCBhLmNlbnRlclBvaW50U3RhcnRZLCAxNTApIDogKG8gPSBhLmxpbWl0UG9zaXRpb24odCwgZSwgciwgYyksIG4uZmFuY3lib3guYW5pbWF0ZShhLiRjb250ZW50LCBvLCAxNTApKSk7CiAgfSwgZC5wcm90b3R5cGUub25UYXAgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIG8sCiAgICAgICAgaSA9IHRoaXMsCiAgICAgICAgcyA9IG4oZS50YXJnZXQpLAogICAgICAgIHIgPSBpLmluc3RhbmNlLAogICAgICAgIGMgPSByLmN1cnJlbnQsCiAgICAgICAgbCA9IGUgJiYgYShlKSB8fCBpLnN0YXJ0UG9pbnRzLAogICAgICAgIGQgPSBsWzBdID8gbFswXS54IC0gbih0KS5zY3JvbGxMZWZ0KCkgLSBpLnN0YWdlUG9zLmxlZnQgOiAwLAogICAgICAgIHUgPSBsWzBdID8gbFswXS55IC0gbih0KS5zY3JvbGxUb3AoKSAtIGkuc3RhZ2VQb3MudG9wIDogMCwKICAgICAgICBmID0gZnVuY3Rpb24gZih0KSB7CiAgICAgIHZhciBvID0gYy5vcHRzW3RdOwogICAgICBpZiAobi5pc0Z1bmN0aW9uKG8pICYmIChvID0gby5hcHBseShyLCBbYywgZV0pKSwgbykgc3dpdGNoIChvKSB7CiAgICAgICAgY2FzZSAiY2xvc2UiOgogICAgICAgICAgci5jbG9zZShpLnN0YXJ0RXZlbnQpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInRvZ2dsZUNvbnRyb2xzIjoKICAgICAgICAgIHIudG9nZ2xlQ29udHJvbHMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJuZXh0IjoKICAgICAgICAgIHIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIm5leHRPckNsb3NlIjoKICAgICAgICAgIHIuZ3JvdXAubGVuZ3RoID4gMSA/IHIubmV4dCgpIDogci5jbG9zZShpLnN0YXJ0RXZlbnQpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInpvb20iOgogICAgICAgICAgImltYWdlIiA9PSBjLnR5cGUgJiYgKGMuaXNMb2FkZWQgfHwgYy4kZ2hvc3QpICYmIChyLmNhblBhbigpID8gci5zY2FsZVRvRml0KCkgOiByLmlzU2NhbGVkRG93bigpID8gci5zY2FsZVRvQWN0dWFsKGQsIHUpIDogci5ncm91cC5sZW5ndGggPCAyICYmIHIuY2xvc2UoaS5zdGFydEV2ZW50KSk7CiAgICAgIH0KICAgIH07CgogICAgaWYgKCghZS5vcmlnaW5hbEV2ZW50IHx8IDIgIT0gZS5vcmlnaW5hbEV2ZW50LmJ1dHRvbikgJiYgKHMuaXMoImltZyIpIHx8ICEoZCA+IHNbMF0uY2xpZW50V2lkdGggKyBzLm9mZnNldCgpLmxlZnQpKSkgewogICAgICBpZiAocy5pcygiLmZhbmN5Ym94LWJnLC5mYW5jeWJveC1pbm5lciwuZmFuY3lib3gtb3V0ZXIsLmZhbmN5Ym94LWNvbnRhaW5lciIpKSBvID0gIk91dHNpZGUiO2Vsc2UgaWYgKHMuaXMoIi5mYW5jeWJveC1zbGlkZSIpKSBvID0gIlNsaWRlIjtlbHNlIHsKICAgICAgICBpZiAoIXIuY3VycmVudC4kY29udGVudCB8fCAhci5jdXJyZW50LiRjb250ZW50LmZpbmQocykuYWRkQmFjaygpLmZpbHRlcihzKS5sZW5ndGgpIHJldHVybjsKICAgICAgICBvID0gIkNvbnRlbnQiOwogICAgICB9CgogICAgICBpZiAoaS50YXBwZWQpIHsKICAgICAgICBpZiAoY2xlYXJUaW1lb3V0KGkudGFwcGVkKSwgaS50YXBwZWQgPSBudWxsLCBNYXRoLmFicyhkIC0gaS50YXBYKSA+IDUwIHx8IE1hdGguYWJzKHUgLSBpLnRhcFkpID4gNTApIHJldHVybiB0aGlzOwogICAgICAgIGYoImRibGNsaWNrIiArIG8pOwogICAgICB9IGVsc2UgaS50YXBYID0gZCwgaS50YXBZID0gdSwgYy5vcHRzWyJkYmxjbGljayIgKyBvXSAmJiBjLm9wdHNbImRibGNsaWNrIiArIG9dICE9PSBjLm9wdHNbImNsaWNrIiArIG9dID8gaS50YXBwZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpLnRhcHBlZCA9IG51bGwsIHIuaXNBbmltYXRpbmcgfHwgZigiY2xpY2siICsgbyk7CiAgICAgIH0sIDUwMCkgOiBmKCJjbGljayIgKyBvKTsKCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIG4oZSkub24oIm9uQWN0aXZhdGUuZmIiLCBmdW5jdGlvbiAodCwgZSkgewogICAgZSAmJiAhZS5HdWVzdHVyZXMgJiYgKGUuR3Vlc3R1cmVzID0gbmV3IGQoZSkpOwogIH0pLm9uKCJiZWZvcmVDbG9zZS5mYiIsIGZ1bmN0aW9uICh0LCBlKSB7CiAgICBlICYmIGUuR3Vlc3R1cmVzICYmIGUuR3Vlc3R1cmVzLmRlc3Ryb3koKTsKICB9KTsKfSh3aW5kb3csIGRvY3VtZW50LCBqUXVlcnkpLCBmdW5jdGlvbiAodCwgZSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZS5leHRlbmQoITAsIGUuZmFuY3lib3guZGVmYXVsdHMsIHsKICAgIGJ0blRwbDogewogICAgICBzbGlkZVNob3c6ICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtcGxheSBjbGFzcz0iZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tcGxheSIgdGl0bGU9Int7UExBWV9TVEFSVH19Ij48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi41IDUuNHYxMy4ybDExLTYuNnoiLz48L3N2Zz48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOC4zMyA1Ljc1aDIuMnYxMi41aC0yLjJWNS43NXptNS4xNSAwaDIuMnYxMi41aC0yLjJWNS43NXoiLz48L3N2Zz48L2J1dHRvbj4nCiAgICB9LAogICAgc2xpZGVTaG93OiB7CiAgICAgIGF1dG9TdGFydDogITEsCiAgICAgIHNwZWVkOiAzZTMsCiAgICAgIHByb2dyZXNzOiAhMAogICAgfQogIH0pOwoKICB2YXIgbiA9IGZ1bmN0aW9uIG4odCkgewogICAgdGhpcy5pbnN0YW5jZSA9IHQsIHRoaXMuaW5pdCgpOwogIH07CgogIGUuZXh0ZW5kKG4ucHJvdG90eXBlLCB7CiAgICB0aW1lcjogbnVsbCwKICAgIGlzQWN0aXZlOiAhMSwKICAgICRidXR0b246IG51bGwsCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgdCA9IHRoaXMsCiAgICAgICAgICBuID0gdC5pbnN0YW5jZSwKICAgICAgICAgIG8gPSBuLmdyb3VwW24uY3VyckluZGV4XS5vcHRzLnNsaWRlU2hvdzsKICAgICAgdC4kYnV0dG9uID0gbi4kcmVmcy50b29sYmFyLmZpbmQoIltkYXRhLWZhbmN5Ym94LXBsYXldIikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHQudG9nZ2xlKCk7CiAgICAgIH0pLCBuLmdyb3VwLmxlbmd0aCA8IDIgfHwgIW8gPyB0LiRidXR0b24uaGlkZSgpIDogby5wcm9ncmVzcyAmJiAodC4kcHJvZ3Jlc3MgPSBlKCc8ZGl2IGNsYXNzPSJmYW5jeWJveC1wcm9ncmVzcyI+PC9kaXY+JykuYXBwZW5kVG8obi4kcmVmcy5pbm5lcikpOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KHQpIHsKICAgICAgdmFyIG4gPSB0aGlzLAogICAgICAgICAgbyA9IG4uaW5zdGFuY2UsCiAgICAgICAgICBpID0gby5jdXJyZW50OwogICAgICBpICYmICghMCA9PT0gdCB8fCBpLm9wdHMubG9vcCB8fCBvLmN1cnJJbmRleCA8IG8uZ3JvdXAubGVuZ3RoIC0gMSkgPyBuLmlzQWN0aXZlICYmICJ2aWRlbyIgIT09IGkuY29udGVudFR5cGUgJiYgKG4uJHByb2dyZXNzICYmIGUuZmFuY3lib3guYW5pbWF0ZShuLiRwcm9ncmVzcy5zaG93KCksIHsKICAgICAgICBzY2FsZVg6IDEKICAgICAgfSwgaS5vcHRzLnNsaWRlU2hvdy5zcGVlZCksIG4udGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBvLmN1cnJlbnQub3B0cy5sb29wIHx8IG8uY3VycmVudC5pbmRleCAhPSBvLmdyb3VwLmxlbmd0aCAtIDEgPyBvLm5leHQoKSA6IG8uanVtcFRvKDApOwogICAgICB9LCBpLm9wdHMuc2xpZGVTaG93LnNwZWVkKSkgOiAobi5zdG9wKCksIG8uaWRsZVNlY29uZHNDb3VudGVyID0gMCwgby5zaG93Q29udHJvbHMoKSk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB2YXIgdCA9IHRoaXM7CiAgICAgIGNsZWFyVGltZW91dCh0LnRpbWVyKSwgdC50aW1lciA9IG51bGwsIHQuJHByb2dyZXNzICYmIHQuJHByb2dyZXNzLnJlbW92ZUF0dHIoInN0eWxlIikuaGlkZSgpOwogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgdmFyIHQgPSB0aGlzLAogICAgICAgICAgZSA9IHQuaW5zdGFuY2UuY3VycmVudDsKICAgICAgZSAmJiAodC4kYnV0dG9uLmF0dHIoInRpdGxlIiwgKGUub3B0cy5pMThuW2Uub3B0cy5sYW5nXSB8fCBlLm9wdHMuaTE4bi5lbikuUExBWV9TVE9QKS5yZW1vdmVDbGFzcygiZmFuY3lib3gtYnV0dG9uLS1wbGF5IikuYWRkQ2xhc3MoImZhbmN5Ym94LWJ1dHRvbi0tcGF1c2UiKSwgdC5pc0FjdGl2ZSA9ICEwLCBlLmlzQ29tcGxldGUgJiYgdC5zZXQoITApLCB0Lmluc3RhbmNlLnRyaWdnZXIoIm9uU2xpZGVTaG93Q2hhbmdlIiwgITApKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICB2YXIgdCA9IHRoaXMsCiAgICAgICAgICBlID0gdC5pbnN0YW5jZS5jdXJyZW50OwogICAgICB0LmNsZWFyKCksIHQuJGJ1dHRvbi5hdHRyKCJ0aXRsZSIsIChlLm9wdHMuaTE4bltlLm9wdHMubGFuZ10gfHwgZS5vcHRzLmkxOG4uZW4pLlBMQVlfU1RBUlQpLnJlbW92ZUNsYXNzKCJmYW5jeWJveC1idXR0b24tLXBhdXNlIikuYWRkQ2xhc3MoImZhbmN5Ym94LWJ1dHRvbi0tcGxheSIpLCB0LmlzQWN0aXZlID0gITEsIHQuaW5zdGFuY2UudHJpZ2dlcigib25TbGlkZVNob3dDaGFuZ2UiLCAhMSksIHQuJHByb2dyZXNzICYmIHQuJHByb2dyZXNzLnJlbW92ZUF0dHIoInN0eWxlIikuaGlkZSgpOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkgewogICAgICB2YXIgdCA9IHRoaXM7CiAgICAgIHQuaXNBY3RpdmUgPyB0LnN0b3AoKSA6IHQuc3RhcnQoKTsKICAgIH0KICB9KSwgZSh0KS5vbih7CiAgICAib25Jbml0LmZiIjogZnVuY3Rpb24gb25Jbml0RmIodCwgZSkgewogICAgICBlICYmICFlLlNsaWRlU2hvdyAmJiAoZS5TbGlkZVNob3cgPSBuZXcgbihlKSk7CiAgICB9LAogICAgImJlZm9yZVNob3cuZmIiOiBmdW5jdGlvbiBiZWZvcmVTaG93RmIodCwgZSwgbiwgbykgewogICAgICB2YXIgaSA9IGUgJiYgZS5TbGlkZVNob3c7CiAgICAgIG8gPyBpICYmIG4ub3B0cy5zbGlkZVNob3cuYXV0b1N0YXJ0ICYmIGkuc3RhcnQoKSA6IGkgJiYgaS5pc0FjdGl2ZSAmJiBpLmNsZWFyKCk7CiAgICB9LAogICAgImFmdGVyU2hvdy5mYiI6IGZ1bmN0aW9uIGFmdGVyU2hvd0ZiKHQsIGUsIG4pIHsKICAgICAgdmFyIG8gPSBlICYmIGUuU2xpZGVTaG93OwogICAgICBvICYmIG8uaXNBY3RpdmUgJiYgby5zZXQoKTsKICAgIH0sCiAgICAiYWZ0ZXJLZXlkb3duLmZiIjogZnVuY3Rpb24gYWZ0ZXJLZXlkb3duRmIobiwgbywgaSwgYSwgcykgewogICAgICB2YXIgciA9IG8gJiYgby5TbGlkZVNob3c7CiAgICAgICFyIHx8ICFpLm9wdHMuc2xpZGVTaG93IHx8IDgwICE9PSBzICYmIDMyICE9PSBzIHx8IGUodC5hY3RpdmVFbGVtZW50KS5pcygiYnV0dG9uLGEsaW5wdXQiKSB8fCAoYS5wcmV2ZW50RGVmYXVsdCgpLCByLnRvZ2dsZSgpKTsKICAgIH0sCiAgICAiYmVmb3JlQ2xvc2UuZmIgb25EZWFjdGl2YXRlLmZiIjogZnVuY3Rpb24gYmVmb3JlQ2xvc2VGYk9uRGVhY3RpdmF0ZUZiKHQsIGUpIHsKICAgICAgdmFyIG4gPSBlICYmIGUuU2xpZGVTaG93OwogICAgICBuICYmIG4uc3RvcCgpOwogICAgfQogIH0pLCBlKHQpLm9uKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgZnVuY3Rpb24gKCkgewogICAgdmFyIG4gPSBlLmZhbmN5Ym94LmdldEluc3RhbmNlKCksCiAgICAgICAgbyA9IG4gJiYgbi5TbGlkZVNob3c7CiAgICBvICYmIG8uaXNBY3RpdmUgJiYgKHQuaGlkZGVuID8gby5jbGVhcigpIDogby5zZXQoKSk7CiAgfSk7Cn0oZG9jdW1lbnQsIGpRdWVyeSksIGZ1bmN0aW9uICh0LCBlKSB7CiAgInVzZSBzdHJpY3QiOwoKICB2YXIgbiA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGUgPSBbWyJyZXF1ZXN0RnVsbHNjcmVlbiIsICJleGl0RnVsbHNjcmVlbiIsICJmdWxsc2NyZWVuRWxlbWVudCIsICJmdWxsc2NyZWVuRW5hYmxlZCIsICJmdWxsc2NyZWVuY2hhbmdlIiwgImZ1bGxzY3JlZW5lcnJvciJdLCBbIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwgIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwgIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwgIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkIiwgIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCAid2Via2l0ZnVsbHNjcmVlbmVycm9yIl0sIFsid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4iLCAid2Via2l0Q2FuY2VsRnVsbFNjcmVlbiIsICJ3ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQiLCAid2Via2l0Q2FuY2VsRnVsbFNjcmVlbiIsICJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIiwgIndlYmtpdGZ1bGxzY3JlZW5lcnJvciJdLCBbIm1velJlcXVlc3RGdWxsU2NyZWVuIiwgIm1vekNhbmNlbEZ1bGxTY3JlZW4iLCAibW96RnVsbFNjcmVlbkVsZW1lbnQiLCAibW96RnVsbFNjcmVlbkVuYWJsZWQiLCAibW96ZnVsbHNjcmVlbmNoYW5nZSIsICJtb3pmdWxsc2NyZWVuZXJyb3IiXSwgWyJtc1JlcXVlc3RGdWxsc2NyZWVuIiwgIm1zRXhpdEZ1bGxzY3JlZW4iLCAibXNGdWxsc2NyZWVuRWxlbWVudCIsICJtc0Z1bGxzY3JlZW5FbmFibGVkIiwgIk1TRnVsbHNjcmVlbkNoYW5nZSIsICJNU0Z1bGxzY3JlZW5FcnJvciJdXSwgbiA9IHt9LCBvID0gMDsgbyA8IGUubGVuZ3RoOyBvKyspIHsKICAgICAgdmFyIGkgPSBlW29dOwoKICAgICAgaWYgKGkgJiYgaVsxXSBpbiB0KSB7CiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKSB7CiAgICAgICAgICBuW2VbMF1bYV1dID0gaVthXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuICExOwogIH0oKTsKCiAgaWYgKG4pIHsKICAgIHZhciBvID0gewogICAgICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KGUpIHsKICAgICAgICBlID0gZSB8fCB0LmRvY3VtZW50RWxlbWVudCwgZVtuLnJlcXVlc3RGdWxsc2NyZWVuXShlLkFMTE9XX0tFWUJPQVJEX0lOUFVUKTsKICAgICAgfSwKICAgICAgZXhpdDogZnVuY3Rpb24gZXhpdCgpIHsKICAgICAgICB0W24uZXhpdEZ1bGxzY3JlZW5dKCk7CiAgICAgIH0sCiAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGUpIHsKICAgICAgICBlID0gZSB8fCB0LmRvY3VtZW50RWxlbWVudCwgdGhpcy5pc0Z1bGxzY3JlZW4oKSA/IHRoaXMuZXhpdCgpIDogdGhpcy5yZXF1ZXN0KGUpOwogICAgICB9LAogICAgICBpc0Z1bGxzY3JlZW46IGZ1bmN0aW9uIGlzRnVsbHNjcmVlbigpIHsKICAgICAgICByZXR1cm4gQm9vbGVhbih0W24uZnVsbHNjcmVlbkVsZW1lbnRdKTsKICAgICAgfSwKICAgICAgZW5hYmxlZDogZnVuY3Rpb24gZW5hYmxlZCgpIHsKICAgICAgICByZXR1cm4gQm9vbGVhbih0W24uZnVsbHNjcmVlbkVuYWJsZWRdKTsKICAgICAgfQogICAgfTsKICAgIGUuZXh0ZW5kKCEwLCBlLmZhbmN5Ym94LmRlZmF1bHRzLCB7CiAgICAgIGJ0blRwbDogewogICAgICAgIGZ1bGxTY3JlZW46ICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtZnVsbHNjcmVlbiBjbGFzcz0iZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tZnNlbnRlciIgdGl0bGU9Int7RlVMTF9TQ1JFRU59fSI+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTcgMTRINXY1aDV2LTJIN3YtM3ptLTItNGgyVjdoM1Y1SDV2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTQgNXYyaDN2M2gyVjVoLTV6Ii8+PC9zdmc+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTUgMTZoM3YzaDJ2LTVINXptMy04SDV2Mmg1VjVIOHptNiAxMWgydi0zaDN2LTJoLTV6bTItMTFWNWgtMnY1aDVWOHoiLz48L3N2Zz48L2J1dHRvbj4nCiAgICAgIH0sCiAgICAgIGZ1bGxTY3JlZW46IHsKICAgICAgICBhdXRvU3RhcnQ6ICExCiAgICAgIH0KICAgIH0pLCBlKHQpLm9uKG4uZnVsbHNjcmVlbmNoYW5nZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IG8uaXNGdWxsc2NyZWVuKCksCiAgICAgICAgICBuID0gZS5mYW5jeWJveC5nZXRJbnN0YW5jZSgpOwogICAgICBuICYmIChuLmN1cnJlbnQgJiYgImltYWdlIiA9PT0gbi5jdXJyZW50LnR5cGUgJiYgbi5pc0FuaW1hdGluZyAmJiAobi5pc0FuaW1hdGluZyA9ICExLCBuLnVwZGF0ZSghMCwgITAsIDApLCBuLmlzQ29tcGxldGUgfHwgbi5jb21wbGV0ZSgpKSwgbi50cmlnZ2VyKCJvbkZ1bGxzY3JlZW5DaGFuZ2UiLCB0KSwgbi4kcmVmcy5jb250YWluZXIudG9nZ2xlQ2xhc3MoImZhbmN5Ym94LWlzLWZ1bGxzY3JlZW4iLCB0KSwgbi4kcmVmcy50b29sYmFyLmZpbmQoIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dIikudG9nZ2xlQ2xhc3MoImZhbmN5Ym94LWJ1dHRvbi0tZnNlbnRlciIsICF0KS50b2dnbGVDbGFzcygiZmFuY3lib3gtYnV0dG9uLS1mc2V4aXQiLCB0KSk7CiAgICB9KTsKICB9CgogIGUodCkub24oewogICAgIm9uSW5pdC5mYiI6IGZ1bmN0aW9uIG9uSW5pdEZiKHQsIGUpIHsKICAgICAgdmFyIGk7CiAgICAgIGlmICghbikgcmV0dXJuIHZvaWQgZS4kcmVmcy50b29sYmFyLmZpbmQoIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dIikucmVtb3ZlKCk7CiAgICAgIGUgJiYgZS5ncm91cFtlLmN1cnJJbmRleF0ub3B0cy5mdWxsU2NyZWVuID8gKGkgPSBlLiRyZWZzLmNvbnRhaW5lciwgaS5vbigiY2xpY2suZmItZnVsbHNjcmVlbiIsICJbZGF0YS1mYW5jeWJveC1mdWxsc2NyZWVuXSIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdC5zdG9wUHJvcGFnYXRpb24oKSwgdC5wcmV2ZW50RGVmYXVsdCgpLCBvLnRvZ2dsZSgpOwogICAgICB9KSwgZS5vcHRzLmZ1bGxTY3JlZW4gJiYgITAgPT09IGUub3B0cy5mdWxsU2NyZWVuLmF1dG9TdGFydCAmJiBvLnJlcXVlc3QoKSwgZS5GdWxsU2NyZWVuID0gbykgOiBlICYmIGUuJHJlZnMudG9vbGJhci5maW5kKCJbZGF0YS1mYW5jeWJveC1mdWxsc2NyZWVuXSIpLmhpZGUoKTsKICAgIH0sCiAgICAiYWZ0ZXJLZXlkb3duLmZiIjogZnVuY3Rpb24gYWZ0ZXJLZXlkb3duRmIodCwgZSwgbiwgbywgaSkgewogICAgICBlICYmIGUuRnVsbFNjcmVlbiAmJiA3MCA9PT0gaSAmJiAoby5wcmV2ZW50RGVmYXVsdCgpLCBlLkZ1bGxTY3JlZW4udG9nZ2xlKCkpOwogICAgfSwKICAgICJiZWZvcmVDbG9zZS5mYiI6IGZ1bmN0aW9uIGJlZm9yZUNsb3NlRmIodCwgZSkgewogICAgICBlICYmIGUuRnVsbFNjcmVlbiAmJiBlLiRyZWZzLmNvbnRhaW5lci5oYXNDbGFzcygiZmFuY3lib3gtaXMtZnVsbHNjcmVlbiIpICYmIG8uZXhpdCgpOwogICAgfQogIH0pOwp9KGRvY3VtZW50LCBqUXVlcnkpLCBmdW5jdGlvbiAodCwgZSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIG4gPSAiZmFuY3lib3gtdGh1bWJzIjsKICBlLmZhbmN5Ym94LmRlZmF1bHRzID0gZS5leHRlbmQoITAsIHsKICAgIGJ0blRwbDogewogICAgICB0aHVtYnM6ICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtdGh1bWJzIGNsYXNzPSJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS10aHVtYnMiIHRpdGxlPSJ7e1RIVU1CU319Ij48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTQuNTkgMTQuNTloMy43NnYzLjc2aC0zLjc2di0zLjc2em0tNC40NyAwaDMuNzZ2My43NmgtMy43NnYtMy43NnptLTQuNDcgMGgzLjc2djMuNzZINS42NXYtMy43NnptOC45NC00LjQ3aDMuNzZ2My43NmgtMy43NnYtMy43NnptLTQuNDcgMGgzLjc2djMuNzZoLTMuNzZ2LTMuNzZ6bS00LjQ3IDBoMy43NnYzLjc2SDUuNjV2LTMuNzZ6bTguOTQtNC40N2gzLjc2djMuNzZoLTMuNzZWNS42NXptLTQuNDcgMGgzLjc2djMuNzZoLTMuNzZWNS42NXptLTQuNDcgMGgzLjc2djMuNzZINS42NVY1LjY1eiIvPjwvc3ZnPjwvYnV0dG9uPicKICAgIH0sCiAgICB0aHVtYnM6IHsKICAgICAgYXV0b1N0YXJ0OiAhMSwKICAgICAgaGlkZU9uQ2xvc2U6ICEwLAogICAgICBwYXJlbnRFbDogIi5mYW5jeWJveC1jb250YWluZXIiLAogICAgICBheGlzOiAieSIKICAgIH0KICB9LCBlLmZhbmN5Ym94LmRlZmF1bHRzKTsKCiAgdmFyIG8gPSBmdW5jdGlvbiBvKHQpIHsKICAgIHRoaXMuaW5pdCh0KTsKICB9OwoKICBlLmV4dGVuZChvLnByb3RvdHlwZSwgewogICAgJGJ1dHRvbjogbnVsbCwKICAgICRncmlkOiBudWxsLAogICAgJGxpc3Q6IG51bGwsCiAgICBpc1Zpc2libGU6ICExLAogICAgaXNBY3RpdmU6ICExLAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCh0KSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICAgIG4gPSB0Lmdyb3VwLAogICAgICAgICAgbyA9IDA7CiAgICAgIGUuaW5zdGFuY2UgPSB0LCBlLm9wdHMgPSBuW3QuY3VyckluZGV4XS5vcHRzLnRodW1icywgdC5UaHVtYnMgPSBlLCBlLiRidXR0b24gPSB0LiRyZWZzLnRvb2xiYXIuZmluZCgiW2RhdGEtZmFuY3lib3gtdGh1bWJzXSIpOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGEgPSBuLmxlbmd0aDsgaSA8IGEgJiYgKG5baV0udGh1bWIgJiYgbysrLCAhKG8gPiAxKSk7IGkrKykgewogICAgICAgIDsKICAgICAgfQoKICAgICAgbyA+IDEgJiYgZS5vcHRzID8gKGUuJGJ1dHRvbi5yZW1vdmVBdHRyKCJzdHlsZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBlLnRvZ2dsZSgpOwogICAgICB9KSwgZS5pc0FjdGl2ZSA9ICEwKSA6IGUuJGJ1dHRvbi5oaWRlKCk7CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbyA9IHRoaXMsCiAgICAgICAgICBpID0gby5pbnN0YW5jZSwKICAgICAgICAgIGEgPSBvLm9wdHMucGFyZW50RWwsCiAgICAgICAgICBzID0gW107CiAgICAgIG8uJGdyaWQgfHwgKG8uJGdyaWQgPSBlKCc8ZGl2IGNsYXNzPSInICsgbiArICIgIiArIG4gKyAiLSIgKyBvLm9wdHMuYXhpcyArICciPjwvZGl2PicpLmFwcGVuZFRvKGkuJHJlZnMuY29udGFpbmVyLmZpbmQoYSkuYWRkQmFjaygpLmZpbHRlcihhKSksIG8uJGdyaWQub24oImNsaWNrIiwgImEiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaS5qdW1wVG8oZSh0aGlzKS5hdHRyKCJkYXRhLWluZGV4IikpOwogICAgICB9KSksIG8uJGxpc3QgfHwgKG8uJGxpc3QgPSBlKCc8ZGl2IGNsYXNzPSInICsgbiArICdfX2xpc3QiPicpLmFwcGVuZFRvKG8uJGdyaWQpKSwgZS5lYWNoKGkuZ3JvdXAsIGZ1bmN0aW9uIChlLCBuKSB7CiAgICAgICAgdCA9IG4udGh1bWIsIHQgfHwgImltYWdlIiAhPT0gbi50eXBlIHx8ICh0ID0gbi5zcmMpLCBzLnB1c2goJzxhIGhyZWY9ImphdmFzY3JpcHQ6OyIgdGFiaW5kZXg9IjAiIGRhdGEtaW5kZXg9IicgKyBlICsgJyInICsgKHQgJiYgdC5sZW5ndGggPyAnIHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgdCArICcpIicgOiAnY2xhc3M9ImZhbmN5Ym94LXRodW1icy1taXNzaW5nIicpICsgIj48L2E+Iik7CiAgICAgIH0pLCBvLiRsaXN0WzBdLmlubmVySFRNTCA9IHMuam9pbigiIiksICJ4IiA9PT0gby5vcHRzLmF4aXMgJiYgby4kbGlzdC53aWR0aChwYXJzZUludChvLiRncmlkLmNzcygicGFkZGluZy1yaWdodCIpLCAxMCkgKyBpLmdyb3VwLmxlbmd0aCAqIG8uJGxpc3QuY2hpbGRyZW4oKS5lcSgwKS5vdXRlcldpZHRoKCEwKSk7CiAgICB9LAogICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKHQpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBuLAogICAgICAgICAgbyA9IHRoaXMsCiAgICAgICAgICBpID0gby4kbGlzdCwKICAgICAgICAgIGEgPSBvLiRncmlkOwogICAgICBvLmluc3RhbmNlLmN1cnJlbnQgJiYgKGUgPSBpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXRodW1icy1hY3RpdmUiKS5maWx0ZXIoJ1tkYXRhLWluZGV4PSInICsgby5pbnN0YW5jZS5jdXJyZW50LmluZGV4ICsgJyJdJykuYWRkQ2xhc3MoImZhbmN5Ym94LXRodW1icy1hY3RpdmUiKSwgbiA9IGUucG9zaXRpb24oKSwgInkiID09PSBvLm9wdHMuYXhpcyAmJiAobi50b3AgPCAwIHx8IG4udG9wID4gaS5oZWlnaHQoKSAtIGUub3V0ZXJIZWlnaHQoKSkgPyBpLnN0b3AoKS5hbmltYXRlKHsKICAgICAgICBzY3JvbGxUb3A6IGkuc2Nyb2xsVG9wKCkgKyBuLnRvcAogICAgICB9LCB0KSA6ICJ4IiA9PT0gby5vcHRzLmF4aXMgJiYgKG4ubGVmdCA8IGEuc2Nyb2xsTGVmdCgpIHx8IG4ubGVmdCA+IGEuc2Nyb2xsTGVmdCgpICsgKGEud2lkdGgoKSAtIGUub3V0ZXJXaWR0aCgpKSkgJiYgaS5wYXJlbnQoKS5zdG9wKCkuYW5pbWF0ZSh7CiAgICAgICAgc2Nyb2xsTGVmdDogbi5sZWZ0CiAgICAgIH0sIHQpKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIHQgPSB0aGlzOwogICAgICB0Lmluc3RhbmNlLiRyZWZzLmNvbnRhaW5lci50b2dnbGVDbGFzcygiZmFuY3lib3gtc2hvdy10aHVtYnMiLCB0aGlzLmlzVmlzaWJsZSksIHQuaXNWaXNpYmxlID8gKHQuJGdyaWQgfHwgdC5jcmVhdGUoKSwgdC5pbnN0YW5jZS50cmlnZ2VyKCJvblRodW1ic1Nob3ciKSwgdC5mb2N1cygwKSkgOiB0LiRncmlkICYmIHQuaW5zdGFuY2UudHJpZ2dlcigib25UaHVtYnNIaWRlIiksIHQuaW5zdGFuY2UudXBkYXRlKCk7CiAgICB9LAogICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy5pc1Zpc2libGUgPSAhMSwgdGhpcy51cGRhdGUoKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB0aGlzLmlzVmlzaWJsZSA9ICEwLCB0aGlzLnVwZGF0ZSgpOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkgewogICAgICB0aGlzLmlzVmlzaWJsZSA9ICF0aGlzLmlzVmlzaWJsZSwgdGhpcy51cGRhdGUoKTsKICAgIH0KICB9KSwgZSh0KS5vbih7CiAgICAib25Jbml0LmZiIjogZnVuY3Rpb24gb25Jbml0RmIodCwgZSkgewogICAgICB2YXIgbjsKICAgICAgZSAmJiAhZS5UaHVtYnMgJiYgKG4gPSBuZXcgbyhlKSwgbi5pc0FjdGl2ZSAmJiAhMCA9PT0gbi5vcHRzLmF1dG9TdGFydCAmJiBuLnNob3coKSk7CiAgICB9LAogICAgImJlZm9yZVNob3cuZmIiOiBmdW5jdGlvbiBiZWZvcmVTaG93RmIodCwgZSwgbiwgbykgewogICAgICB2YXIgaSA9IGUgJiYgZS5UaHVtYnM7CiAgICAgIGkgJiYgaS5pc1Zpc2libGUgJiYgaS5mb2N1cyhvID8gMCA6IDI1MCk7CiAgICB9LAogICAgImFmdGVyS2V5ZG93bi5mYiI6IGZ1bmN0aW9uIGFmdGVyS2V5ZG93bkZiKHQsIGUsIG4sIG8sIGkpIHsKICAgICAgdmFyIGEgPSBlICYmIGUuVGh1bWJzOwogICAgICBhICYmIGEuaXNBY3RpdmUgJiYgNzEgPT09IGkgJiYgKG8ucHJldmVudERlZmF1bHQoKSwgYS50b2dnbGUoKSk7CiAgICB9LAogICAgImJlZm9yZUNsb3NlLmZiIjogZnVuY3Rpb24gYmVmb3JlQ2xvc2VGYih0LCBlKSB7CiAgICAgIHZhciBuID0gZSAmJiBlLlRodW1iczsKICAgICAgbiAmJiBuLmlzVmlzaWJsZSAmJiAhMSAhPT0gbi5vcHRzLmhpZGVPbkNsb3NlICYmIG4uJGdyaWQuaGlkZSgpOwogICAgfQogIH0pOwp9KGRvY3VtZW50LCBqUXVlcnkpLCBmdW5jdGlvbiAodCwgZSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gbih0KSB7CiAgICB2YXIgZSA9IHsKICAgICAgIiYiOiAiJmFtcDsiLAogICAgICAiPCI6ICImbHQ7IiwKICAgICAgIj4iOiAiJmd0OyIsCiAgICAgICciJzogIiZxdW90OyIsCiAgICAgICInIjogIiYjMzk7IiwKICAgICAgIi8iOiAiJiN4MkY7IiwKICAgICAgImAiOiAiJiN4NjA7IiwKICAgICAgIj0iOiAiJiN4M0Q7IgogICAgfTsKICAgIHJldHVybiBTdHJpbmcodCkucmVwbGFjZSgvWyY8PiInYD1cL10vZywgZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIGVbdF07CiAgICB9KTsKICB9CgogIGUuZXh0ZW5kKCEwLCBlLmZhbmN5Ym94LmRlZmF1bHRzLCB7CiAgICBidG5UcGw6IHsKICAgICAgc2hhcmU6ICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtc2hhcmUgY2xhc3M9ImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXNoYXJlIiB0aXRsZT0ie3tTSEFSRX19Ij48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMi41NSAxOWMxLjQtOC40IDkuMS05LjggMTEuOS05LjhWNWw3IDctNyA2LjN2LTMuNWMtMi44IDAtMTAuNSAyLjEtMTEuOSA0LjJ6Ii8+PC9zdmc+PC9idXR0b24+JwogICAgfSwKICAgIHNoYXJlOiB7CiAgICAgIHVybDogZnVuY3Rpb24gdXJsKHQsIGUpIHsKICAgICAgICByZXR1cm4gIXQuY3VycmVudEhhc2ggJiYgImlubGluZSIgIT09IGUudHlwZSAmJiAiaHRtbCIgIT09IGUudHlwZSAmJiAoZS5vcmlnU3JjIHx8IGUuc3JjKSB8fCB3aW5kb3cubG9jYXRpb247CiAgICAgIH0sCiAgICAgIHRwbDogJzxkaXYgY2xhc3M9ImZhbmN5Ym94LXNoYXJlIj48aDE+e3tTSEFSRX19PC9oMT48cD48YSBjbGFzcz0iZmFuY3lib3gtc2hhcmVfX2J1dHRvbiBmYW5jeWJveC1zaGFyZV9fYnV0dG9uLS1mYiIgaHJlZj0iaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwP3U9e3t1cmx9fSI+PHN2ZyB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMjg3IDQ1NnYtMjk5YzAtMjEgNi0zNSAzNS0zNWgzOHYtNjNjLTctMS0yOS0zLTU1LTMtNTQgMC05MSAzMy05MSA5NHYzMDZtMTQzLTI1NGgtMjA1djcyaDE5NiIgLz48L3N2Zz48c3Bhbj5GYWNlYm9vazwvc3Bhbj48L2E+PGEgY2xhc3M9ImZhbmN5Ym94LXNoYXJlX19idXR0b24gZmFuY3lib3gtc2hhcmVfX2J1dHRvbi0tdHciIGhyZWY9Imh0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0P3VybD17e3VybH19JnRleHQ9e3tkZXNjcn19Ij48c3ZnIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im00NTYgMTMzYy0xNCA3LTMxIDExLTQ3IDEzIDE3LTEwIDMwLTI3IDM3LTQ2LTE1IDEwLTM0IDE2LTUyIDIwLTYxLTYyLTE1Ny03LTE0MSA3NS02OC0zLTEyOS0zNS0xNjktODUtMjIgMzctMTEgODYgMjYgMTA5LTEzIDAtMjYtNC0zNy05IDAgMzkgMjggNzIgNjUgODAtMTIgMy0yNSA0LTM3IDIgMTAgMzMgNDEgNTcgNzcgNTctNDIgMzAtNzcgMzgtMTIyIDM0IDE3MCAxMTEgMzc4LTMyIDM1OS0yMDggMTYtMTEgMzAtMjUgNDEtNDJ6IiAvPjwvc3ZnPjxzcGFuPlR3aXR0ZXI8L3NwYW4+PC9hPjxhIGNsYXNzPSJmYW5jeWJveC1zaGFyZV9fYnV0dG9uIGZhbmN5Ym94LXNoYXJlX19idXR0b24tLXB0IiBocmVmPSJodHRwczovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uLz91cmw9e3t1cmx9fSZkZXNjcmlwdGlvbj17e2Rlc2NyfX0mbWVkaWE9e3ttZWRpYX19Ij48c3ZnIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0yNjUgNTZjLTEwOSAwLTE2NCA3OC0xNjQgMTQ0IDAgMzkgMTUgNzQgNDcgODcgNSAyIDEwIDAgMTItNWw0LTE5YzItNiAxLTgtMy0xMy05LTExLTE1LTI1LTE1LTQ1IDAtNTggNDMtMTEwIDExMy0xMTAgNjIgMCA5NiAzOCA5NiA4OCAwIDY3LTMwIDEyMi03MyAxMjItMjQgMC00Mi0xOS0zNi00NCA2LTI5IDIwLTYwIDIwLTgxIDAtMTktMTAtMzUtMzEtMzUtMjUgMC00NCAyNi00NCA2MCAwIDIxIDcgMzYgNyAzNmwtMzAgMTI1Yy04IDM3LTEgODMgMCA4NyAwIDMgNCA0IDUgMiAyLTMgMzItMzkgNDItNzVsMTYtNjRjOCAxNiAzMSAyOSA1NiAyOSA3NCAwIDEyNC02NyAxMjQtMTU3IDAtNjktNTgtMTMyLTE0Ni0xMzJ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+PHNwYW4+UGludGVyZXN0PC9zcGFuPjwvYT48L3A+PHA+PGlucHV0IGNsYXNzPSJmYW5jeWJveC1zaGFyZV9faW5wdXQiIHR5cGU9InRleHQiIHZhbHVlPSJ7e3VybF9yYXd9fSIgb25jbGljaz0ic2VsZWN0KCkiIC8+PC9wPjwvZGl2PicKICAgIH0KICB9KSwgZSh0KS5vbigiY2xpY2siLCAiW2RhdGEtZmFuY3lib3gtc2hhcmVdIiwgZnVuY3Rpb24gKCkgewogICAgdmFyIHQsCiAgICAgICAgbywKICAgICAgICBpID0gZS5mYW5jeWJveC5nZXRJbnN0YW5jZSgpLAogICAgICAgIGEgPSBpLmN1cnJlbnQgfHwgbnVsbDsKICAgIGEgJiYgKCJmdW5jdGlvbiIgPT09IGUudHlwZShhLm9wdHMuc2hhcmUudXJsKSAmJiAodCA9IGEub3B0cy5zaGFyZS51cmwuYXBwbHkoYSwgW2ksIGFdKSksIG8gPSBhLm9wdHMuc2hhcmUudHBsLnJlcGxhY2UoL1x7XHttZWRpYVx9XH0vZywgImltYWdlIiA9PT0gYS50eXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KGEuc3JjKSA6ICIiKS5yZXBsYWNlKC9ce1x7dXJsXH1cfS9nLCBlbmNvZGVVUklDb21wb25lbnQodCkpLnJlcGxhY2UoL1x7XHt1cmxfcmF3XH1cfS9nLCBuKHQpKS5yZXBsYWNlKC9ce1x7ZGVzY3JcfVx9L2csIGkuJGNhcHRpb24gPyBlbmNvZGVVUklDb21wb25lbnQoaS4kY2FwdGlvbi50ZXh0KCkpIDogIiIpLCBlLmZhbmN5Ym94Lm9wZW4oewogICAgICBzcmM6IGkudHJhbnNsYXRlKGksIG8pLAogICAgICB0eXBlOiAiaHRtbCIsCiAgICAgIG9wdHM6IHsKICAgICAgICB0b3VjaDogITEsCiAgICAgICAgYW5pbWF0aW9uRWZmZWN0OiAhMSwKICAgICAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uIGFmdGVyTG9hZCh0LCBlKSB7CiAgICAgICAgICBpLiRyZWZzLmNvbnRhaW5lci5vbmUoImJlZm9yZUNsb3NlLmZiIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0LmNsb3NlKG51bGwsIDApOwogICAgICAgICAgfSksIGUuJGNvbnRlbnQuZmluZCgiLmZhbmN5Ym94LXNoYXJlX19idXR0b24iKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB3aW5kb3cub3Blbih0aGlzLmhyZWYsICJTaGFyZSIsICJ3aWR0aD01NTAsIGhlaWdodD00NTAiKSwgITE7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG1vYmlsZTogewogICAgICAgICAgYXV0b0ZvY3VzOiAhMQogICAgICAgIH0KICAgICAgfQogICAgfSkpOwogIH0pOwp9KGRvY3VtZW50LCBqUXVlcnkpLCBmdW5jdGlvbiAodCwgZSwgbikgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gbygpIHsKICAgIHZhciBlID0gdC5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKSwKICAgICAgICBuID0gZS5zcGxpdCgiLSIpLAogICAgICAgIG8gPSBuLmxlbmd0aCA+IDEgJiYgL15cKz9cZCskLy50ZXN0KG5bbi5sZW5ndGggLSAxXSkgPyBwYXJzZUludChuLnBvcCgtMSksIDEwKSB8fCAxIDogMSwKICAgICAgICBpID0gbi5qb2luKCItIik7CiAgICByZXR1cm4gewogICAgICBoYXNoOiBlLAogICAgICBpbmRleDogbyA8IDEgPyAxIDogbywKICAgICAgZ2FsbGVyeTogaQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGkodCkgewogICAgIiIgIT09IHQuZ2FsbGVyeSAmJiBuKCJbZGF0YS1mYW5jeWJveD0nIiArIG4uZXNjYXBlU2VsZWN0b3IodC5nYWxsZXJ5KSArICInXSIpLmVxKHQuaW5kZXggLSAxKS5mb2N1cygpLnRyaWdnZXIoImNsaWNrLmZiLXN0YXJ0Iik7CiAgfQoKICBmdW5jdGlvbiBhKHQpIHsKICAgIHZhciBlLCBuOwogICAgcmV0dXJuICEhdCAmJiAoZSA9IHQuY3VycmVudCA/IHQuY3VycmVudC5vcHRzIDogdC5vcHRzLCAiIiAhPT0gKG4gPSBlLmhhc2ggfHwgKGUuJG9yaWcgPyBlLiRvcmlnLmRhdGEoImZhbmN5Ym94IikgfHwgZS4kb3JpZy5kYXRhKCJmYW5jeWJveC10cmlnZ2VyIikgOiAiIikpICYmIG4pOwogIH0KCiAgbi5lc2NhcGVTZWxlY3RvciB8fCAobi5lc2NhcGVTZWxlY3RvciA9IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gKHQgKyAiIikucmVwbGFjZSgvKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlx4ODAtXHVGRkZGXHctXS9nLCBmdW5jdGlvbiAodCwgZSkgewogICAgICByZXR1cm4gZSA/ICJcMCIgPT09IHQgPyAi77+9IiA6IHQuc2xpY2UoMCwgLTEpICsgIlxcIiArIHQuY2hhckNvZGVBdCh0Lmxlbmd0aCAtIDEpLnRvU3RyaW5nKDE2KSArICIgIiA6ICJcXCIgKyB0OwogICAgfSk7CiAgfSksIG4oZnVuY3Rpb24gKCkgewogICAgITEgIT09IG4uZmFuY3lib3guZGVmYXVsdHMuaGFzaCAmJiAobihlKS5vbih7CiAgICAgICJvbkluaXQuZmIiOiBmdW5jdGlvbiBvbkluaXRGYih0LCBlKSB7CiAgICAgICAgdmFyIG4sIGk7CiAgICAgICAgITEgIT09IGUuZ3JvdXBbZS5jdXJySW5kZXhdLm9wdHMuaGFzaCAmJiAobiA9IG8oKSwgKGkgPSBhKGUpKSAmJiBuLmdhbGxlcnkgJiYgaSA9PSBuLmdhbGxlcnkgJiYgKGUuY3VyckluZGV4ID0gbi5pbmRleCAtIDEpKTsKICAgICAgfSwKICAgICAgImJlZm9yZVNob3cuZmIiOiBmdW5jdGlvbiBiZWZvcmVTaG93RmIobiwgbywgaSwgcykgewogICAgICAgIHZhciByOwogICAgICAgIGkgJiYgITEgIT09IGkub3B0cy5oYXNoICYmIChyID0gYShvKSkgJiYgKG8uY3VycmVudEhhc2ggPSByICsgKG8uZ3JvdXAubGVuZ3RoID4gMSA/ICItIiArIChpLmluZGV4ICsgMSkgOiAiIiksIHQubG9jYXRpb24uaGFzaCAhPT0gIiMiICsgby5jdXJyZW50SGFzaCAmJiAocyAmJiAhby5vcmlnSGFzaCAmJiAoby5vcmlnSGFzaCA9IHQubG9jYXRpb24uaGFzaCksIG8uaGFzaFRpbWVyICYmIGNsZWFyVGltZW91dChvLmhhc2hUaW1lciksIG8uaGFzaFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAicmVwbGFjZVN0YXRlIiBpbiB0Lmhpc3RvcnkgPyAodC5oaXN0b3J5W3MgPyAicHVzaFN0YXRlIiA6ICJyZXBsYWNlU3RhdGUiXSh7fSwgZS50aXRsZSwgdC5sb2NhdGlvbi5wYXRobmFtZSArIHQubG9jYXRpb24uc2VhcmNoICsgIiMiICsgby5jdXJyZW50SGFzaCksIHMgJiYgKG8uaGFzQ3JlYXRlZEhpc3RvcnkgPSAhMCkpIDogdC5sb2NhdGlvbi5oYXNoID0gby5jdXJyZW50SGFzaCwgby5oYXNoVGltZXIgPSBudWxsOwogICAgICAgIH0sIDMwMCkpKTsKICAgICAgfSwKICAgICAgImJlZm9yZUNsb3NlLmZiIjogZnVuY3Rpb24gYmVmb3JlQ2xvc2VGYihuLCBvLCBpKSB7CiAgICAgICAgaSAmJiAhMSAhPT0gaS5vcHRzLmhhc2ggJiYgKGNsZWFyVGltZW91dChvLmhhc2hUaW1lciksIG8uY3VycmVudEhhc2ggJiYgby5oYXNDcmVhdGVkSGlzdG9yeSA/IHQuaGlzdG9yeS5iYWNrKCkgOiBvLmN1cnJlbnRIYXNoICYmICgicmVwbGFjZVN0YXRlIiBpbiB0Lmhpc3RvcnkgPyB0Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBlLnRpdGxlLCB0LmxvY2F0aW9uLnBhdGhuYW1lICsgdC5sb2NhdGlvbi5zZWFyY2ggKyAoby5vcmlnSGFzaCB8fCAiIikpIDogdC5sb2NhdGlvbi5oYXNoID0gby5vcmlnSGFzaCksIG8uY3VycmVudEhhc2ggPSBudWxsKTsKICAgICAgfQogICAgfSksIG4odCkub24oImhhc2hjaGFuZ2UuZmIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0ID0gbygpLAogICAgICAgICAgZSA9IG51bGw7CiAgICAgIG4uZWFjaChuKCIuZmFuY3lib3gtY29udGFpbmVyIikuZ2V0KCkucmV2ZXJzZSgpLCBmdW5jdGlvbiAodCwgbykgewogICAgICAgIHZhciBpID0gbihvKS5kYXRhKCJGYW5jeUJveCIpOwogICAgICAgIGlmIChpICYmIGkuY3VycmVudEhhc2gpIHJldHVybiBlID0gaSwgITE7CiAgICAgIH0pLCBlID8gZS5jdXJyZW50SGFzaCA9PT0gdC5nYWxsZXJ5ICsgIi0iICsgdC5pbmRleCB8fCAxID09PSB0LmluZGV4ICYmIGUuY3VycmVudEhhc2ggPT0gdC5nYWxsZXJ5IHx8IChlLmN1cnJlbnRIYXNoID0gbnVsbCwgZS5jbG9zZSgpKSA6ICIiICE9PSB0LmdhbGxlcnkgJiYgaSh0KTsKICAgIH0pLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgbi5mYW5jeWJveC5nZXRJbnN0YW5jZSgpIHx8IGkobygpKTsKICAgIH0sIDUwKSk7CiAgfSk7Cn0od2luZG93LCBkb2N1bWVudCwgalF1ZXJ5KSwgZnVuY3Rpb24gKHQsIGUpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBuID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgZSh0KS5vbih7CiAgICAib25Jbml0LmZiIjogZnVuY3Rpb24gb25Jbml0RmIodCwgZSwgbykgewogICAgICBlLiRyZWZzLnN0YWdlLm9uKCJtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsIHdoZWVsIE1vek1vdXNlUGl4ZWxTY3JvbGwiLCBmdW5jdGlvbiAodCkgewogICAgICAgIHZhciBvID0gZS5jdXJyZW50LAogICAgICAgICAgICBpID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgZS5ncm91cC5sZW5ndGggPCAyIHx8ICExID09PSBvLm9wdHMud2hlZWwgfHwgImF1dG8iID09PSBvLm9wdHMud2hlZWwgJiYgImltYWdlIiAhPT0gby50eXBlIHx8ICh0LnByZXZlbnREZWZhdWx0KCksIHQuc3RvcFByb3BhZ2F0aW9uKCksIG8uJHNsaWRlLmhhc0NsYXNzKCJmYW5jeWJveC1hbmltYXRlZCIpIHx8ICh0ID0gdC5vcmlnaW5hbEV2ZW50IHx8IHQsIGkgLSBuIDwgMjUwIHx8IChuID0gaSwgZVsoLXQuZGVsdGFZIHx8IC10LmRlbHRhWCB8fCB0LndoZWVsRGVsdGEgfHwgLXQuZGV0YWlsKSA8IDAgPyAibmV4dCIgOiAicHJldmlvdXMiXSgpKSkpOwogICAgICB9KTsKICAgIH0KICB9KTsKfShkb2N1bWVudCwgalF1ZXJ5KTs="},{"version":3,"sources":["/var/www/html/firebase-auth/src/assets/front/plugins/fancybox/jquery.fancybox.min.js"],"names":["jQuery","t","e","n","o","i","a","s","r","isDefaultPrevented","preventDefault","data","h","options","$target","currentTarget","trigger","fancybox","getInstance","$trigger","is","selector","attr","items","length","filter","index","open","console","info","fn","closeExisting","loop","gutter","keyboard","preventCaptionOverlap","arrows","infobar","smallBtn","toolbar","buttons","idleTime","protect","modal","image","preload","ajax","settings","iframe","tpl","css","scrolling","video","format","autoStart","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","hideScrollbar","autoFocus","backFocus","trapFocus","fullScreen","touch","vertical","momentum","hash","media","slideShow","speed","thumbs","hideOnClose","axis","wheel","onInit","noop","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","type","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","c","l","hasOwnProperty","d","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","setTimeout","u","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","clearTimeout","f","createElement","transition","OTransition","MozTransition","WebkitTransition","style","p","offsetHeight","extend","each","isArray","g","ownerDocument","x","getBoundingClientRect","left","offsetWidth","y","top","elementFromPoint","b","opts","defaults","isPlainObject","isMobile","id","currIndex","parseInt","prevIndex","prevPos","currPos","firstRun","group","slides","addContent","init","prototype","addClass","body","scrollHeight","innerHeight","append","innerWidth","documentElement","clientWidth","translate","replace","appendTo","$refs","container","forEach","find","activate","jumpTo","makeArray","$orig","src","match","contentType","charAt","inArray","$thumb","thumb","caption","apply","split","shift","push","Object","keys","updateControls","Thumbs","isActive","create","focus","addEvents","removeEvents","on","stopPropagation","previous","next","isScaledDown","originalEvent","requestId","update","current","stage","hide","show","keyCode","which","ctrlKey","altKey","shiftKey","target","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","isDragging","hideControls","off","clearInterval","isClosing","isAnimating","createSlide","pos","forcedDuration","isNumeric","isMoved","$slide","loadSlide","getTranslate","stop","isComplete","removeClass","width","join","setTranslate","animate","transform","opacity","complete","isLoaded","revealContent","updateSlide","scaleToActual","$content","height","hasError","updateCursor","scaleX","scaleY","SlideShow","scaleToFit","getFitPos","parseFloat","Math","min","floor","ratio","adjustCaption","adjustLayout","add","navigation","toggleClass","get","clientHeight","centerSlide","siblings","parent","children","hasClass","abs","Guestures","canPan","isZoomable","prop","isFunction","isLoading","setImage","setIframe","setContent","content","videoFormat","setError","showLoading","url","success","error","one","abort","$image","checkSrcset","onerror","remove","$ghost","onload","setBigImage","srcset","devicePixelRatio","map","trim","substring","value","postfix","sort","resolveImageSlideSize","naturalWidth","naturalHeight","sizes","round","max","hideLoading","readyState","$iframe","Date","getTime","isReady","contents","ceil","outerWidth","outerHeight","unbind","empty","isRevealed","parents","$placeholder","insertAfter","html","after","$smallBtn","wrap","first","wrapInner","$spinner","fadeIn","button","clone","eq","$caption","disableLayoutFix","getThumbPos","Document","exitFullscreen","webkitExitFullscreen","scrollTop","scrollLeft","activeElement","isVisible","cleanUp","scrollX","scrollY","Array","slice","call","arguments","unshift","hasHiddenControls","end","toggleControls","version","destroy","test","navigator","userAgent","use3d","getComputedStyle","getPropertyValue","documentMode","position","propertyName","window","document","youtube","matcher","params","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","instagram","gmap_place","indexOf","gmap_search","param","decodeURIComponent","origSrc","contentSource","class","loading","loaded","load","done","onYouTubeIframeAPIReady","appendChild","YT","Player","events","onStateChange","Vimeo","touches","changedTouches","pageX","pageY","clientX","clientY","sqrt","pow","onclick","attributes","nodeName","substr","scrollWidth","instance","$bg","bg","$stage","$container","proxy","tapped","ontouchstart","offset","realPoints","startPoints","startEvent","canTap","isPanning","isSwiping","isZooming","isScrolling","startTime","distanceX","distanceY","distance","canvasWidth","canvasHeight","contentLastPos","contentStartPos","sliderStartPos","stagePos","addEventListener","onscroll","isScrollable","centerPointStartX","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","removeEventListener","ontouchmove","ontouchend","newPoints","onSwipe","onPan","onZoom","sliderLastPos","atan2","PI","limitMovement","limitPosition","m","v","w","$","S","newWidth","newHeight","endPoints","dMs","onTap","velocityX","velocityY","endPanning","endZooming","endSwiping","addBack","tapX","tapY","progress","timer","$button","toggle","$progress","inner","set","clear","removeAttr","start","hidden","request","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","fullscreenchange","FullScreen","$grid","$list","innerHTML","String","share","currentHash","location","encodeURIComponent","text","click","href","pop","gallery","escapeSelector","charCodeAt","toString","origHash","hashTimer","history","title","pathname","search","hasCreatedHistory","back","replaceState","reverse","deltaY","deltaX","wheelDelta","detail"],"mappings":"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","sourcesContent":["// ==================================================\r\n// fancyBox v3.5.7\r\n//\r\n// Licensed GPLv3 for open source use\r\n// or fancyBox Commercial License for commercial use\r\n//\r\n// http://fancyapps.com/fancybox/\r\n// Copyright 2019 fancyApps\r\n//\r\n// ==================================================\r\n\r\n//import $ from 'jquery'\r\nimport jQuery from 'jquery'\r\n\r\n!(function (t, e, n, o) {\r\n    \"use strict\";\r\n    function i(t, e) {\r\n        var o,\r\n            i,\r\n            a,\r\n            s = [],\r\n            r = 0;\r\n        (t && t.isDefaultPrevented()) ||\r\n            (t.preventDefault(),\r\n            (e = e || {}),\r\n            t && t.data && (e = h(t.data.options, e)),\r\n            (o = e.$target || n(t.currentTarget).trigger(\"blur\")),\r\n            ((a = n.fancybox.getInstance()) && a.$trigger && a.$trigger.is(o)) ||\r\n                (e.selector ? (s = n(e.selector)) : ((i = o.attr(\"data-fancybox\") || \"\"), i ? ((s = t.data ? t.data.items : []), (s = s.length ? s.filter('[data-fancybox=\"' + i + '\"]') : n('[data-fancybox=\"' + i + '\"]'))) : (s = [o])),\r\n                (r = n(s).index(o)),\r\n                r < 0 && (r = 0),\r\n                (a = n.fancybox.open(s, e, r)),\r\n                (a.$trigger = o)));\r\n    }\r\n    if (((t.console = t.console || { info: function (t) {} }), n)) {\r\n        if (n.fn.fancybox) return void console.info(\"fancyBox already initialized\");\r\n        var a = {\r\n                closeExisting: !1,\r\n                loop: !1,\r\n                gutter: 50,\r\n                keyboard: !0,\r\n                preventCaptionOverlap: !0,\r\n                arrows: !0,\r\n                infobar: !0,\r\n                smallBtn: \"auto\",\r\n                toolbar: \"auto\",\r\n                buttons: [\"zoom\", \"slideShow\", \"thumbs\", \"close\"],\r\n                idleTime: 3,\r\n                protect: !1,\r\n                modal: !1,\r\n                image: { preload: !1 },\r\n                ajax: { settings: { data: { fancybox: !0 } } },\r\n                iframe: {\r\n                    tpl: '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src=\"\"></iframe>',\r\n                    preload: !0,\r\n                    css: {},\r\n                    attr: { scrolling: \"auto\" },\r\n                },\r\n                video: {\r\n                    tpl:\r\n                        '<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\"><source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!</video>',\r\n                    format: \"\",\r\n                    autoStart: !0,\r\n                },\r\n                defaultType: \"image\",\r\n                animationEffect: \"zoom\",\r\n                animationDuration: 366,\r\n                zoomOpacity: \"auto\",\r\n                transitionEffect: \"fade\",\r\n                transitionDuration: 366,\r\n                slideClass: \"\",\r\n                baseClass: \"\",\r\n                baseTpl:\r\n                    '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\"><div class=\"fancybox-bg\"></div><div class=\"fancybox-inner\"><div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class=\"fancybox-toolbar\">{{buttons}}</div><div class=\"fancybox-navigation\">{{arrows}}</div><div class=\"fancybox-stage\"></div><div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div></div></div>',\r\n                spinnerTpl: '<div class=\"fancybox-loading\"></div>',\r\n                errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\r\n                btnTpl: {\r\n                    download:\r\n                        '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg></a>',\r\n                    zoom:\r\n                        '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg></button>',\r\n                    close:\r\n                        '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg></button>',\r\n                    arrowLeft:\r\n                        '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\"><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div></button>',\r\n                    arrowRight:\r\n                        '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\"><div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div></button>',\r\n                    smallBtn:\r\n                        '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg></button>',\r\n                },\r\n                parentEl: \"body\",\r\n                hideScrollbar: !0,\r\n                autoFocus: !0,\r\n                backFocus: !0,\r\n                trapFocus: !0,\r\n                fullScreen: { autoStart: !1 },\r\n                touch: { vertical: !0, momentum: !0 },\r\n                hash: null,\r\n                media: {},\r\n                slideShow: { autoStart: !1, speed: 3e3 },\r\n                thumbs: { autoStart: !1, hideOnClose: !0, parentEl: \".fancybox-container\", axis: \"y\" },\r\n                wheel: \"auto\",\r\n                onInit: n.noop,\r\n                beforeLoad: n.noop,\r\n                afterLoad: n.noop,\r\n                beforeShow: n.noop,\r\n                afterShow: n.noop,\r\n                beforeClose: n.noop,\r\n                afterClose: n.noop,\r\n                onActivate: n.noop,\r\n                onDeactivate: n.noop,\r\n                clickContent: function (t, e) {\r\n                    return \"image\" === t.type && \"zoom\";\r\n                },\r\n                clickSlide: \"close\",\r\n                clickOutside: \"close\",\r\n                dblclickContent: !1,\r\n                dblclickSlide: !1,\r\n                dblclickOutside: !1,\r\n                mobile: {\r\n                    preventCaptionOverlap: !1,\r\n                    idleTime: !1,\r\n                    clickContent: function (t, e) {\r\n                        return \"image\" === t.type && \"toggleControls\";\r\n                    },\r\n                    clickSlide: function (t, e) {\r\n                        return \"image\" === t.type ? \"toggleControls\" : \"close\";\r\n                    },\r\n                    dblclickContent: function (t, e) {\r\n                        return \"image\" === t.type && \"zoom\";\r\n                    },\r\n                    dblclickSlide: function (t, e) {\r\n                        return \"image\" === t.type && \"zoom\";\r\n                    },\r\n                },\r\n                lang: \"en\",\r\n                i18n: {\r\n                    en: {\r\n                        CLOSE: \"Close\",\r\n                        NEXT: \"Next\",\r\n                        PREV: \"Previous\",\r\n                        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\r\n                        PLAY_START: \"Start slideshow\",\r\n                        PLAY_STOP: \"Pause slideshow\",\r\n                        FULL_SCREEN: \"Full screen\",\r\n                        THUMBS: \"Thumbnails\",\r\n                        DOWNLOAD: \"Download\",\r\n                        SHARE: \"Share\",\r\n                        ZOOM: \"Zoom\",\r\n                    },\r\n                    de: {\r\n                        CLOSE: \"Schlie&szlig;en\",\r\n                        NEXT: \"Weiter\",\r\n                        PREV: \"Zur&uuml;ck\",\r\n                        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.\",\r\n                        PLAY_START: \"Diaschau starten\",\r\n                        PLAY_STOP: \"Diaschau beenden\",\r\n                        FULL_SCREEN: \"Vollbild\",\r\n                        THUMBS: \"Vorschaubilder\",\r\n                        DOWNLOAD: \"Herunterladen\",\r\n                        SHARE: \"Teilen\",\r\n                        ZOOM: \"Vergr&ouml;&szlig;ern\",\r\n                    },\r\n                },\r\n            },\r\n            s = n(t),\r\n            r = n(e),\r\n            c = 0,\r\n            l = function (t) {\r\n                return t && t.hasOwnProperty && t instanceof n;\r\n            },\r\n            d = (function () {\r\n                return (\r\n                    t.requestAnimationFrame ||\r\n                    t.webkitRequestAnimationFrame ||\r\n                    t.mozRequestAnimationFrame ||\r\n                    t.oRequestAnimationFrame ||\r\n                    function (e) {\r\n                        return t.setTimeout(e, 1e3 / 60);\r\n                    }\r\n                );\r\n            })(),\r\n            u = (function () {\r\n                return (\r\n                    t.cancelAnimationFrame ||\r\n                    t.webkitCancelAnimationFrame ||\r\n                    t.mozCancelAnimationFrame ||\r\n                    t.oCancelAnimationFrame ||\r\n                    function (e) {\r\n                        t.clearTimeout(e);\r\n                    }\r\n                );\r\n            })(),\r\n            f = (function () {\r\n                var t,\r\n                    n = e.createElement(\"fakeelement\"),\r\n                    o = { transition: \"transitionend\", OTransition: \"oTransitionEnd\", MozTransition: \"transitionend\", WebkitTransition: \"webkitTransitionEnd\" };\r\n                for (t in o) if (void 0 !== n.style[t]) return o[t];\r\n                return \"transitionend\";\r\n            })(),\r\n            p = function (t) {\r\n                return t && t.length && t[0].offsetHeight;\r\n            },\r\n            h = function (t, e) {\r\n                var o = n.extend(!0, {}, t, e);\r\n                return (\r\n                    n.each(e, function (t, e) {\r\n                        n.isArray(e) && (o[t] = e);\r\n                    }),\r\n                    o\r\n                );\r\n            },\r\n            g = function (t) {\r\n                var o, i;\r\n                return (\r\n                    !(!t || t.ownerDocument !== e) &&\r\n                    (n(\".fancybox-container\").css(\"pointer-events\", \"none\"),\r\n                    (o = { x: t.getBoundingClientRect().left + t.offsetWidth / 2, y: t.getBoundingClientRect().top + t.offsetHeight / 2 }),\r\n                    (i = e.elementFromPoint(o.x, o.y) === t),\r\n                    n(\".fancybox-container\").css(\"pointer-events\", \"\"),\r\n                    i)\r\n                );\r\n            },\r\n            b = function (t, e, o) {\r\n                var i = this;\r\n                (i.opts = h({ index: o }, n.fancybox.defaults)),\r\n                    n.isPlainObject(e) && (i.opts = h(i.opts, e)),\r\n                    n.fancybox.isMobile && (i.opts = h(i.opts, i.opts.mobile)),\r\n                    (i.id = i.opts.id || ++c),\r\n                    (i.currIndex = parseInt(i.opts.index, 10) || 0),\r\n                    (i.prevIndex = null),\r\n                    (i.prevPos = null),\r\n                    (i.currPos = 0),\r\n                    (i.firstRun = !0),\r\n                    (i.group = []),\r\n                    (i.slides = {}),\r\n                    i.addContent(t),\r\n                    i.group.length && i.init();\r\n            };\r\n        n.extend(b.prototype, {\r\n            init: function () {\r\n                var o,\r\n                    i,\r\n                    a = this,\r\n                    s = a.group[a.currIndex],\r\n                    r = s.opts;\r\n                r.closeExisting && n.fancybox.close(!0),\r\n                    n(\"body\").addClass(\"fancybox-active\"),\r\n                    !n.fancybox.getInstance() &&\r\n                        !1 !== r.hideScrollbar &&\r\n                        !n.fancybox.isMobile &&\r\n                        e.body.scrollHeight > t.innerHeight &&\r\n                        (n(\"head\").append('<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' + (t.innerWidth - e.documentElement.clientWidth) + \"px;}</style>\"),\r\n                        n(\"body\").addClass(\"compensate-for-scrollbar\")),\r\n                    (i = \"\"),\r\n                    n.each(r.buttons, function (t, e) {\r\n                        i += r.btnTpl[e] || \"\";\r\n                    }),\r\n                    (o = n(a.translate(a, r.baseTpl.replace(\"{{buttons}}\", i).replace(\"{{arrows}}\", r.btnTpl.arrowLeft + r.btnTpl.arrowRight)))\r\n                        .attr(\"id\", \"fancybox-container-\" + a.id)\r\n                        .addClass(r.baseClass)\r\n                        .data(\"FancyBox\", a)\r\n                        .appendTo(r.parentEl)),\r\n                    (a.$refs = { container: o }),\r\n                    [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function (t) {\r\n                        a.$refs[t] = o.find(\".fancybox-\" + t);\r\n                    }),\r\n                    a.trigger(\"onInit\"),\r\n                    a.activate(),\r\n                    a.jumpTo(a.currIndex);\r\n            },\r\n            translate: function (t, e) {\r\n                var n = t.opts.i18n[t.opts.lang] || t.opts.i18n.en;\r\n                return e.replace(/\\{\\{(\\w+)\\}\\}/g, function (t, e) {\r\n                    return void 0 === n[e] ? t : n[e];\r\n                });\r\n            },\r\n            addContent: function (t) {\r\n                var e,\r\n                    o = this,\r\n                    i = n.makeArray(t);\r\n                n.each(i, function (t, e) {\r\n                    var i,\r\n                        a,\r\n                        s,\r\n                        r,\r\n                        c,\r\n                        l = {},\r\n                        d = {};\r\n                    n.isPlainObject(e)\r\n                        ? ((l = e), (d = e.opts || e))\r\n                        : \"object\" === n.type(e) && n(e).length\r\n                        ? ((i = n(e)), (d = i.data() || {}), (d = n.extend(!0, {}, d, d.options)), (d.$orig = i), (l.src = o.opts.src || d.src || i.attr(\"href\")), l.type || l.src || ((l.type = \"inline\"), (l.src = e)))\r\n                        : (l = { type: \"html\", src: e + \"\" }),\r\n                        (l.opts = n.extend(!0, {}, o.opts, d)),\r\n                        n.isArray(d.buttons) && (l.opts.buttons = d.buttons),\r\n                        n.fancybox.isMobile && l.opts.mobile && (l.opts = h(l.opts, l.opts.mobile)),\r\n                        (a = l.type || l.opts.type),\r\n                        (r = l.src || \"\"),\r\n                        !a &&\r\n                            r &&\r\n                            ((s = r.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))\r\n                                ? ((a = \"video\"), l.opts.video.format || (l.opts.video.format = \"video/\" + (\"ogv\" === s[1] ? \"ogg\" : s[1])))\r\n                                : r.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)\r\n                                ? (a = \"image\")\r\n                                : r.match(/\\.(pdf)((\\?|#).*)?$/i)\r\n                                ? ((a = \"iframe\"), (l = n.extend(!0, l, { contentType: \"pdf\", opts: { iframe: { preload: !1 } } })))\r\n                                : \"#\" === r.charAt(0) && (a = \"inline\")),\r\n                        a ? (l.type = a) : o.trigger(\"objectNeedsType\", l),\r\n                        l.contentType || (l.contentType = n.inArray(l.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : l.type),\r\n                        (l.index = o.group.length),\r\n                        \"auto\" == l.opts.smallBtn && (l.opts.smallBtn = n.inArray(l.type, [\"html\", \"inline\", \"ajax\"]) > -1),\r\n                        \"auto\" === l.opts.toolbar && (l.opts.toolbar = !l.opts.smallBtn),\r\n                        (l.$thumb = l.opts.$thumb || null),\r\n                        l.opts.$trigger && l.index === o.opts.index && ((l.$thumb = l.opts.$trigger.find(\"img:first\")), l.$thumb.length && (l.opts.$orig = l.opts.$trigger)),\r\n                        (l.$thumb && l.$thumb.length) || !l.opts.$orig || (l.$thumb = l.opts.$orig.find(\"img:first\")),\r\n                        l.$thumb && !l.$thumb.length && (l.$thumb = null),\r\n                        (l.thumb = l.opts.thumb || (l.$thumb ? l.$thumb[0].src : null)),\r\n                        \"function\" === n.type(l.opts.caption) && (l.opts.caption = l.opts.caption.apply(e, [o, l])),\r\n                        \"function\" === n.type(o.opts.caption) && (l.opts.caption = o.opts.caption.apply(e, [o, l])),\r\n                        l.opts.caption instanceof n || (l.opts.caption = void 0 === l.opts.caption ? \"\" : l.opts.caption + \"\"),\r\n                        \"ajax\" === l.type && ((c = r.split(/\\s+/, 2)), c.length > 1 && ((l.src = c.shift()), (l.opts.filter = c.shift()))),\r\n                        l.opts.modal &&\r\n                            (l.opts = n.extend(!0, l.opts, {\r\n                                trapFocus: !0,\r\n                                infobar: 0,\r\n                                toolbar: 0,\r\n                                smallBtn: 0,\r\n                                keyboard: 0,\r\n                                slideShow: 0,\r\n                                fullScreen: 0,\r\n                                thumbs: 0,\r\n                                touch: 0,\r\n                                clickContent: !1,\r\n                                clickSlide: !1,\r\n                                clickOutside: !1,\r\n                                dblclickContent: !1,\r\n                                dblclickSlide: !1,\r\n                                dblclickOutside: !1,\r\n                            })),\r\n                        o.group.push(l);\r\n                }),\r\n                    Object.keys(o.slides).length && (o.updateControls(), (e = o.Thumbs) && e.isActive && (e.create(), e.focus()));\r\n            },\r\n            addEvents: function () {\r\n                var e = this;\r\n                e.removeEvents(),\r\n                    e.$refs.container\r\n                        .on(\"click.fb-close\", \"[data-fancybox-close]\", function (t) {\r\n                            t.stopPropagation(), t.preventDefault(), e.close(t);\r\n                        })\r\n                        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function (t) {\r\n                            t.stopPropagation(), t.preventDefault(), e.previous();\r\n                        })\r\n                        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function (t) {\r\n                            t.stopPropagation(), t.preventDefault(), e.next();\r\n                        })\r\n                        .on(\"click.fb\", \"[data-fancybox-zoom]\", function (t) {\r\n                            e[e.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\r\n                        }),\r\n                    s.on(\"orientationchange.fb resize.fb\", function (t) {\r\n                        t && t.originalEvent && \"resize\" === t.originalEvent.type\r\n                            ? (e.requestId && u(e.requestId),\r\n                              (e.requestId = d(function () {\r\n                                  e.update(t);\r\n                              })))\r\n                            : (e.current && \"iframe\" === e.current.type && e.$refs.stage.hide(),\r\n                              setTimeout(\r\n                                  function () {\r\n                                      e.$refs.stage.show(), e.update(t);\r\n                                  },\r\n                                  n.fancybox.isMobile ? 600 : 250\r\n                              ));\r\n                    }),\r\n                    r.on(\"keydown.fb\", function (t) {\r\n                        var o = n.fancybox ? n.fancybox.getInstance() : null,\r\n                            i = o.current,\r\n                            a = t.keyCode || t.which;\r\n                        if (9 == a) return void (i.opts.trapFocus && e.focus(t));\r\n                        if (!(!i.opts.keyboard || t.ctrlKey || t.altKey || t.shiftKey || n(t.target).is(\"input,textarea,video,audio,select\")))\r\n                            return 8 === a || 27 === a\r\n                                ? (t.preventDefault(), void e.close(t))\r\n                                : 37 === a || 38 === a\r\n                                ? (t.preventDefault(), void e.previous())\r\n                                : 39 === a || 40 === a\r\n                                ? (t.preventDefault(), void e.next())\r\n                                : void e.trigger(\"afterKeydown\", t, a);\r\n                    }),\r\n                    e.group[e.currIndex].opts.idleTime &&\r\n                        ((e.idleSecondsCounter = 0),\r\n                        r.on(\"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\", function (t) {\r\n                            (e.idleSecondsCounter = 0), e.isIdle && e.showControls(), (e.isIdle = !1);\r\n                        }),\r\n                        (e.idleInterval = t.setInterval(function () {\r\n                            ++e.idleSecondsCounter >= e.group[e.currIndex].opts.idleTime && !e.isDragging && ((e.isIdle = !0), (e.idleSecondsCounter = 0), e.hideControls());\r\n                        }, 1e3)));\r\n            },\r\n            removeEvents: function () {\r\n                var e = this;\r\n                s.off(\"orientationchange.fb resize.fb\"), r.off(\"keydown.fb .fb-idle\"), this.$refs.container.off(\".fb-close .fb-prev .fb-next\"), e.idleInterval && (t.clearInterval(e.idleInterval), (e.idleInterval = null));\r\n            },\r\n            previous: function (t) {\r\n                return this.jumpTo(this.currPos - 1, t);\r\n            },\r\n            next: function (t) {\r\n                return this.jumpTo(this.currPos + 1, t);\r\n            },\r\n            jumpTo: function (t, e) {\r\n                var o,\r\n                    i,\r\n                    a,\r\n                    s,\r\n                    r,\r\n                    c,\r\n                    l,\r\n                    d,\r\n                    u,\r\n                    f = this,\r\n                    h = f.group.length;\r\n                if (!(f.isDragging || f.isClosing || (f.isAnimating && f.firstRun))) {\r\n                    if (((t = parseInt(t, 10)), !(a = f.current ? f.current.opts.loop : f.opts.loop) && (t < 0 || t >= h))) return !1;\r\n                    if (\r\n                        ((o = f.firstRun = !Object.keys(f.slides).length),\r\n                        (r = f.current),\r\n                        (f.prevIndex = f.currIndex),\r\n                        (f.prevPos = f.currPos),\r\n                        (s = f.createSlide(t)),\r\n                        h > 1 && ((a || s.index < h - 1) && f.createSlide(t + 1), (a || s.index > 0) && f.createSlide(t - 1)),\r\n                        (f.current = s),\r\n                        (f.currIndex = s.index),\r\n                        (f.currPos = s.pos),\r\n                        f.trigger(\"beforeShow\", o),\r\n                        f.updateControls(),\r\n                        (s.forcedDuration = void 0),\r\n                        n.isNumeric(e) ? (s.forcedDuration = e) : (e = s.opts[o ? \"animationDuration\" : \"transitionDuration\"]),\r\n                        (e = parseInt(e, 10)),\r\n                        (i = f.isMoved(s)),\r\n                        s.$slide.addClass(\"fancybox-slide--current\"),\r\n                        o)\r\n                    )\r\n                        return s.opts.animationEffect && e && f.$refs.container.css(\"transition-duration\", e + \"ms\"), f.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\"), f.loadSlide(s), void f.preload(\"image\");\r\n                    (c = n.fancybox.getTranslate(r.$slide)),\r\n                        (l = n.fancybox.getTranslate(f.$refs.stage)),\r\n                        n.each(f.slides, function (t, e) {\r\n                            n.fancybox.stop(e.$slide, !0);\r\n                        }),\r\n                        r.pos !== s.pos && (r.isComplete = !1),\r\n                        r.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\"),\r\n                        i\r\n                            ? ((u = c.left - (r.pos * c.width + r.pos * r.opts.gutter)),\r\n                              n.each(f.slides, function (t, o) {\r\n                                  o.$slide.removeClass(\"fancybox-animated\").removeClass(function (t, e) {\r\n                                      return (e.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\r\n                                  });\r\n                                  var i = o.pos * c.width + o.pos * o.opts.gutter;\r\n                                  n.fancybox.setTranslate(o.$slide, { top: 0, left: i - l.left + u }),\r\n                                      o.pos !== s.pos && o.$slide.addClass(\"fancybox-slide--\" + (o.pos > s.pos ? \"next\" : \"previous\")),\r\n                                      p(o.$slide),\r\n                                      n.fancybox.animate(o.$slide, { top: 0, left: (o.pos - s.pos) * c.width + (o.pos - s.pos) * o.opts.gutter }, e, function () {\r\n                                          o.$slide.css({ transform: \"\", opacity: \"\" }).removeClass(\"fancybox-slide--next fancybox-slide--previous\"), o.pos === f.currPos && f.complete();\r\n                                      });\r\n                              }))\r\n                            : e &&\r\n                              s.opts.transitionEffect &&\r\n                              ((d = \"fancybox-animated fancybox-fx-\" + s.opts.transitionEffect),\r\n                              r.$slide.addClass(\"fancybox-slide--\" + (r.pos > s.pos ? \"next\" : \"previous\")),\r\n                              n.fancybox.animate(\r\n                                  r.$slide,\r\n                                  d,\r\n                                  e,\r\n                                  function () {\r\n                                      r.$slide.removeClass(d).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\r\n                                  },\r\n                                  !1\r\n                              )),\r\n                        s.isLoaded ? f.revealContent(s) : f.loadSlide(s),\r\n                        f.preload(\"image\");\r\n                }\r\n            },\r\n            createSlide: function (t) {\r\n                var e,\r\n                    o,\r\n                    i = this;\r\n                return (\r\n                    (o = t % i.group.length),\r\n                    (o = o < 0 ? i.group.length + o : o),\r\n                    !i.slides[t] && i.group[o] && ((e = n('<div class=\"fancybox-slide\"></div>').appendTo(i.$refs.stage)), (i.slides[t] = n.extend(!0, {}, i.group[o], { pos: t, $slide: e, isLoaded: !1 })), i.updateSlide(i.slides[t])),\r\n                    i.slides[t]\r\n                );\r\n            },\r\n            scaleToActual: function (t, e, o) {\r\n                var i,\r\n                    a,\r\n                    s,\r\n                    r,\r\n                    c,\r\n                    l = this,\r\n                    d = l.current,\r\n                    u = d.$content,\r\n                    f = n.fancybox.getTranslate(d.$slide).width,\r\n                    p = n.fancybox.getTranslate(d.$slide).height,\r\n                    h = d.width,\r\n                    g = d.height;\r\n                l.isAnimating ||\r\n                    l.isMoved() ||\r\n                    !u ||\r\n                    \"image\" != d.type ||\r\n                    !d.isLoaded ||\r\n                    d.hasError ||\r\n                    ((l.isAnimating = !0),\r\n                    n.fancybox.stop(u),\r\n                    (t = void 0 === t ? 0.5 * f : t),\r\n                    (e = void 0 === e ? 0.5 * p : e),\r\n                    (i = n.fancybox.getTranslate(u)),\r\n                    (i.top -= n.fancybox.getTranslate(d.$slide).top),\r\n                    (i.left -= n.fancybox.getTranslate(d.$slide).left),\r\n                    (r = h / i.width),\r\n                    (c = g / i.height),\r\n                    (a = 0.5 * f - 0.5 * h),\r\n                    (s = 0.5 * p - 0.5 * g),\r\n                    h > f && ((a = i.left * r - (t * r - t)), a > 0 && (a = 0), a < f - h && (a = f - h)),\r\n                    g > p && ((s = i.top * c - (e * c - e)), s > 0 && (s = 0), s < p - g && (s = p - g)),\r\n                    l.updateCursor(h, g),\r\n                    n.fancybox.animate(u, { top: s, left: a, scaleX: r, scaleY: c }, o || 366, function () {\r\n                        l.isAnimating = !1;\r\n                    }),\r\n                    l.SlideShow && l.SlideShow.isActive && l.SlideShow.stop());\r\n            },\r\n            scaleToFit: function (t) {\r\n                var e,\r\n                    o = this,\r\n                    i = o.current,\r\n                    a = i.$content;\r\n                o.isAnimating ||\r\n                    o.isMoved() ||\r\n                    !a ||\r\n                    \"image\" != i.type ||\r\n                    !i.isLoaded ||\r\n                    i.hasError ||\r\n                    ((o.isAnimating = !0),\r\n                    n.fancybox.stop(a),\r\n                    (e = o.getFitPos(i)),\r\n                    o.updateCursor(e.width, e.height),\r\n                    n.fancybox.animate(a, { top: e.top, left: e.left, scaleX: e.width / a.width(), scaleY: e.height / a.height() }, t || 366, function () {\r\n                        o.isAnimating = !1;\r\n                    }));\r\n            },\r\n            getFitPos: function (t) {\r\n                var e,\r\n                    o,\r\n                    i,\r\n                    a,\r\n                    s = this,\r\n                    r = t.$content,\r\n                    c = t.$slide,\r\n                    l = t.width || t.opts.width,\r\n                    d = t.height || t.opts.height,\r\n                    u = {};\r\n                return (\r\n                    !!(t.isLoaded && r && r.length) &&\r\n                    ((e = n.fancybox.getTranslate(s.$refs.stage).width),\r\n                    (o = n.fancybox.getTranslate(s.$refs.stage).height),\r\n                    (e -= parseFloat(c.css(\"paddingLeft\")) + parseFloat(c.css(\"paddingRight\")) + parseFloat(r.css(\"marginLeft\")) + parseFloat(r.css(\"marginRight\"))),\r\n                    (o -= parseFloat(c.css(\"paddingTop\")) + parseFloat(c.css(\"paddingBottom\")) + parseFloat(r.css(\"marginTop\")) + parseFloat(r.css(\"marginBottom\"))),\r\n                    (l && d) || ((l = e), (d = o)),\r\n                    (i = Math.min(1, e / l, o / d)),\r\n                    (l *= i),\r\n                    (d *= i),\r\n                    l > e - 0.5 && (l = e),\r\n                    d > o - 0.5 && (d = o),\r\n                    \"image\" === t.type\r\n                        ? ((u.top = Math.floor(0.5 * (o - d)) + parseFloat(c.css(\"paddingTop\"))), (u.left = Math.floor(0.5 * (e - l)) + parseFloat(c.css(\"paddingLeft\"))))\r\n                        : \"video\" === t.contentType && ((a = t.opts.width && t.opts.height ? l / d : t.opts.ratio || 16 / 9), d > l / a ? (d = l / a) : l > d * a && (l = d * a)),\r\n                    (u.width = l),\r\n                    (u.height = d),\r\n                    u)\r\n                );\r\n            },\r\n            update: function (t) {\r\n                var e = this;\r\n                n.each(e.slides, function (n, o) {\r\n                    e.updateSlide(o, t);\r\n                });\r\n            },\r\n            updateSlide: function (t, e) {\r\n                var o = this,\r\n                    i = t && t.$content,\r\n                    a = t.width || t.opts.width,\r\n                    s = t.height || t.opts.height,\r\n                    r = t.$slide;\r\n                o.adjustCaption(t),\r\n                    i && (a || s || \"video\" === t.contentType) && !t.hasError && (n.fancybox.stop(i), n.fancybox.setTranslate(i, o.getFitPos(t)), t.pos === o.currPos && ((o.isAnimating = !1), o.updateCursor())),\r\n                    o.adjustLayout(t),\r\n                    r.length &&\r\n                        (r.trigger(\"refresh\"), t.pos === o.currPos && o.$refs.toolbar.add(o.$refs.navigation.find(\".fancybox-button--arrow_right\")).toggleClass(\"compensate-for-scrollbar\", r.get(0).scrollHeight > r.get(0).clientHeight)),\r\n                    o.trigger(\"onUpdate\", t, e);\r\n            },\r\n            centerSlide: function (t) {\r\n                var e = this,\r\n                    o = e.current,\r\n                    i = o.$slide;\r\n                !e.isClosing &&\r\n                    o &&\r\n                    (i.siblings().css({ transform: \"\", opacity: \"\" }),\r\n                    i.parent().children().removeClass(\"fancybox-slide--previous fancybox-slide--next\"),\r\n                    n.fancybox.animate(\r\n                        i,\r\n                        { top: 0, left: 0, opacity: 1 },\r\n                        void 0 === t ? 0 : t,\r\n                        function () {\r\n                            i.css({ transform: \"\", opacity: \"\" }), o.isComplete || e.complete();\r\n                        },\r\n                        !1\r\n                    ));\r\n            },\r\n            isMoved: function (t) {\r\n                var e,\r\n                    o,\r\n                    i = t || this.current;\r\n                return !!i && ((o = n.fancybox.getTranslate(this.$refs.stage)), (e = n.fancybox.getTranslate(i.$slide)), !i.$slide.hasClass(\"fancybox-animated\") && (Math.abs(e.top - o.top) > 0.5 || Math.abs(e.left - o.left) > 0.5));\r\n            },\r\n            updateCursor: function (t, e) {\r\n                var o,\r\n                    i,\r\n                    a = this,\r\n                    s = a.current,\r\n                    r = a.$refs.container;\r\n                s &&\r\n                    !a.isClosing &&\r\n                    a.Guestures &&\r\n                    (r.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\"),\r\n                    (o = a.canPan(t, e)),\r\n                    (i = !!o || a.isZoomable()),\r\n                    r.toggleClass(\"fancybox-is-zoomable\", i),\r\n                    n(\"[data-fancybox-zoom]\").prop(\"disabled\", !i),\r\n                    o\r\n                        ? r.addClass(\"fancybox-can-pan\")\r\n                        : i && (\"zoom\" === s.opts.clickContent || (n.isFunction(s.opts.clickContent) && \"zoom\" == s.opts.clickContent(s)))\r\n                        ? r.addClass(\"fancybox-can-zoomIn\")\r\n                        : s.opts.touch && (s.opts.touch.vertical || a.group.length > 1) && \"video\" !== s.contentType && r.addClass(\"fancybox-can-swipe\"));\r\n            },\r\n            isZoomable: function () {\r\n                var t,\r\n                    e = this,\r\n                    n = e.current;\r\n                if (n && !e.isClosing && \"image\" === n.type && !n.hasError) {\r\n                    if (!n.isLoaded) return !0;\r\n                    if ((t = e.getFitPos(n)) && (n.width > t.width || n.height > t.height)) return !0;\r\n                }\r\n                return !1;\r\n            },\r\n            isScaledDown: function (t, e) {\r\n                var o = this,\r\n                    i = !1,\r\n                    a = o.current,\r\n                    s = a.$content;\r\n                return void 0 !== t && void 0 !== e ? (i = t < a.width && e < a.height) : s && ((i = n.fancybox.getTranslate(s)), (i = i.width < a.width && i.height < a.height)), i;\r\n            },\r\n            canPan: function (t, e) {\r\n                var o = this,\r\n                    i = o.current,\r\n                    a = null,\r\n                    s = !1;\r\n                return (\r\n                    \"image\" === i.type &&\r\n                        (i.isComplete || (t && e)) &&\r\n                        !i.hasError &&\r\n                        ((s = o.getFitPos(i)),\r\n                        void 0 !== t && void 0 !== e ? (a = { width: t, height: e }) : i.isComplete && (a = n.fancybox.getTranslate(i.$content)),\r\n                        a && s && (s = Math.abs(a.width - s.width) > 1.5 || Math.abs(a.height - s.height) > 1.5)),\r\n                    s\r\n                );\r\n            },\r\n            loadSlide: function (t) {\r\n                var e,\r\n                    o,\r\n                    i,\r\n                    a = this;\r\n                if (!t.isLoading && !t.isLoaded) {\r\n                    if (((t.isLoading = !0), !1 === a.trigger(\"beforeLoad\", t))) return (t.isLoading = !1), !1;\r\n                    switch (((e = t.type), (o = t.$slide), o.off(\"refresh\").trigger(\"onReset\").addClass(t.opts.slideClass), e)) {\r\n                        case \"image\":\r\n                            a.setImage(t);\r\n                            break;\r\n                        case \"iframe\":\r\n                            a.setIframe(t);\r\n                            break;\r\n                        case \"html\":\r\n                            a.setContent(t, t.src || t.content);\r\n                            break;\r\n                        case \"video\":\r\n                            a.setContent(\r\n                                t,\r\n                                t.opts.video.tpl\r\n                                    .replace(/\\{\\{src\\}\\}/gi, t.src)\r\n                                    .replace(\"{{format}}\", t.opts.videoFormat || t.opts.video.format || \"\")\r\n                                    .replace(\"{{poster}}\", t.thumb || \"\")\r\n                            );\r\n                            break;\r\n                        case \"inline\":\r\n                            n(t.src).length ? a.setContent(t, n(t.src)) : a.setError(t);\r\n                            break;\r\n                        case \"ajax\":\r\n                            a.showLoading(t),\r\n                                (i = n.ajax(\r\n                                    n.extend({}, t.opts.ajax.settings, {\r\n                                        url: t.src,\r\n                                        success: function (e, n) {\r\n                                            \"success\" === n && a.setContent(t, e);\r\n                                        },\r\n                                        error: function (e, n) {\r\n                                            e && \"abort\" !== n && a.setError(t);\r\n                                        },\r\n                                    })\r\n                                )),\r\n                                o.one(\"onReset\", function () {\r\n                                    i.abort();\r\n                                });\r\n                            break;\r\n                        default:\r\n                            a.setError(t);\r\n                    }\r\n                    return !0;\r\n                }\r\n            },\r\n            setImage: function (t) {\r\n                var o,\r\n                    i = this;\r\n                setTimeout(function () {\r\n                    var e = t.$image;\r\n                    i.isClosing || !t.isLoading || (e && e.length && e[0].complete) || t.hasError || i.showLoading(t);\r\n                }, 50),\r\n                    i.checkSrcset(t),\r\n                    (t.$content = n('<div class=\"fancybox-content\"></div>').addClass(\"fancybox-is-hidden\").appendTo(t.$slide.addClass(\"fancybox-slide--image\"))),\r\n                    !1 !== t.opts.preload &&\r\n                        t.opts.width &&\r\n                        t.opts.height &&\r\n                        t.thumb &&\r\n                        ((t.width = t.opts.width),\r\n                        (t.height = t.opts.height),\r\n                        (o = e.createElement(\"img\")),\r\n                        (o.onerror = function () {\r\n                            n(this).remove(), (t.$ghost = null);\r\n                        }),\r\n                        (o.onload = function () {\r\n                            i.afterLoad(t);\r\n                        }),\r\n                        (t.$ghost = n(o).addClass(\"fancybox-image\").appendTo(t.$content).attr(\"src\", t.thumb))),\r\n                    i.setBigImage(t);\r\n            },\r\n            checkSrcset: function (e) {\r\n                var n,\r\n                    o,\r\n                    i,\r\n                    a,\r\n                    s = e.opts.srcset || e.opts.image.srcset;\r\n                if (s) {\r\n                    (i = t.devicePixelRatio || 1),\r\n                        (a = t.innerWidth * i),\r\n                        (o = s.split(\",\").map(function (t) {\r\n                            var e = {};\r\n                            return (\r\n                                t\r\n                                    .trim()\r\n                                    .split(/\\s+/)\r\n                                    .forEach(function (t, n) {\r\n                                        var o = parseInt(t.substring(0, t.length - 1), 10);\r\n                                        if (0 === n) return (e.url = t);\r\n                                        o && ((e.value = o), (e.postfix = t[t.length - 1]));\r\n                                    }),\r\n                                e\r\n                            );\r\n                        })),\r\n                        o.sort(function (t, e) {\r\n                            return t.value - e.value;\r\n                        });\r\n                    for (var r = 0; r < o.length; r++) {\r\n                        var c = o[r];\r\n                        if ((\"w\" === c.postfix && c.value >= a) || (\"x\" === c.postfix && c.value >= i)) {\r\n                            n = c;\r\n                            break;\r\n                        }\r\n                    }\r\n                    !n && o.length && (n = o[o.length - 1]), n && ((e.src = n.url), e.width && e.height && \"w\" == n.postfix && ((e.height = (e.width / e.height) * n.value), (e.width = n.value)), (e.opts.srcset = s));\r\n                }\r\n            },\r\n            setBigImage: function (t) {\r\n                var o = this,\r\n                    i = e.createElement(\"img\"),\r\n                    a = n(i);\r\n                (t.$image = a\r\n                    .one(\"error\", function () {\r\n                        o.setError(t);\r\n                    })\r\n                    .one(\"load\", function () {\r\n                        var e;\r\n                        t.$ghost || (o.resolveImageSlideSize(t, this.naturalWidth, this.naturalHeight), o.afterLoad(t)),\r\n                            o.isClosing ||\r\n                                (t.opts.srcset &&\r\n                                    ((e = t.opts.sizes),\r\n                                    (e && \"auto\" !== e) || (e = (t.width / t.height > 1 && s.width() / s.height() > 1 ? \"100\" : Math.round((t.width / t.height) * 100)) + \"vw\"),\r\n                                    a.attr(\"sizes\", e).attr(\"srcset\", t.opts.srcset)),\r\n                                t.$ghost &&\r\n                                    setTimeout(function () {\r\n                                        t.$ghost && !o.isClosing && t.$ghost.hide();\r\n                                    }, Math.min(300, Math.max(1e3, t.height / 1600))),\r\n                                o.hideLoading(t));\r\n                    })\r\n                    .addClass(\"fancybox-image\")\r\n                    .attr(\"src\", t.src)\r\n                    .appendTo(t.$content)),\r\n                    (i.complete || \"complete\" == i.readyState) && a.naturalWidth && a.naturalHeight ? a.trigger(\"load\") : i.error && a.trigger(\"error\");\r\n            },\r\n            resolveImageSlideSize: function (t, e, n) {\r\n                var o = parseInt(t.opts.width, 10),\r\n                    i = parseInt(t.opts.height, 10);\r\n                (t.width = e), (t.height = n), o > 0 && ((t.width = o), (t.height = Math.floor((o * n) / e))), i > 0 && ((t.width = Math.floor((i * e) / n)), (t.height = i));\r\n            },\r\n            setIframe: function (t) {\r\n                var e,\r\n                    o = this,\r\n                    i = t.opts.iframe,\r\n                    a = t.$slide;\r\n                (t.$content = n('<div class=\"fancybox-content' + (i.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\r\n                    .css(i.css)\r\n                    .appendTo(a)),\r\n                    a.addClass(\"fancybox-slide--\" + t.contentType),\r\n                    (t.$iframe = e = n(i.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\r\n                        .attr(i.attr)\r\n                        .appendTo(t.$content)),\r\n                    i.preload\r\n                        ? (o.showLoading(t),\r\n                          e.on(\"load.fb error.fb\", function (e) {\r\n                              (this.isReady = 1), t.$slide.trigger(\"refresh\"), o.afterLoad(t);\r\n                          }),\r\n                          a.on(\"refresh.fb\", function () {\r\n                              var n,\r\n                                  o,\r\n                                  s = t.$content,\r\n                                  r = i.css.width,\r\n                                  c = i.css.height;\r\n                              if (1 === e[0].isReady) {\r\n                                  try {\r\n                                      (n = e.contents()), (o = n.find(\"body\"));\r\n                                  } catch (t) {}\r\n                                  o &&\r\n                                      o.length &&\r\n                                      o.children().length &&\r\n                                      (a.css(\"overflow\", \"visible\"),\r\n                                      s.css({ width: \"100%\", \"max-width\": \"100%\", height: \"9999px\" }),\r\n                                      void 0 === r && (r = Math.ceil(Math.max(o[0].clientWidth, o.outerWidth(!0)))),\r\n                                      s.css(\"width\", r || \"\").css(\"max-width\", \"\"),\r\n                                      void 0 === c && (c = Math.ceil(Math.max(o[0].clientHeight, o.outerHeight(!0)))),\r\n                                      s.css(\"height\", c || \"\"),\r\n                                      a.css(\"overflow\", \"auto\")),\r\n                                      s.removeClass(\"fancybox-is-hidden\");\r\n                              }\r\n                          }))\r\n                        : o.afterLoad(t),\r\n                    e.attr(\"src\", t.src),\r\n                    a.one(\"onReset\", function () {\r\n                        try {\r\n                            n(this).find(\"iframe\").hide().unbind().attr(\"src\", \"//about:blank\");\r\n                        } catch (t) {}\r\n                        n(this).off(\"refresh.fb\").empty(), (t.isLoaded = !1), (t.isRevealed = !1);\r\n                    });\r\n            },\r\n            setContent: function (t, e) {\r\n                var o = this;\r\n                o.isClosing ||\r\n                    (o.hideLoading(t),\r\n                    t.$content && n.fancybox.stop(t.$content),\r\n                    t.$slide.empty(),\r\n                    l(e) && e.parent().length\r\n                        ? ((e.hasClass(\"fancybox-content\") || e.parent().hasClass(\"fancybox-content\")) && e.parents(\".fancybox-slide\").trigger(\"onReset\"),\r\n                          (t.$placeholder = n(\"<div>\").hide().insertAfter(e)),\r\n                          e.css(\"display\", \"inline-block\"))\r\n                        : t.hasError || (\"string\" === n.type(e) && (e = n(\"<div>\").append(n.trim(e)).contents()), t.opts.filter && (e = n(\"<div>\").html(e).find(t.opts.filter))),\r\n                    t.$slide.one(\"onReset\", function () {\r\n                        n(this).find(\"video,audio\").trigger(\"pause\"),\r\n                            t.$placeholder && (t.$placeholder.after(e.removeClass(\"fancybox-content\").hide()).remove(), (t.$placeholder = null)),\r\n                            t.$smallBtn && (t.$smallBtn.remove(), (t.$smallBtn = null)),\r\n                            t.hasError || (n(this).empty(), (t.isLoaded = !1), (t.isRevealed = !1));\r\n                    }),\r\n                    n(e).appendTo(t.$slide),\r\n                    n(e).is(\"video,audio\") &&\r\n                        (n(e).addClass(\"fancybox-video\"), n(e).wrap(\"<div></div>\"), (t.contentType = \"video\"), (t.opts.width = t.opts.width || n(e).attr(\"width\")), (t.opts.height = t.opts.height || n(e).attr(\"height\"))),\r\n                    (t.$content = t.$slide.children().filter(\"div,form,main,video,audio,article,.fancybox-content\").first()),\r\n                    t.$content.siblings().hide(),\r\n                    t.$content.length || (t.$content = t.$slide.wrapInner(\"<div></div>\").children().first()),\r\n                    t.$content.addClass(\"fancybox-content\"),\r\n                    t.$slide.addClass(\"fancybox-slide--\" + t.contentType),\r\n                    o.afterLoad(t));\r\n            },\r\n            setError: function (t) {\r\n                (t.hasError = !0),\r\n                    t.$slide\r\n                        .trigger(\"onReset\")\r\n                        .removeClass(\"fancybox-slide--\" + t.contentType)\r\n                        .addClass(\"fancybox-slide--error\"),\r\n                    (t.contentType = \"html\"),\r\n                    this.setContent(t, this.translate(t, t.opts.errorTpl)),\r\n                    t.pos === this.currPos && (this.isAnimating = !1);\r\n            },\r\n            showLoading: function (t) {\r\n                var e = this;\r\n                (t = t || e.current) && !t.$spinner && (t.$spinner = n(e.translate(e, e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn(\"fast\"));\r\n            },\r\n            hideLoading: function (t) {\r\n                var e = this;\r\n                (t = t || e.current) && t.$spinner && (t.$spinner.stop().remove(), delete t.$spinner);\r\n            },\r\n            afterLoad: function (t) {\r\n                var e = this;\r\n                e.isClosing ||\r\n                    ((t.isLoading = !1),\r\n                    (t.isLoaded = !0),\r\n                    e.trigger(\"afterLoad\", t),\r\n                    e.hideLoading(t),\r\n                    !t.opts.smallBtn || (t.$smallBtn && t.$smallBtn.length) || (t.$smallBtn = n(e.translate(t, t.opts.btnTpl.smallBtn)).appendTo(t.$content)),\r\n                    t.opts.protect &&\r\n                        t.$content &&\r\n                        !t.hasError &&\r\n                        (t.$content.on(\"contextmenu.fb\", function (t) {\r\n                            return 2 == t.button && t.preventDefault(), !0;\r\n                        }),\r\n                        \"image\" === t.type && n('<div class=\"fancybox-spaceball\"></div>').appendTo(t.$content)),\r\n                    e.adjustCaption(t),\r\n                    e.adjustLayout(t),\r\n                    t.pos === e.currPos && e.updateCursor(),\r\n                    e.revealContent(t));\r\n            },\r\n            adjustCaption: function (t) {\r\n                var e,\r\n                    n = this,\r\n                    o = t || n.current,\r\n                    i = o.opts.caption,\r\n                    a = o.opts.preventCaptionOverlap,\r\n                    s = n.$refs.caption,\r\n                    r = !1;\r\n                s.toggleClass(\"fancybox-caption--separate\", a),\r\n                    a &&\r\n                        i &&\r\n                        i.length &&\r\n                        (o.pos !== n.currPos ? ((e = s.clone().appendTo(s.parent())), e.children().eq(0).empty().html(i), (r = e.outerHeight(!0)), e.empty().remove()) : n.$caption && (r = n.$caption.outerHeight(!0)),\r\n                        o.$slide.css(\"padding-bottom\", r || \"\"));\r\n            },\r\n            adjustLayout: function (t) {\r\n                var e,\r\n                    n,\r\n                    o,\r\n                    i,\r\n                    a = this,\r\n                    s = t || a.current;\r\n                s.isLoaded &&\r\n                    !0 !== s.opts.disableLayoutFix &&\r\n                    (s.$content.css(\"margin-bottom\", \"\"),\r\n                    s.$content.outerHeight() > s.$slide.height() + 0.5 &&\r\n                        ((o = s.$slide[0].style[\"padding-bottom\"]),\r\n                        (i = s.$slide.css(\"padding-bottom\")),\r\n                        parseFloat(i) > 0 && ((e = s.$slide[0].scrollHeight), s.$slide.css(\"padding-bottom\", 0), Math.abs(e - s.$slide[0].scrollHeight) < 1 && (n = i), s.$slide.css(\"padding-bottom\", o))),\r\n                    s.$content.css(\"margin-bottom\", n));\r\n            },\r\n            revealContent: function (t) {\r\n                var e,\r\n                    o,\r\n                    i,\r\n                    a,\r\n                    s = this,\r\n                    r = t.$slide,\r\n                    c = !1,\r\n                    l = !1,\r\n                    d = s.isMoved(t),\r\n                    u = t.isRevealed;\r\n                return (\r\n                    (t.isRevealed = !0),\r\n                    (e = t.opts[s.firstRun ? \"animationEffect\" : \"transitionEffect\"]),\r\n                    (i = t.opts[s.firstRun ? \"animationDuration\" : \"transitionDuration\"]),\r\n                    (i = parseInt(void 0 === t.forcedDuration ? i : t.forcedDuration, 10)),\r\n                    (!d && t.pos === s.currPos && i) || (e = !1),\r\n                    \"zoom\" === e && (t.pos === s.currPos && i && \"image\" === t.type && !t.hasError && (l = s.getThumbPos(t)) ? (c = s.getFitPos(t)) : (e = \"fade\")),\r\n                    \"zoom\" === e\r\n                        ? ((s.isAnimating = !0),\r\n                          (c.scaleX = c.width / l.width),\r\n                          (c.scaleY = c.height / l.height),\r\n                          (a = t.opts.zoomOpacity),\r\n                          \"auto\" == a && (a = Math.abs(t.width / t.height - l.width / l.height) > 0.1),\r\n                          a && ((l.opacity = 0.1), (c.opacity = 1)),\r\n                          n.fancybox.setTranslate(t.$content.removeClass(\"fancybox-is-hidden\"), l),\r\n                          p(t.$content),\r\n                          void n.fancybox.animate(t.$content, c, i, function () {\r\n                              (s.isAnimating = !1), s.complete();\r\n                          }))\r\n                        : (s.updateSlide(t),\r\n                          e\r\n                              ? (n.fancybox.stop(r),\r\n                                (o = \"fancybox-slide--\" + (t.pos >= s.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + e),\r\n                                r.addClass(o).removeClass(\"fancybox-slide--current\"),\r\n                                t.$content.removeClass(\"fancybox-is-hidden\"),\r\n                                p(r),\r\n                                \"image\" !== t.type && t.$content.hide().show(0),\r\n                                void n.fancybox.animate(\r\n                                    r,\r\n                                    \"fancybox-slide--current\",\r\n                                    i,\r\n                                    function () {\r\n                                        r.removeClass(o).css({ transform: \"\", opacity: \"\" }), t.pos === s.currPos && s.complete();\r\n                                    },\r\n                                    !0\r\n                                ))\r\n                              : (t.$content.removeClass(\"fancybox-is-hidden\"), u || !d || \"image\" !== t.type || t.hasError || t.$content.hide().fadeIn(\"fast\"), void (t.pos === s.currPos && s.complete())))\r\n                );\r\n            },\r\n            getThumbPos: function (t) {\r\n                var e,\r\n                    o,\r\n                    i,\r\n                    a,\r\n                    s,\r\n                    r = !1,\r\n                    c = t.$thumb;\r\n                return (\r\n                    !(!c || !g(c[0])) &&\r\n                    ((e = n.fancybox.getTranslate(c)),\r\n                    (o = parseFloat(c.css(\"border-top-width\") || 0)),\r\n                    (i = parseFloat(c.css(\"border-right-width\") || 0)),\r\n                    (a = parseFloat(c.css(\"border-bottom-width\") || 0)),\r\n                    (s = parseFloat(c.css(\"border-left-width\") || 0)),\r\n                    (r = { top: e.top + o, left: e.left + s, width: e.width - i - s, height: e.height - o - a, scaleX: 1, scaleY: 1 }),\r\n                    e.width > 0 && e.height > 0 && r)\r\n                );\r\n            },\r\n            complete: function () {\r\n                var t,\r\n                    e = this,\r\n                    o = e.current,\r\n                    i = {};\r\n                !e.isMoved() &&\r\n                    o.isLoaded &&\r\n                    (o.isComplete ||\r\n                        ((o.isComplete = !0),\r\n                        o.$slide.siblings().trigger(\"onReset\"),\r\n                        e.preload(\"inline\"),\r\n                        p(o.$slide),\r\n                        o.$slide.addClass(\"fancybox-slide--complete\"),\r\n                        n.each(e.slides, function (t, o) {\r\n                            o.pos >= e.currPos - 1 && o.pos <= e.currPos + 1 ? (i[o.pos] = o) : o && (n.fancybox.stop(o.$slide), o.$slide.off().remove());\r\n                        }),\r\n                        (e.slides = i)),\r\n                    (e.isAnimating = !1),\r\n                    e.updateCursor(),\r\n                    e.trigger(\"afterShow\"),\r\n                    o.opts.video.autoStart &&\r\n                        o.$slide\r\n                            .find(\"video,audio\")\r\n                            .filter(\":visible:first\")\r\n                            .trigger(\"play\")\r\n                            .one(\"ended\", function () {\r\n                                Document.exitFullscreen ? Document.exitFullscreen() : this.webkitExitFullscreen && this.webkitExitFullscreen(), e.next();\r\n                            }),\r\n                    o.opts.autoFocus && \"html\" === o.contentType && ((t = o.$content.find(\"input[autofocus]:enabled:visible:first\")), t.length ? t.trigger(\"focus\") : e.focus(null, !0)),\r\n                    o.$slide.scrollTop(0).scrollLeft(0));\r\n            },\r\n            preload: function (t) {\r\n                var e,\r\n                    n,\r\n                    o = this;\r\n                o.group.length < 2 || ((n = o.slides[o.currPos + 1]), (e = o.slides[o.currPos - 1]), e && e.type === t && o.loadSlide(e), n && n.type === t && o.loadSlide(n));\r\n            },\r\n            focus: function (t, o) {\r\n                var i,\r\n                    a,\r\n                    s = this,\r\n                    r = [\r\n                        \"a[href]\",\r\n                        \"area[href]\",\r\n                        'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\r\n                        \"select:not([disabled]):not([aria-hidden])\",\r\n                        \"textarea:not([disabled]):not([aria-hidden])\",\r\n                        \"button:not([disabled]):not([aria-hidden])\",\r\n                        \"iframe\",\r\n                        \"object\",\r\n                        \"embed\",\r\n                        \"video\",\r\n                        \"audio\",\r\n                        \"[contenteditable]\",\r\n                        '[tabindex]:not([tabindex^=\"-\"])',\r\n                    ].join(\",\");\r\n                s.isClosing ||\r\n                    ((i = !t && s.current && s.current.isComplete ? s.current.$slide.find(\"*:visible\" + (o ? \":not(.fancybox-close-small)\" : \"\")) : s.$refs.container.find(\"*:visible\")),\r\n                    (i = i.filter(r).filter(function () {\r\n                        return \"hidden\" !== n(this).css(\"visibility\") && !n(this).hasClass(\"disabled\");\r\n                    })),\r\n                    i.length\r\n                        ? ((a = i.index(e.activeElement)),\r\n                          t && t.shiftKey ? (a < 0 || 0 == a) && (t.preventDefault(), i.eq(i.length - 1).trigger(\"focus\")) : (a < 0 || a == i.length - 1) && (t && t.preventDefault(), i.eq(0).trigger(\"focus\")))\r\n                        : s.$refs.container.trigger(\"focus\"));\r\n            },\r\n            activate: function () {\r\n                var t = this;\r\n                n(\".fancybox-container\").each(function () {\r\n                    var e = n(this).data(\"FancyBox\");\r\n                    e && e.id !== t.id && !e.isClosing && (e.trigger(\"onDeactivate\"), e.removeEvents(), (e.isVisible = !1));\r\n                }),\r\n                    (t.isVisible = !0),\r\n                    (t.current || t.isIdle) && (t.update(), t.updateControls()),\r\n                    t.trigger(\"onActivate\"),\r\n                    t.addEvents();\r\n            },\r\n            close: function (t, e) {\r\n                var o,\r\n                    i,\r\n                    a,\r\n                    s,\r\n                    r,\r\n                    c,\r\n                    l,\r\n                    u = this,\r\n                    f = u.current,\r\n                    h = function () {\r\n                        u.cleanUp(t);\r\n                    };\r\n                return (\r\n                    !u.isClosing &&\r\n                    ((u.isClosing = !0),\r\n                    !1 === u.trigger(\"beforeClose\", t)\r\n                        ? ((u.isClosing = !1),\r\n                          d(function () {\r\n                              u.update();\r\n                          }),\r\n                          !1)\r\n                        : (u.removeEvents(),\r\n                          (a = f.$content),\r\n                          (o = f.opts.animationEffect),\r\n                          (i = n.isNumeric(e) ? e : o ? f.opts.animationDuration : 0),\r\n                          f.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\"),\r\n                          !0 !== t ? n.fancybox.stop(f.$slide) : (o = !1),\r\n                          f.$slide.siblings().trigger(\"onReset\").remove(),\r\n                          i &&\r\n                              u.$refs.container\r\n                                  .removeClass(\"fancybox-is-open\")\r\n                                  .addClass(\"fancybox-is-closing\")\r\n                                  .css(\"transition-duration\", i + \"ms\"),\r\n                          u.hideLoading(f),\r\n                          u.hideControls(!0),\r\n                          u.updateCursor(),\r\n                          \"zoom\" !== o || (a && i && \"image\" === f.type && !u.isMoved() && !f.hasError && (l = u.getThumbPos(f))) || (o = \"fade\"),\r\n                          \"zoom\" === o\r\n                              ? (n.fancybox.stop(a),\r\n                                (s = n.fancybox.getTranslate(a)),\r\n                                (c = { top: s.top, left: s.left, scaleX: s.width / l.width, scaleY: s.height / l.height, width: l.width, height: l.height }),\r\n                                (r = f.opts.zoomOpacity),\r\n                                \"auto\" == r && (r = Math.abs(f.width / f.height - l.width / l.height) > 0.1),\r\n                                r && (l.opacity = 0),\r\n                                n.fancybox.setTranslate(a, c),\r\n                                p(a),\r\n                                n.fancybox.animate(a, l, i, h),\r\n                                !0)\r\n                              : (o && i ? n.fancybox.animate(f.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"), \"fancybox-animated fancybox-fx-\" + o, i, h) : !0 === t ? setTimeout(h, i) : h(), !0)))\r\n                );\r\n            },\r\n            cleanUp: function (e) {\r\n                var o,\r\n                    i,\r\n                    a,\r\n                    s = this,\r\n                    r = s.current.opts.$orig;\r\n                s.current.$slide.trigger(\"onReset\"),\r\n                    s.$refs.container.empty().remove(),\r\n                    s.trigger(\"afterClose\", e),\r\n                    s.current.opts.backFocus && ((r && r.length && r.is(\":visible\")) || (r = s.$trigger), r && r.length && ((i = t.scrollX), (a = t.scrollY), r.trigger(\"focus\"), n(\"html, body\").scrollTop(a).scrollLeft(i))),\r\n                    (s.current = null),\r\n                    (o = n.fancybox.getInstance()),\r\n                    o ? o.activate() : (n(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\"), n(\"#fancybox-style-noscroll\").remove());\r\n            },\r\n            trigger: function (t, e) {\r\n                var o,\r\n                    i = Array.prototype.slice.call(arguments, 1),\r\n                    a = this,\r\n                    s = e && e.opts ? e : a.current;\r\n                if ((s ? i.unshift(s) : (s = a), i.unshift(a), n.isFunction(s.opts[t]) && (o = s.opts[t].apply(s, i)), !1 === o)) return o;\r\n                \"afterClose\" !== t && a.$refs ? a.$refs.container.trigger(t + \".fb\", i) : r.trigger(t + \".fb\", i);\r\n            },\r\n            updateControls: function () {\r\n                var t = this,\r\n                    o = t.current,\r\n                    i = o.index,\r\n                    a = t.$refs.container,\r\n                    s = t.$refs.caption,\r\n                    r = o.opts.caption;\r\n                o.$slide.trigger(\"refresh\"),\r\n                    r && r.length ? ((t.$caption = s), s.children().eq(0).html(r)) : (t.$caption = null),\r\n                    t.hasHiddenControls || t.isIdle || t.showControls(),\r\n                    a.find(\"[data-fancybox-count]\").html(t.group.length),\r\n                    a.find(\"[data-fancybox-index]\").html(i + 1),\r\n                    a.find(\"[data-fancybox-prev]\").prop(\"disabled\", !o.opts.loop && i <= 0),\r\n                    a.find(\"[data-fancybox-next]\").prop(\"disabled\", !o.opts.loop && i >= t.group.length - 1),\r\n                    \"image\" === o.type\r\n                        ? a\r\n                              .find(\"[data-fancybox-zoom]\")\r\n                              .show()\r\n                              .end()\r\n                              .find(\"[data-fancybox-download]\")\r\n                              .attr(\"href\", o.opts.image.src || o.src)\r\n                              .show()\r\n                        : o.opts.toolbar && a.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide(),\r\n                    n(e.activeElement).is(\":hidden,[disabled]\") && t.$refs.container.trigger(\"focus\");\r\n            },\r\n            hideControls: function (t) {\r\n                var e = this,\r\n                    n = [\"infobar\", \"toolbar\", \"nav\"];\r\n                (!t && e.current.opts.preventCaptionOverlap) || n.push(\"caption\"),\r\n                    this.$refs.container.removeClass(\r\n                        n\r\n                            .map(function (t) {\r\n                                return \"fancybox-show-\" + t;\r\n                            })\r\n                            .join(\" \")\r\n                    ),\r\n                    (this.hasHiddenControls = !0);\r\n            },\r\n            showControls: function () {\r\n                var t = this,\r\n                    e = t.current ? t.current.opts : t.opts,\r\n                    n = t.$refs.container;\r\n                (t.hasHiddenControls = !1),\r\n                    (t.idleSecondsCounter = 0),\r\n                    n\r\n                        .toggleClass(\"fancybox-show-toolbar\", !(!e.toolbar || !e.buttons))\r\n                        .toggleClass(\"fancybox-show-infobar\", !!(e.infobar && t.group.length > 1))\r\n                        .toggleClass(\"fancybox-show-caption\", !!t.$caption)\r\n                        .toggleClass(\"fancybox-show-nav\", !!(e.arrows && t.group.length > 1))\r\n                        .toggleClass(\"fancybox-is-modal\", !!e.modal);\r\n            },\r\n            toggleControls: function () {\r\n                this.hasHiddenControls ? this.showControls() : this.hideControls();\r\n            },\r\n        }),\r\n            (n.fancybox = {\r\n                version: \"3.5.7\",\r\n                defaults: a,\r\n                getInstance: function (t) {\r\n                    var e = n('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\r\n                        o = Array.prototype.slice.call(arguments, 1);\r\n                    return e instanceof b && (\"string\" === n.type(t) ? e[t].apply(e, o) : \"function\" === n.type(t) && t.apply(e, o), e);\r\n                },\r\n                open: function (t, e, n) {\r\n                    return new b(t, e, n);\r\n                },\r\n                close: function (t) {\r\n                    var e = this.getInstance();\r\n                    e && (e.close(), !0 === t && this.close(t));\r\n                },\r\n                destroy: function () {\r\n                    this.close(!0), r.add(\"body\").off(\"click.fb-start\", \"**\");\r\n                },\r\n                isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\r\n                use3d: (function () {\r\n                    var n = e.createElement(\"div\");\r\n                    return t.getComputedStyle && t.getComputedStyle(n) && t.getComputedStyle(n).getPropertyValue(\"transform\") && !(e.documentMode && e.documentMode < 11);\r\n                })(),\r\n                getTranslate: function (t) {\r\n                    var e;\r\n                    return !(!t || !t.length) && ((e = t[0].getBoundingClientRect()), { top: e.top || 0, left: e.left || 0, width: e.width, height: e.height, opacity: parseFloat(t.css(\"opacity\")) });\r\n                },\r\n                setTranslate: function (t, e) {\r\n                    var n = \"\",\r\n                        o = {};\r\n                    if (t && e)\r\n                        return (\r\n                            (void 0 === e.left && void 0 === e.top) ||\r\n                                ((n = (void 0 === e.left ? t.position().left : e.left) + \"px, \" + (void 0 === e.top ? t.position().top : e.top) + \"px\"), (n = this.use3d ? \"translate3d(\" + n + \", 0px)\" : \"translate(\" + n + \")\")),\r\n                            void 0 !== e.scaleX && void 0 !== e.scaleY ? (n += \" scale(\" + e.scaleX + \", \" + e.scaleY + \")\") : void 0 !== e.scaleX && (n += \" scaleX(\" + e.scaleX + \")\"),\r\n                            n.length && (o.transform = n),\r\n                            void 0 !== e.opacity && (o.opacity = e.opacity),\r\n                            void 0 !== e.width && (o.width = e.width),\r\n                            void 0 !== e.height && (o.height = e.height),\r\n                            t.css(o)\r\n                        );\r\n                },\r\n                animate: function (t, e, o, i, a) {\r\n                    var s,\r\n                        r = this;\r\n                    n.isFunction(o) && ((i = o), (o = null)),\r\n                        r.stop(t),\r\n                        (s = r.getTranslate(t)),\r\n                        t.on(f, function (c) {\r\n                            (!c || !c.originalEvent || (t.is(c.originalEvent.target) && \"z-index\" != c.originalEvent.propertyName)) &&\r\n                                (r.stop(t),\r\n                                n.isNumeric(o) && t.css(\"transition-duration\", \"\"),\r\n                                n.isPlainObject(e)\r\n                                    ? void 0 !== e.scaleX && void 0 !== e.scaleY && r.setTranslate(t, { top: e.top, left: e.left, width: s.width * e.scaleX, height: s.height * e.scaleY, scaleX: 1, scaleY: 1 })\r\n                                    : !0 !== a && t.removeClass(e),\r\n                                n.isFunction(i) && i(c));\r\n                        }),\r\n                        n.isNumeric(o) && t.css(\"transition-duration\", o + \"ms\"),\r\n                        n.isPlainObject(e)\r\n                            ? (void 0 !== e.scaleX && void 0 !== e.scaleY && (delete e.width, delete e.height, t.parent().hasClass(\"fancybox-slide--image\") && t.parent().addClass(\"fancybox-is-scaling\")), n.fancybox.setTranslate(t, e))\r\n                            : t.addClass(e),\r\n                        t.data(\r\n                            \"timer\",\r\n                            setTimeout(function () {\r\n                                t.trigger(f);\r\n                            }, o + 33)\r\n                        );\r\n                },\r\n                stop: function (t, e) {\r\n                    t && t.length && (clearTimeout(t.data(\"timer\")), e && t.trigger(f), t.off(f).css(\"transition-duration\", \"\"), t.parent().removeClass(\"fancybox-is-scaling\"));\r\n                },\r\n            }),\r\n            (n.fn.fancybox = function (t) {\r\n                var e;\r\n                return (t = t || {}), (e = t.selector || !1), e ? n(\"body\").off(\"click.fb-start\", e).on(\"click.fb-start\", e, { options: t }, i) : this.off(\"click.fb-start\").on(\"click.fb-start\", { items: this, options: t }, i), this;\r\n            }),\r\n            r.on(\"click.fb-start\", \"[data-fancybox]\", i),\r\n            r.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function (t) {\r\n                n('[data-fancybox=\"' + n(this).attr(\"data-fancybox-trigger\") + '\"]')\r\n                    .eq(n(this).attr(\"data-fancybox-index\") || 0)\r\n                    .trigger(\"click.fb-start\", { $trigger: n(this) });\r\n            }),\r\n            (function () {\r\n                var t = null;\r\n                r.on(\"mousedown mouseup focus blur\", \".fancybox-button\", function (e) {\r\n                    switch (e.type) {\r\n                        case \"mousedown\":\r\n                            t = n(this);\r\n                            break;\r\n                        case \"mouseup\":\r\n                            t = null;\r\n                            break;\r\n                        case \"focusin\":\r\n                            n(\".fancybox-button\").removeClass(\"fancybox-focus\"), n(this).is(t) || n(this).is(\"[disabled]\") || n(this).addClass(\"fancybox-focus\");\r\n                            break;\r\n                        case \"focusout\":\r\n                            n(\".fancybox-button\").removeClass(\"fancybox-focus\");\r\n                    }\r\n                });\r\n            })();\r\n    }\r\n})(window, document, jQuery),\r\n    (function (t) {\r\n        \"use strict\";\r\n        var e = {\r\n                youtube: {\r\n                    matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\r\n                    params: { autoplay: 1, autohide: 1, fs: 1, rel: 0, hd: 1, wmode: \"transparent\", enablejsapi: 1, html5: 1 },\r\n                    paramPlace: 8,\r\n                    type: \"iframe\",\r\n                    url: \"https://www.youtube-nocookie.com/embed/$4\",\r\n                    thumb: \"https://img.youtube.com/vi/$4/hqdefault.jpg\",\r\n                },\r\n                vimeo: { matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/, params: { autoplay: 1, hd: 1, show_title: 1, show_byline: 1, show_portrait: 0, fullscreen: 1 }, paramPlace: 3, type: \"iframe\", url: \"//player.vimeo.com/video/$2\" },\r\n                instagram: { matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i, type: \"image\", url: \"//$1/p/$2/media/?size=l\" },\r\n                gmap_place: {\r\n                    matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\r\n                    type: \"iframe\",\r\n                    url: function (t) {\r\n                        return (\r\n                            \"//maps.google.\" +\r\n                            t[2] +\r\n                            \"/?ll=\" +\r\n                            (t[9] ? t[9] + \"&z=\" + Math.floor(t[10]) + (t[12] ? t[12].replace(/^\\//, \"&\") : \"\") : t[12] + \"\").replace(/\\?/, \"&\") +\r\n                            \"&output=\" +\r\n                            (t[12] && t[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\r\n                        );\r\n                    },\r\n                },\r\n                gmap_search: {\r\n                    matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\r\n                    type: \"iframe\",\r\n                    url: function (t) {\r\n                        return \"//maps.google.\" + t[2] + \"/maps?q=\" + t[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\r\n                    },\r\n                },\r\n            },\r\n            n = function (e, n, o) {\r\n                if (e)\r\n                    return (\r\n                        (o = o || \"\"),\r\n                        \"object\" === t.type(o) && (o = t.param(o, !0)),\r\n                        t.each(n, function (t, n) {\r\n                            e = e.replace(\"$\" + t, n || \"\");\r\n                        }),\r\n                        o.length && (e += (e.indexOf(\"?\") > 0 ? \"&\" : \"?\") + o),\r\n                        e\r\n                    );\r\n            };\r\n        t(document).on(\"objectNeedsType.fb\", function (o, i, a) {\r\n            var s,\r\n                r,\r\n                c,\r\n                l,\r\n                d,\r\n                u,\r\n                f,\r\n                p = a.src || \"\",\r\n                h = !1;\r\n            (s = t.extend(!0, {}, e, a.opts.media)),\r\n                t.each(s, function (e, o) {\r\n                    if ((c = p.match(o.matcher))) {\r\n                        if (((h = o.type), (f = e), (u = {}), o.paramPlace && c[o.paramPlace])) {\r\n                            (d = c[o.paramPlace]), \"?\" == d[0] && (d = d.substring(1)), (d = d.split(\"&\"));\r\n                            for (var i = 0; i < d.length; ++i) {\r\n                                var s = d[i].split(\"=\", 2);\r\n                                2 == s.length && (u[s[0]] = decodeURIComponent(s[1].replace(/\\+/g, \" \")));\r\n                            }\r\n                        }\r\n                        return (\r\n                            (l = t.extend(!0, {}, o.params, a.opts[e], u)),\r\n                            (p = \"function\" === t.type(o.url) ? o.url.call(this, c, l, a) : n(o.url, c, l)),\r\n                            (r = \"function\" === t.type(o.thumb) ? o.thumb.call(this, c, l, a) : n(o.thumb, c)),\r\n                            \"youtube\" === e\r\n                                ? (p = p.replace(/&t=((\\d+)m)?(\\d+)s/, function (t, e, n, o) {\r\n                                      return \"&start=\" + ((n ? 60 * parseInt(n, 10) : 0) + parseInt(o, 10));\r\n                                  }))\r\n                                : \"vimeo\" === e && (p = p.replace(\"&%23\", \"#\")),\r\n                            !1\r\n                        );\r\n                    }\r\n                }),\r\n                h\r\n                    ? (a.opts.thumb || (a.opts.$thumb && a.opts.$thumb.length) || (a.opts.thumb = r),\r\n                      \"iframe\" === h && (a.opts = t.extend(!0, a.opts, { iframe: { preload: !1, attr: { scrolling: \"no\" } } })),\r\n                      t.extend(a, { type: h, src: p, origSrc: a.src, contentSource: f, contentType: \"image\" === h ? \"image\" : \"gmap_place\" == f || \"gmap_search\" == f ? \"map\" : \"video\" }))\r\n                    : p && (a.type = a.opts.defaultType);\r\n        });\r\n        var o = {\r\n            youtube: { src: \"https://www.youtube.com/iframe_api\", class: \"YT\", loading: !1, loaded: !1 },\r\n            vimeo: { src: \"https://player.vimeo.com/api/player.js\", class: \"Vimeo\", loading: !1, loaded: !1 },\r\n            load: function (t) {\r\n                var e,\r\n                    n = this;\r\n                if (this[t].loaded)\r\n                    return void setTimeout(function () {\r\n                        n.done(t);\r\n                    });\r\n                this[t].loading ||\r\n                    ((this[t].loading = !0),\r\n                    (e = document.createElement(\"script\")),\r\n                    (e.type = \"text/javascript\"),\r\n                    (e.src = this[t].src),\r\n                    \"youtube\" === t\r\n                        ? (window.onYouTubeIframeAPIReady = function () {\r\n                              (n[t].loaded = !0), n.done(t);\r\n                          })\r\n                        : (e.onload = function () {\r\n                              (n[t].loaded = !0), n.done(t);\r\n                          }),\r\n                    document.body.appendChild(e));\r\n            },\r\n            done: function (e) {\r\n                var n, o, i;\r\n                \"youtube\" === e && delete window.onYouTubeIframeAPIReady,\r\n                    (n = t.fancybox.getInstance()) &&\r\n                        ((o = n.current.$content.find(\"iframe\")),\r\n                        \"youtube\" === e && void 0 !== YT && YT\r\n                            ? (i = new YT.Player(o.attr(\"id\"), {\r\n                                  events: {\r\n                                      onStateChange: function (t) {\r\n                                          0 == t.data && n.next();\r\n                                      },\r\n                                  },\r\n                              }))\r\n                            : \"vimeo\" === e &&\r\n                              void 0 !== Vimeo &&\r\n                              Vimeo &&\r\n                              ((i = new Vimeo.Player(o)),\r\n                              i.on(\"ended\", function () {\r\n                                  n.next();\r\n                              })));\r\n            },\r\n        };\r\n        t(document).on({\r\n            \"afterShow.fb\": function (t, e, n) {\r\n                e.group.length > 1 && (\"youtube\" === n.contentSource || \"vimeo\" === n.contentSource) && o.load(n.contentSource);\r\n            },\r\n        });\r\n    })(jQuery),\r\n    (function (t, e, n) {\r\n        \"use strict\";\r\n        var o = (function () {\r\n                return (\r\n                    t.requestAnimationFrame ||\r\n                    t.webkitRequestAnimationFrame ||\r\n                    t.mozRequestAnimationFrame ||\r\n                    t.oRequestAnimationFrame ||\r\n                    function (e) {\r\n                        return t.setTimeout(e, 1e3 / 60);\r\n                    }\r\n                );\r\n            })(),\r\n            i = (function () {\r\n                return (\r\n                    t.cancelAnimationFrame ||\r\n                    t.webkitCancelAnimationFrame ||\r\n                    t.mozCancelAnimationFrame ||\r\n                    t.oCancelAnimationFrame ||\r\n                    function (e) {\r\n                        t.clearTimeout(e);\r\n                    }\r\n                );\r\n            })(),\r\n            a = function (e) {\r\n                var n = [];\r\n                (e = e.originalEvent || e || t.e), (e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e]);\r\n                for (var o in e) e[o].pageX ? n.push({ x: e[o].pageX, y: e[o].pageY }) : e[o].clientX && n.push({ x: e[o].clientX, y: e[o].clientY });\r\n                return n;\r\n            },\r\n            s = function (t, e, n) {\r\n                return e && t ? (\"x\" === n ? t.x - e.x : \"y\" === n ? t.y - e.y : Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2))) : 0;\r\n            },\r\n            r = function (t) {\r\n                if (t.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') || n.isFunction(t.get(0).onclick) || t.data(\"selectable\")) return !0;\r\n                for (var e = 0, o = t[0].attributes, i = o.length; e < i; e++) if (\"data-fancybox-\" === o[e].nodeName.substr(0, 14)) return !0;\r\n                return !1;\r\n            },\r\n            c = function (e) {\r\n                var n = t.getComputedStyle(e)[\"overflow-y\"],\r\n                    o = t.getComputedStyle(e)[\"overflow-x\"],\r\n                    i = (\"scroll\" === n || \"auto\" === n) && e.scrollHeight > e.clientHeight,\r\n                    a = (\"scroll\" === o || \"auto\" === o) && e.scrollWidth > e.clientWidth;\r\n                return i || a;\r\n            },\r\n            l = function (t) {\r\n                for (var e = !1; ; ) {\r\n                    if ((e = c(t.get(0)))) break;\r\n                    if (((t = t.parent()), !t.length || t.hasClass(\"fancybox-stage\") || t.is(\"body\"))) break;\r\n                }\r\n                return e;\r\n            },\r\n            d = function (t) {\r\n                var e = this;\r\n                (e.instance = t), (e.$bg = t.$refs.bg), (e.$stage = t.$refs.stage), (e.$container = t.$refs.container), e.destroy(), e.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", n.proxy(e, \"ontouchstart\"));\r\n            };\r\n        (d.prototype.destroy = function () {\r\n            var t = this;\r\n            t.$container.off(\".fb.touch\"), n(e).off(\".fb.touch\"), t.requestId && (i(t.requestId), (t.requestId = null)), t.tapped && (clearTimeout(t.tapped), (t.tapped = null));\r\n        }),\r\n            (d.prototype.ontouchstart = function (o) {\r\n                var i = this,\r\n                    c = n(o.target),\r\n                    d = i.instance,\r\n                    u = d.current,\r\n                    f = u.$slide,\r\n                    p = u.$content,\r\n                    h = \"touchstart\" == o.type;\r\n                if (\r\n                    (h && i.$container.off(\"mousedown.fb.touch\"),\r\n                    (!o.originalEvent || 2 != o.originalEvent.button) && f.length && c.length && !r(c) && !r(c.parent()) && (c.is(\"img\") || !(o.originalEvent.clientX > c[0].clientWidth + c.offset().left)))\r\n                ) {\r\n                    if (!u || d.isAnimating || u.$slide.hasClass(\"fancybox-animated\")) return o.stopPropagation(), void o.preventDefault();\r\n                    (i.realPoints = i.startPoints = a(o)),\r\n                        i.startPoints.length &&\r\n                            (u.touch && o.stopPropagation(),\r\n                            (i.startEvent = o),\r\n                            (i.canTap = !0),\r\n                            (i.$target = c),\r\n                            (i.$content = p),\r\n                            (i.opts = u.opts.touch),\r\n                            (i.isPanning = !1),\r\n                            (i.isSwiping = !1),\r\n                            (i.isZooming = !1),\r\n                            (i.isScrolling = !1),\r\n                            (i.canPan = d.canPan()),\r\n                            (i.startTime = new Date().getTime()),\r\n                            (i.distanceX = i.distanceY = i.distance = 0),\r\n                            (i.canvasWidth = Math.round(f[0].clientWidth)),\r\n                            (i.canvasHeight = Math.round(f[0].clientHeight)),\r\n                            (i.contentLastPos = null),\r\n                            (i.contentStartPos = n.fancybox.getTranslate(i.$content) || { top: 0, left: 0 }),\r\n                            (i.sliderStartPos = n.fancybox.getTranslate(f)),\r\n                            (i.stagePos = n.fancybox.getTranslate(d.$refs.stage)),\r\n                            (i.sliderStartPos.top -= i.stagePos.top),\r\n                            (i.sliderStartPos.left -= i.stagePos.left),\r\n                            (i.contentStartPos.top -= i.stagePos.top),\r\n                            (i.contentStartPos.left -= i.stagePos.left),\r\n                            n(e)\r\n                                .off(\".fb.touch\")\r\n                                .on(h ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", n.proxy(i, \"ontouchend\"))\r\n                                .on(h ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", n.proxy(i, \"ontouchmove\")),\r\n                            n.fancybox.isMobile && e.addEventListener(\"scroll\", i.onscroll, !0),\r\n                            (((i.opts || i.canPan) && (c.is(i.$stage) || i.$stage.find(c).length)) || (c.is(\".fancybox-image\") && o.preventDefault(), n.fancybox.isMobile && c.parents(\".fancybox-caption\").length)) &&\r\n                                ((i.isScrollable = l(c) || l(c.parent())),\r\n                                (n.fancybox.isMobile && i.isScrollable) || o.preventDefault(),\r\n                                (1 === i.startPoints.length || u.hasError) && (i.canPan ? (n.fancybox.stop(i.$content), (i.isPanning = !0)) : (i.isSwiping = !0), i.$container.addClass(\"fancybox-is-grabbing\")),\r\n                                2 === i.startPoints.length &&\r\n                                    \"image\" === u.type &&\r\n                                    (u.isLoaded || u.$ghost) &&\r\n                                    ((i.canTap = !1),\r\n                                    (i.isSwiping = !1),\r\n                                    (i.isPanning = !1),\r\n                                    (i.isZooming = !0),\r\n                                    n.fancybox.stop(i.$content),\r\n                                    (i.centerPointStartX = 0.5 * (i.startPoints[0].x + i.startPoints[1].x) - n(t).scrollLeft()),\r\n                                    (i.centerPointStartY = 0.5 * (i.startPoints[0].y + i.startPoints[1].y) - n(t).scrollTop()),\r\n                                    (i.percentageOfImageAtPinchPointX = (i.centerPointStartX - i.contentStartPos.left) / i.contentStartPos.width),\r\n                                    (i.percentageOfImageAtPinchPointY = (i.centerPointStartY - i.contentStartPos.top) / i.contentStartPos.height),\r\n                                    (i.startDistanceBetweenFingers = s(i.startPoints[0], i.startPoints[1])))));\r\n                }\r\n            }),\r\n            (d.prototype.onscroll = function (t) {\r\n                var n = this;\r\n                (n.isScrolling = !0), e.removeEventListener(\"scroll\", n.onscroll, !0);\r\n            }),\r\n            (d.prototype.ontouchmove = function (t) {\r\n                var e = this;\r\n                return void 0 !== t.originalEvent.buttons && 0 === t.originalEvent.buttons\r\n                    ? void e.ontouchend(t)\r\n                    : e.isScrolling\r\n                    ? void (e.canTap = !1)\r\n                    : ((e.newPoints = a(t)),\r\n                      void (\r\n                          (e.opts || e.canPan) &&\r\n                          e.newPoints.length &&\r\n                          e.newPoints.length &&\r\n                          ((e.isSwiping && !0 === e.isSwiping) || t.preventDefault(),\r\n                          (e.distanceX = s(e.newPoints[0], e.startPoints[0], \"x\")),\r\n                          (e.distanceY = s(e.newPoints[0], e.startPoints[0], \"y\")),\r\n                          (e.distance = s(e.newPoints[0], e.startPoints[0])),\r\n                          e.distance > 0 && (e.isSwiping ? e.onSwipe(t) : e.isPanning ? e.onPan() : e.isZooming && e.onZoom()))\r\n                      ));\r\n            }),\r\n            (d.prototype.onSwipe = function (e) {\r\n                var a,\r\n                    s = this,\r\n                    r = s.instance,\r\n                    c = s.isSwiping,\r\n                    l = s.sliderStartPos.left || 0;\r\n                if (!0 !== c)\r\n                    \"x\" == c &&\r\n                        (s.distanceX > 0 && (s.instance.group.length < 2 || (0 === s.instance.current.index && !s.instance.current.opts.loop))\r\n                            ? (l += Math.pow(s.distanceX, 0.8))\r\n                            : s.distanceX < 0 && (s.instance.group.length < 2 || (s.instance.current.index === s.instance.group.length - 1 && !s.instance.current.opts.loop))\r\n                            ? (l -= Math.pow(-s.distanceX, 0.8))\r\n                            : (l += s.distanceX)),\r\n                        (s.sliderLastPos = { top: \"x\" == c ? 0 : s.sliderStartPos.top + s.distanceY, left: l }),\r\n                        s.requestId && (i(s.requestId), (s.requestId = null)),\r\n                        (s.requestId = o(function () {\r\n                            s.sliderLastPos &&\r\n                                (n.each(s.instance.slides, function (t, e) {\r\n                                    var o = e.pos - s.instance.currPos;\r\n                                    n.fancybox.setTranslate(e.$slide, { top: s.sliderLastPos.top, left: s.sliderLastPos.left + o * s.canvasWidth + o * e.opts.gutter });\r\n                                }),\r\n                                s.$container.addClass(\"fancybox-is-sliding\"));\r\n                        }));\r\n                else if (Math.abs(s.distance) > 10) {\r\n                    if (\r\n                        ((s.canTap = !1),\r\n                        r.group.length < 2 && s.opts.vertical\r\n                            ? (s.isSwiping = \"y\")\r\n                            : r.isDragging || !1 === s.opts.vertical || (\"auto\" === s.opts.vertical && n(t).width() > 800)\r\n                            ? (s.isSwiping = \"x\")\r\n                            : ((a = Math.abs((180 * Math.atan2(s.distanceY, s.distanceX)) / Math.PI)), (s.isSwiping = a > 45 && a < 135 ? \"y\" : \"x\")),\r\n                        \"y\" === s.isSwiping && n.fancybox.isMobile && s.isScrollable)\r\n                    )\r\n                        return void (s.isScrolling = !0);\r\n                    (r.isDragging = s.isSwiping),\r\n                        (s.startPoints = s.newPoints),\r\n                        n.each(r.slides, function (t, e) {\r\n                            var o, i;\r\n                            n.fancybox.stop(e.$slide),\r\n                                (o = n.fancybox.getTranslate(e.$slide)),\r\n                                (i = n.fancybox.getTranslate(r.$refs.stage)),\r\n                                e.$slide\r\n                                    .css({ transform: \"\", opacity: \"\", \"transition-duration\": \"\" })\r\n                                    .removeClass(\"fancybox-animated\")\r\n                                    .removeClass(function (t, e) {\r\n                                        return (e.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\r\n                                    }),\r\n                                e.pos === r.current.pos && ((s.sliderStartPos.top = o.top - i.top), (s.sliderStartPos.left = o.left - i.left)),\r\n                                n.fancybox.setTranslate(e.$slide, { top: o.top - i.top, left: o.left - i.left });\r\n                        }),\r\n                        r.SlideShow && r.SlideShow.isActive && r.SlideShow.stop();\r\n                }\r\n            }),\r\n            (d.prototype.onPan = function () {\r\n                var t = this;\r\n                if (s(t.newPoints[0], t.realPoints[0]) < (n.fancybox.isMobile ? 10 : 5)) return void (t.startPoints = t.newPoints);\r\n                (t.canTap = !1),\r\n                    (t.contentLastPos = t.limitMovement()),\r\n                    t.requestId && i(t.requestId),\r\n                    (t.requestId = o(function () {\r\n                        n.fancybox.setTranslate(t.$content, t.contentLastPos);\r\n                    }));\r\n            }),\r\n            (d.prototype.limitMovement = function () {\r\n                var t,\r\n                    e,\r\n                    n,\r\n                    o,\r\n                    i,\r\n                    a,\r\n                    s = this,\r\n                    r = s.canvasWidth,\r\n                    c = s.canvasHeight,\r\n                    l = s.distanceX,\r\n                    d = s.distanceY,\r\n                    u = s.contentStartPos,\r\n                    f = u.left,\r\n                    p = u.top,\r\n                    h = u.width,\r\n                    g = u.height;\r\n                return (\r\n                    (i = h > r ? f + l : f),\r\n                    (a = p + d),\r\n                    (t = Math.max(0, 0.5 * r - 0.5 * h)),\r\n                    (e = Math.max(0, 0.5 * c - 0.5 * g)),\r\n                    (n = Math.min(r - h, 0.5 * r - 0.5 * h)),\r\n                    (o = Math.min(c - g, 0.5 * c - 0.5 * g)),\r\n                    l > 0 && i > t && (i = t - 1 + Math.pow(-t + f + l, 0.8) || 0),\r\n                    l < 0 && i < n && (i = n + 1 - Math.pow(n - f - l, 0.8) || 0),\r\n                    d > 0 && a > e && (a = e - 1 + Math.pow(-e + p + d, 0.8) || 0),\r\n                    d < 0 && a < o && (a = o + 1 - Math.pow(o - p - d, 0.8) || 0),\r\n                    { top: a, left: i }\r\n                );\r\n            }),\r\n            (d.prototype.limitPosition = function (t, e, n, o) {\r\n                var i = this,\r\n                    a = i.canvasWidth,\r\n                    s = i.canvasHeight;\r\n                return n > a ? ((t = t > 0 ? 0 : t), (t = t < a - n ? a - n : t)) : (t = Math.max(0, a / 2 - n / 2)), o > s ? ((e = e > 0 ? 0 : e), (e = e < s - o ? s - o : e)) : (e = Math.max(0, s / 2 - o / 2)), { top: e, left: t };\r\n            }),\r\n            (d.prototype.onZoom = function () {\r\n                var e = this,\r\n                    a = e.contentStartPos,\r\n                    r = a.width,\r\n                    c = a.height,\r\n                    l = a.left,\r\n                    d = a.top,\r\n                    u = s(e.newPoints[0], e.newPoints[1]),\r\n                    f = u / e.startDistanceBetweenFingers,\r\n                    p = Math.floor(r * f),\r\n                    h = Math.floor(c * f),\r\n                    g = (r - p) * e.percentageOfImageAtPinchPointX,\r\n                    b = (c - h) * e.percentageOfImageAtPinchPointY,\r\n                    m = (e.newPoints[0].x + e.newPoints[1].x) / 2 - n(t).scrollLeft(),\r\n                    v = (e.newPoints[0].y + e.newPoints[1].y) / 2 - n(t).scrollTop(),\r\n                    y = m - e.centerPointStartX,\r\n                    x = v - e.centerPointStartY,\r\n                    w = l + (g + y),\r\n                    $ = d + (b + x),\r\n                    S = { top: $, left: w, scaleX: f, scaleY: f };\r\n                (e.canTap = !1),\r\n                    (e.newWidth = p),\r\n                    (e.newHeight = h),\r\n                    (e.contentLastPos = S),\r\n                    e.requestId && i(e.requestId),\r\n                    (e.requestId = o(function () {\r\n                        n.fancybox.setTranslate(e.$content, e.contentLastPos);\r\n                    }));\r\n            }),\r\n            (d.prototype.ontouchend = function (t) {\r\n                var o = this,\r\n                    s = o.isSwiping,\r\n                    r = o.isPanning,\r\n                    c = o.isZooming,\r\n                    l = o.isScrolling;\r\n                if (\r\n                    ((o.endPoints = a(t)),\r\n                    (o.dMs = Math.max(new Date().getTime() - o.startTime, 1)),\r\n                    o.$container.removeClass(\"fancybox-is-grabbing\"),\r\n                    n(e).off(\".fb.touch\"),\r\n                    e.removeEventListener(\"scroll\", o.onscroll, !0),\r\n                    o.requestId && (i(o.requestId), (o.requestId = null)),\r\n                    (o.isSwiping = !1),\r\n                    (o.isPanning = !1),\r\n                    (o.isZooming = !1),\r\n                    (o.isScrolling = !1),\r\n                    (o.instance.isDragging = !1),\r\n                    o.canTap)\r\n                )\r\n                    return o.onTap(t);\r\n                (o.speed = 100), (o.velocityX = (o.distanceX / o.dMs) * 0.5), (o.velocityY = (o.distanceY / o.dMs) * 0.5), r ? o.endPanning() : c ? o.endZooming() : o.endSwiping(s, l);\r\n            }),\r\n            (d.prototype.endSwiping = function (t, e) {\r\n                var o = this,\r\n                    i = !1,\r\n                    a = o.instance.group.length,\r\n                    s = Math.abs(o.distanceX),\r\n                    r = \"x\" == t && a > 1 && ((o.dMs > 130 && s > 10) || s > 50);\r\n                (o.sliderLastPos = null),\r\n                    \"y\" == t && !e && Math.abs(o.distanceY) > 50\r\n                        ? (n.fancybox.animate(o.instance.current.$slide, { top: o.sliderStartPos.top + o.distanceY + 150 * o.velocityY, opacity: 0 }, 200), (i = o.instance.close(!0, 250)))\r\n                        : r && o.distanceX > 0\r\n                        ? (i = o.instance.previous(300))\r\n                        : r && o.distanceX < 0 && (i = o.instance.next(300)),\r\n                    !1 !== i || (\"x\" != t && \"y\" != t) || o.instance.centerSlide(200),\r\n                    o.$container.removeClass(\"fancybox-is-sliding\");\r\n            }),\r\n            (d.prototype.endPanning = function () {\r\n                var t,\r\n                    e,\r\n                    o,\r\n                    i = this;\r\n                i.contentLastPos &&\r\n                    (!1 === i.opts.momentum || i.dMs > 350 ? ((t = i.contentLastPos.left), (e = i.contentLastPos.top)) : ((t = i.contentLastPos.left + 500 * i.velocityX), (e = i.contentLastPos.top + 500 * i.velocityY)),\r\n                    (o = i.limitPosition(t, e, i.contentStartPos.width, i.contentStartPos.height)),\r\n                    (o.width = i.contentStartPos.width),\r\n                    (o.height = i.contentStartPos.height),\r\n                    n.fancybox.animate(i.$content, o, 366));\r\n            }),\r\n            (d.prototype.endZooming = function () {\r\n                var t,\r\n                    e,\r\n                    o,\r\n                    i,\r\n                    a = this,\r\n                    s = a.instance.current,\r\n                    r = a.newWidth,\r\n                    c = a.newHeight;\r\n                a.contentLastPos &&\r\n                    ((t = a.contentLastPos.left),\r\n                    (e = a.contentLastPos.top),\r\n                    (i = { top: e, left: t, width: r, height: c, scaleX: 1, scaleY: 1 }),\r\n                    n.fancybox.setTranslate(a.$content, i),\r\n                    r < a.canvasWidth && c < a.canvasHeight\r\n                        ? a.instance.scaleToFit(150)\r\n                        : r > s.width || c > s.height\r\n                        ? a.instance.scaleToActual(a.centerPointStartX, a.centerPointStartY, 150)\r\n                        : ((o = a.limitPosition(t, e, r, c)), n.fancybox.animate(a.$content, o, 150)));\r\n            }),\r\n            (d.prototype.onTap = function (e) {\r\n                var o,\r\n                    i = this,\r\n                    s = n(e.target),\r\n                    r = i.instance,\r\n                    c = r.current,\r\n                    l = (e && a(e)) || i.startPoints,\r\n                    d = l[0] ? l[0].x - n(t).scrollLeft() - i.stagePos.left : 0,\r\n                    u = l[0] ? l[0].y - n(t).scrollTop() - i.stagePos.top : 0,\r\n                    f = function (t) {\r\n                        var o = c.opts[t];\r\n                        if ((n.isFunction(o) && (o = o.apply(r, [c, e])), o))\r\n                            switch (o) {\r\n                                case \"close\":\r\n                                    r.close(i.startEvent);\r\n                                    break;\r\n                                case \"toggleControls\":\r\n                                    r.toggleControls();\r\n                                    break;\r\n                                case \"next\":\r\n                                    r.next();\r\n                                    break;\r\n                                case \"nextOrClose\":\r\n                                    r.group.length > 1 ? r.next() : r.close(i.startEvent);\r\n                                    break;\r\n                                case \"zoom\":\r\n                                    \"image\" == c.type && (c.isLoaded || c.$ghost) && (r.canPan() ? r.scaleToFit() : r.isScaledDown() ? r.scaleToActual(d, u) : r.group.length < 2 && r.close(i.startEvent));\r\n                            }\r\n                    };\r\n                if ((!e.originalEvent || 2 != e.originalEvent.button) && (s.is(\"img\") || !(d > s[0].clientWidth + s.offset().left))) {\r\n                    if (s.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) o = \"Outside\";\r\n                    else if (s.is(\".fancybox-slide\")) o = \"Slide\";\r\n                    else {\r\n                        if (!r.current.$content || !r.current.$content.find(s).addBack().filter(s).length) return;\r\n                        o = \"Content\";\r\n                    }\r\n                    if (i.tapped) {\r\n                        if ((clearTimeout(i.tapped), (i.tapped = null), Math.abs(d - i.tapX) > 50 || Math.abs(u - i.tapY) > 50)) return this;\r\n                        f(\"dblclick\" + o);\r\n                    } else\r\n                        (i.tapX = d),\r\n                            (i.tapY = u),\r\n                            c.opts[\"dblclick\" + o] && c.opts[\"dblclick\" + o] !== c.opts[\"click\" + o]\r\n                                ? (i.tapped = setTimeout(function () {\r\n                                      (i.tapped = null), r.isAnimating || f(\"click\" + o);\r\n                                  }, 500))\r\n                                : f(\"click\" + o);\r\n                    return this;\r\n                }\r\n            }),\r\n            n(e)\r\n                .on(\"onActivate.fb\", function (t, e) {\r\n                    e && !e.Guestures && (e.Guestures = new d(e));\r\n                })\r\n                .on(\"beforeClose.fb\", function (t, e) {\r\n                    e && e.Guestures && e.Guestures.destroy();\r\n                });\r\n    })(window, document, jQuery),\r\n    (function (t, e) {\r\n        \"use strict\";\r\n        e.extend(!0, e.fancybox.defaults, {\r\n            btnTpl: {\r\n                slideShow:\r\n                    '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg></button>',\r\n            },\r\n            slideShow: { autoStart: !1, speed: 3e3, progress: !0 },\r\n        });\r\n        var n = function (t) {\r\n            (this.instance = t), this.init();\r\n        };\r\n        e.extend(n.prototype, {\r\n            timer: null,\r\n            isActive: !1,\r\n            $button: null,\r\n            init: function () {\r\n                var t = this,\r\n                    n = t.instance,\r\n                    o = n.group[n.currIndex].opts.slideShow;\r\n                (t.$button = n.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function () {\r\n                    t.toggle();\r\n                })),\r\n                    n.group.length < 2 || !o ? t.$button.hide() : o.progress && (t.$progress = e('<div class=\"fancybox-progress\"></div>').appendTo(n.$refs.inner));\r\n            },\r\n            set: function (t) {\r\n                var n = this,\r\n                    o = n.instance,\r\n                    i = o.current;\r\n                i && (!0 === t || i.opts.loop || o.currIndex < o.group.length - 1)\r\n                    ? n.isActive &&\r\n                      \"video\" !== i.contentType &&\r\n                      (n.$progress && e.fancybox.animate(n.$progress.show(), { scaleX: 1 }, i.opts.slideShow.speed),\r\n                      (n.timer = setTimeout(function () {\r\n                          o.current.opts.loop || o.current.index != o.group.length - 1 ? o.next() : o.jumpTo(0);\r\n                      }, i.opts.slideShow.speed)))\r\n                    : (n.stop(), (o.idleSecondsCounter = 0), o.showControls());\r\n            },\r\n            clear: function () {\r\n                var t = this;\r\n                clearTimeout(t.timer), (t.timer = null), t.$progress && t.$progress.removeAttr(\"style\").hide();\r\n            },\r\n            start: function () {\r\n                var t = this,\r\n                    e = t.instance.current;\r\n                e &&\r\n                    (t.$button\r\n                        .attr(\"title\", (e.opts.i18n[e.opts.lang] || e.opts.i18n.en).PLAY_STOP)\r\n                        .removeClass(\"fancybox-button--play\")\r\n                        .addClass(\"fancybox-button--pause\"),\r\n                    (t.isActive = !0),\r\n                    e.isComplete && t.set(!0),\r\n                    t.instance.trigger(\"onSlideShowChange\", !0));\r\n            },\r\n            stop: function () {\r\n                var t = this,\r\n                    e = t.instance.current;\r\n                t.clear(),\r\n                    t.$button\r\n                        .attr(\"title\", (e.opts.i18n[e.opts.lang] || e.opts.i18n.en).PLAY_START)\r\n                        .removeClass(\"fancybox-button--pause\")\r\n                        .addClass(\"fancybox-button--play\"),\r\n                    (t.isActive = !1),\r\n                    t.instance.trigger(\"onSlideShowChange\", !1),\r\n                    t.$progress && t.$progress.removeAttr(\"style\").hide();\r\n            },\r\n            toggle: function () {\r\n                var t = this;\r\n                t.isActive ? t.stop() : t.start();\r\n            },\r\n        }),\r\n            e(t).on({\r\n                \"onInit.fb\": function (t, e) {\r\n                    e && !e.SlideShow && (e.SlideShow = new n(e));\r\n                },\r\n                \"beforeShow.fb\": function (t, e, n, o) {\r\n                    var i = e && e.SlideShow;\r\n                    o ? i && n.opts.slideShow.autoStart && i.start() : i && i.isActive && i.clear();\r\n                },\r\n                \"afterShow.fb\": function (t, e, n) {\r\n                    var o = e && e.SlideShow;\r\n                    o && o.isActive && o.set();\r\n                },\r\n                \"afterKeydown.fb\": function (n, o, i, a, s) {\r\n                    var r = o && o.SlideShow;\r\n                    !r || !i.opts.slideShow || (80 !== s && 32 !== s) || e(t.activeElement).is(\"button,a,input\") || (a.preventDefault(), r.toggle());\r\n                },\r\n                \"beforeClose.fb onDeactivate.fb\": function (t, e) {\r\n                    var n = e && e.SlideShow;\r\n                    n && n.stop();\r\n                },\r\n            }),\r\n            e(t).on(\"visibilitychange\", function () {\r\n                var n = e.fancybox.getInstance(),\r\n                    o = n && n.SlideShow;\r\n                o && o.isActive && (t.hidden ? o.clear() : o.set());\r\n            });\r\n    })(document, jQuery),\r\n    (function (t, e) {\r\n        \"use strict\";\r\n        var n = (function () {\r\n            for (\r\n                var e = [\r\n                        [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\r\n                        [\"webkitRequestFullscreen\", \"webkitExitFullscreen\", \"webkitFullscreenElement\", \"webkitFullscreenEnabled\", \"webkitfullscreenchange\", \"webkitfullscreenerror\"],\r\n                        [\"webkitRequestFullScreen\", \"webkitCancelFullScreen\", \"webkitCurrentFullScreenElement\", \"webkitCancelFullScreen\", \"webkitfullscreenchange\", \"webkitfullscreenerror\"],\r\n                        [\"mozRequestFullScreen\", \"mozCancelFullScreen\", \"mozFullScreenElement\", \"mozFullScreenEnabled\", \"mozfullscreenchange\", \"mozfullscreenerror\"],\r\n                        [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"],\r\n                    ],\r\n                    n = {},\r\n                    o = 0;\r\n                o < e.length;\r\n                o++\r\n            ) {\r\n                var i = e[o];\r\n                if (i && i[1] in t) {\r\n                    for (var a = 0; a < i.length; a++) n[e[0][a]] = i[a];\r\n                    return n;\r\n                }\r\n            }\r\n            return !1;\r\n        })();\r\n        if (n) {\r\n            var o = {\r\n                request: function (e) {\r\n                    (e = e || t.documentElement), e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT);\r\n                },\r\n                exit: function () {\r\n                    t[n.exitFullscreen]();\r\n                },\r\n                toggle: function (e) {\r\n                    (e = e || t.documentElement), this.isFullscreen() ? this.exit() : this.request(e);\r\n                },\r\n                isFullscreen: function () {\r\n                    return Boolean(t[n.fullscreenElement]);\r\n                },\r\n                enabled: function () {\r\n                    return Boolean(t[n.fullscreenEnabled]);\r\n                },\r\n            };\r\n            e.extend(!0, e.fancybox.defaults, {\r\n                btnTpl: {\r\n                    fullScreen:\r\n                        '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg></button>',\r\n                },\r\n                fullScreen: { autoStart: !1 },\r\n            }),\r\n                e(t).on(n.fullscreenchange, function () {\r\n                    var t = o.isFullscreen(),\r\n                        n = e.fancybox.getInstance();\r\n                    n &&\r\n                        (n.current && \"image\" === n.current.type && n.isAnimating && ((n.isAnimating = !1), n.update(!0, !0, 0), n.isComplete || n.complete()),\r\n                        n.trigger(\"onFullscreenChange\", t),\r\n                        n.$refs.container.toggleClass(\"fancybox-is-fullscreen\", t),\r\n                        n.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").toggleClass(\"fancybox-button--fsenter\", !t).toggleClass(\"fancybox-button--fsexit\", t));\r\n                });\r\n        }\r\n        e(t).on({\r\n            \"onInit.fb\": function (t, e) {\r\n                var i;\r\n                if (!n) return void e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\r\n                e && e.group[e.currIndex].opts.fullScreen\r\n                    ? ((i = e.$refs.container),\r\n                      i.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function (t) {\r\n                          t.stopPropagation(), t.preventDefault(), o.toggle();\r\n                      }),\r\n                      e.opts.fullScreen && !0 === e.opts.fullScreen.autoStart && o.request(),\r\n                      (e.FullScreen = o))\r\n                    : e && e.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\r\n            },\r\n            \"afterKeydown.fb\": function (t, e, n, o, i) {\r\n                e && e.FullScreen && 70 === i && (o.preventDefault(), e.FullScreen.toggle());\r\n            },\r\n            \"beforeClose.fb\": function (t, e) {\r\n                e && e.FullScreen && e.$refs.container.hasClass(\"fancybox-is-fullscreen\") && o.exit();\r\n            },\r\n        });\r\n    })(document, jQuery),\r\n    (function (t, e) {\r\n        \"use strict\";\r\n        var n = \"fancybox-thumbs\";\r\n        e.fancybox.defaults = e.extend(\r\n            !0,\r\n            {\r\n                btnTpl: {\r\n                    thumbs:\r\n                        '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg></button>',\r\n                },\r\n                thumbs: { autoStart: !1, hideOnClose: !0, parentEl: \".fancybox-container\", axis: \"y\" },\r\n            },\r\n            e.fancybox.defaults\r\n        );\r\n        var o = function (t) {\r\n            this.init(t);\r\n        };\r\n        e.extend(o.prototype, {\r\n            $button: null,\r\n            $grid: null,\r\n            $list: null,\r\n            isVisible: !1,\r\n            isActive: !1,\r\n            init: function (t) {\r\n                var e = this,\r\n                    n = t.group,\r\n                    o = 0;\r\n                (e.instance = t), (e.opts = n[t.currIndex].opts.thumbs), (t.Thumbs = e), (e.$button = t.$refs.toolbar.find(\"[data-fancybox-thumbs]\"));\r\n                for (var i = 0, a = n.length; i < a && (n[i].thumb && o++, !(o > 1)); i++);\r\n                o > 1 && e.opts\r\n                    ? (e.$button.removeAttr(\"style\").on(\"click\", function () {\r\n                          e.toggle();\r\n                      }),\r\n                      (e.isActive = !0))\r\n                    : e.$button.hide();\r\n            },\r\n            create: function () {\r\n                var t,\r\n                    o = this,\r\n                    i = o.instance,\r\n                    a = o.opts.parentEl,\r\n                    s = [];\r\n                o.$grid ||\r\n                    ((o.$grid = e('<div class=\"' + n + \" \" + n + \"-\" + o.opts.axis + '\"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a))),\r\n                    o.$grid.on(\"click\", \"a\", function () {\r\n                        i.jumpTo(e(this).attr(\"data-index\"));\r\n                    })),\r\n                    o.$list || (o.$list = e('<div class=\"' + n + '__list\">').appendTo(o.$grid)),\r\n                    e.each(i.group, function (e, n) {\r\n                        (t = n.thumb),\r\n                            t || \"image\" !== n.type || (t = n.src),\r\n                            s.push('<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' + e + '\"' + (t && t.length ? ' style=\"background-image:url(' + t + ')\"' : 'class=\"fancybox-thumbs-missing\"') + \"></a>\");\r\n                    }),\r\n                    (o.$list[0].innerHTML = s.join(\"\")),\r\n                    \"x\" === o.opts.axis && o.$list.width(parseInt(o.$grid.css(\"padding-right\"), 10) + i.group.length * o.$list.children().eq(0).outerWidth(!0));\r\n            },\r\n            focus: function (t) {\r\n                var e,\r\n                    n,\r\n                    o = this,\r\n                    i = o.$list,\r\n                    a = o.$grid;\r\n                o.instance.current &&\r\n                    ((e = i\r\n                        .children()\r\n                        .removeClass(\"fancybox-thumbs-active\")\r\n                        .filter('[data-index=\"' + o.instance.current.index + '\"]')\r\n                        .addClass(\"fancybox-thumbs-active\")),\r\n                    (n = e.position()),\r\n                    \"y\" === o.opts.axis && (n.top < 0 || n.top > i.height() - e.outerHeight())\r\n                        ? i.stop().animate({ scrollTop: i.scrollTop() + n.top }, t)\r\n                        : \"x\" === o.opts.axis && (n.left < a.scrollLeft() || n.left > a.scrollLeft() + (a.width() - e.outerWidth())) && i.parent().stop().animate({ scrollLeft: n.left }, t));\r\n            },\r\n            update: function () {\r\n                var t = this;\r\n                t.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible),\r\n                    t.isVisible ? (t.$grid || t.create(), t.instance.trigger(\"onThumbsShow\"), t.focus(0)) : t.$grid && t.instance.trigger(\"onThumbsHide\"),\r\n                    t.instance.update();\r\n            },\r\n            hide: function () {\r\n                (this.isVisible = !1), this.update();\r\n            },\r\n            show: function () {\r\n                (this.isVisible = !0), this.update();\r\n            },\r\n            toggle: function () {\r\n                (this.isVisible = !this.isVisible), this.update();\r\n            },\r\n        }),\r\n            e(t).on({\r\n                \"onInit.fb\": function (t, e) {\r\n                    var n;\r\n                    e && !e.Thumbs && ((n = new o(e)), n.isActive && !0 === n.opts.autoStart && n.show());\r\n                },\r\n                \"beforeShow.fb\": function (t, e, n, o) {\r\n                    var i = e && e.Thumbs;\r\n                    i && i.isVisible && i.focus(o ? 0 : 250);\r\n                },\r\n                \"afterKeydown.fb\": function (t, e, n, o, i) {\r\n                    var a = e && e.Thumbs;\r\n                    a && a.isActive && 71 === i && (o.preventDefault(), a.toggle());\r\n                },\r\n                \"beforeClose.fb\": function (t, e) {\r\n                    var n = e && e.Thumbs;\r\n                    n && n.isVisible && !1 !== n.opts.hideOnClose && n.$grid.hide();\r\n                },\r\n            });\r\n    })(document, jQuery),\r\n    (function (t, e) {\r\n        \"use strict\";\r\n        function n(t) {\r\n            var e = { \"&\": \"&amp;\", \"<\": \"&lt;\", \">\": \"&gt;\", '\"': \"&quot;\", \"'\": \"&#39;\", \"/\": \"&#x2F;\", \"`\": \"&#x60;\", \"=\": \"&#x3D;\" };\r\n            return String(t).replace(/[&<>\"'`=\\/]/g, function (t) {\r\n                return e[t];\r\n            });\r\n        }\r\n        e.extend(!0, e.fancybox.defaults, {\r\n            btnTpl: {\r\n                share:\r\n                    '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg></button>',\r\n            },\r\n            share: {\r\n                url: function (t, e) {\r\n                    return (!t.currentHash && \"inline\" !== e.type && \"html\" !== e.type && (e.origSrc || e.src)) || window.location;\r\n                },\r\n                tpl:\r\n                    '<div class=\"fancybox-share\"><h1>{{SHARE}}</h1><p><a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg><span>Facebook</span></a><a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg><span>Twitter</span></a><a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\"><svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg><span>Pinterest</span></a></p><p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" onclick=\"select()\" /></p></div>',\r\n            },\r\n        }),\r\n            e(t).on(\"click\", \"[data-fancybox-share]\", function () {\r\n                var t,\r\n                    o,\r\n                    i = e.fancybox.getInstance(),\r\n                    a = i.current || null;\r\n                a &&\r\n                    (\"function\" === e.type(a.opts.share.url) && (t = a.opts.share.url.apply(a, [i, a])),\r\n                    (o = a.opts.share.tpl\r\n                        .replace(/\\{\\{media\\}\\}/g, \"image\" === a.type ? encodeURIComponent(a.src) : \"\")\r\n                        .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(t))\r\n                        .replace(/\\{\\{url_raw\\}\\}/g, n(t))\r\n                        .replace(/\\{\\{descr\\}\\}/g, i.$caption ? encodeURIComponent(i.$caption.text()) : \"\")),\r\n                    e.fancybox.open({\r\n                        src: i.translate(i, o),\r\n                        type: \"html\",\r\n                        opts: {\r\n                            touch: !1,\r\n                            animationEffect: !1,\r\n                            afterLoad: function (t, e) {\r\n                                i.$refs.container.one(\"beforeClose.fb\", function () {\r\n                                    t.close(null, 0);\r\n                                }),\r\n                                    e.$content.find(\".fancybox-share__button\").click(function () {\r\n                                        return window.open(this.href, \"Share\", \"width=550, height=450\"), !1;\r\n                                    });\r\n                            },\r\n                            mobile: { autoFocus: !1 },\r\n                        },\r\n                    }));\r\n            });\r\n    })(document, jQuery),\r\n    (function (t, e, n) {\r\n        \"use strict\";\r\n        function o() {\r\n            var e = t.location.hash.substr(1),\r\n                n = e.split(\"-\"),\r\n                o = n.length > 1 && /^\\+?\\d+$/.test(n[n.length - 1]) ? parseInt(n.pop(-1), 10) || 1 : 1,\r\n                i = n.join(\"-\");\r\n            return { hash: e, index: o < 1 ? 1 : o, gallery: i };\r\n        }\r\n        function i(t) {\r\n            \"\" !== t.gallery &&\r\n                n(\"[data-fancybox='\" + n.escapeSelector(t.gallery) + \"']\")\r\n                    .eq(t.index - 1)\r\n                    .focus()\r\n                    .trigger(\"click.fb-start\");\r\n        }\r\n        function a(t) {\r\n            var e, n;\r\n            return !!t && ((e = t.current ? t.current.opts : t.opts), \"\" !== (n = e.hash || (e.$orig ? e.$orig.data(\"fancybox\") || e.$orig.data(\"fancybox-trigger\") : \"\")) && n);\r\n        }\r\n        n.escapeSelector ||\r\n            (n.escapeSelector = function (t) {\r\n                return (t + \"\").replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g, function (t, e) {\r\n                    return e ? (\"\\0\" === t ? \"\" : t.slice(0, -1) + \"\\\\\" + t.charCodeAt(t.length - 1).toString(16) + \" \") : \"\\\\\" + t;\r\n                });\r\n            }),\r\n            n(function () {\r\n                !1 !== n.fancybox.defaults.hash &&\r\n                    (n(e).on({\r\n                        \"onInit.fb\": function (t, e) {\r\n                            var n, i;\r\n                            !1 !== e.group[e.currIndex].opts.hash && ((n = o()), (i = a(e)) && n.gallery && i == n.gallery && (e.currIndex = n.index - 1));\r\n                        },\r\n                        \"beforeShow.fb\": function (n, o, i, s) {\r\n                            var r;\r\n                            i &&\r\n                                !1 !== i.opts.hash &&\r\n                                (r = a(o)) &&\r\n                                ((o.currentHash = r + (o.group.length > 1 ? \"-\" + (i.index + 1) : \"\")),\r\n                                t.location.hash !== \"#\" + o.currentHash &&\r\n                                    (s && !o.origHash && (o.origHash = t.location.hash),\r\n                                    o.hashTimer && clearTimeout(o.hashTimer),\r\n                                    (o.hashTimer = setTimeout(function () {\r\n                                        \"replaceState\" in t.history\r\n                                            ? (t.history[s ? \"pushState\" : \"replaceState\"]({}, e.title, t.location.pathname + t.location.search + \"#\" + o.currentHash), s && (o.hasCreatedHistory = !0))\r\n                                            : (t.location.hash = o.currentHash),\r\n                                            (o.hashTimer = null);\r\n                                    }, 300))));\r\n                        },\r\n                        \"beforeClose.fb\": function (n, o, i) {\r\n                            i &&\r\n                                !1 !== i.opts.hash &&\r\n                                (clearTimeout(o.hashTimer),\r\n                                o.currentHash && o.hasCreatedHistory\r\n                                    ? t.history.back()\r\n                                    : o.currentHash && (\"replaceState\" in t.history ? t.history.replaceState({}, e.title, t.location.pathname + t.location.search + (o.origHash || \"\")) : (t.location.hash = o.origHash)),\r\n                                (o.currentHash = null));\r\n                        },\r\n                    }),\r\n                    n(t).on(\"hashchange.fb\", function () {\r\n                        var t = o(),\r\n                            e = null;\r\n                        n.each(n(\".fancybox-container\").get().reverse(), function (t, o) {\r\n                            var i = n(o).data(\"FancyBox\");\r\n                            if (i && i.currentHash) return (e = i), !1;\r\n                        }),\r\n                            e ? e.currentHash === t.gallery + \"-\" + t.index || (1 === t.index && e.currentHash == t.gallery) || ((e.currentHash = null), e.close()) : \"\" !== t.gallery && i(t);\r\n                    }),\r\n                    setTimeout(function () {\r\n                        n.fancybox.getInstance() || i(o());\r\n                    }, 50));\r\n            });\r\n    })(window, document, jQuery),\r\n    (function (t, e) {\r\n        \"use strict\";\r\n        var n = new Date().getTime();\r\n        e(t).on({\r\n            \"onInit.fb\": function (t, e, o) {\r\n                e.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function (t) {\r\n                    var o = e.current,\r\n                        i = new Date().getTime();\r\n                    e.group.length < 2 ||\r\n                        !1 === o.opts.wheel ||\r\n                        (\"auto\" === o.opts.wheel && \"image\" !== o.type) ||\r\n                        (t.preventDefault(),\r\n                        t.stopPropagation(),\r\n                        o.$slide.hasClass(\"fancybox-animated\") || ((t = t.originalEvent || t), i - n < 250 || ((n = i), e[(-t.deltaY || -t.deltaX || t.wheelDelta || -t.detail) < 0 ? \"next\" : \"previous\"]())));\r\n                });\r\n            },\r\n        });\r\n    })(document, jQuery);\r\n"]}]}
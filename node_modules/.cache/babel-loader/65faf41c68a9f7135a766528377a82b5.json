{"remainingRequest":"/var/www/html/firebase-auth/node_modules/babel-loader/lib/index.js!/var/www/html/firebase-auth/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/firebase-auth/src/assets/front/plugins/date-picker/js/gijgo.min.js","dependencies":[{"path":"/var/www/html/firebase-auth/src/assets/front/plugins/date-picker/js/gijgo.min.js","mtime":1617778445576},{"path":"/var/www/html/firebase-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/firebase-auth/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/firebase-auth/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL3Zhci93d3cvaHRtbC9maXJlYmFzZS1hdXRoL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYm9sZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGFsaWNzLmpzIjsKaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsKaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknOwp2YXIgZ2ogPSB7fTsKZ2oud2lkZ2V0ID0gZnVuY3Rpb24gKCkgewogIHZhciBhID0gdGhpczsKICBhLnhociA9IG51bGwsIGEuZ2VuZXJhdGVHVUlEID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gYSgpIHsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IoNjU1MzYgKiAoMSArIE1hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHJldHVybiBhKCkgKyBhKCkgKyAiLSIgKyBhKCkgKyAiLSIgKyBhKCkgKyAiLSIgKyBhKCkgKyAiLSIgKyBhKCkgKyBhKCkgKyBhKCk7CiAgfSwgYS5tb3VzZVggPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKGEpIHsKICAgICAgaWYgKGEucGFnZVgpIHJldHVybiBhLnBhZ2VYOwogICAgICBpZiAoYS5jbGllbnRYKSByZXR1cm4gYS5jbGllbnRYICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpOwogICAgICBpZiAoYS50b3VjaGVzICYmIGEudG91Y2hlcy5sZW5ndGgpIHJldHVybiBhLnRvdWNoZXNbMF0ucGFnZVg7CiAgICAgIGlmIChhLmNoYW5nZWRUb3VjaGVzICYmIGEuY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSByZXR1cm4gYS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDsKICAgICAgaWYgKGEub3JpZ2luYWxFdmVudCAmJiBhLm9yaWdpbmFsRXZlbnQudG91Y2hlcyAmJiBhLm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGgpIHJldHVybiBhLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWDsKICAgICAgaWYgKGEub3JpZ2luYWxFdmVudCAmJiBhLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgJiYgYS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aCkgcmV0dXJuIGEub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sIGEubW91c2VZID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmIChhKSB7CiAgICAgIGlmIChhLnBhZ2VZKSByZXR1cm4gYS5wYWdlWTsKICAgICAgaWYgKGEuY2xpZW50WSkgcmV0dXJuIGEuY2xpZW50WSArIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKTsKICAgICAgaWYgKGEudG91Y2hlcyAmJiBhLnRvdWNoZXMubGVuZ3RoKSByZXR1cm4gYS50b3VjaGVzWzBdLnBhZ2VZOwogICAgICBpZiAoYS5jaGFuZ2VkVG91Y2hlcyAmJiBhLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCkgcmV0dXJuIGEuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7CiAgICAgIGlmIChhLm9yaWdpbmFsRXZlbnQgJiYgYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgJiYgYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoKSByZXR1cm4gYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVk7CiAgICAgIGlmIChhLm9yaWdpbmFsRXZlbnQgJiYgYS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzICYmIGEub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHJldHVybiBhLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9Owp9LCBnai53aWRnZXQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjLCBkLCBlOwogIHRoaXMuYXR0cigiZGF0YS10eXBlIiwgYiksIGQgPSAkLmV4dGVuZCghMCwge30sIHRoaXMuZ2V0SFRNTENvbmZpZygpIHx8IHt9KSwgJC5leHRlbmQoITAsIGQsIGEgfHwge30pLCBlID0gdGhpcy5nZXRDb25maWcoZCwgYiksIHRoaXMuYXR0cigiZGF0YS1ndWlkIiwgZS5ndWlkKSwgdGhpcy5kYXRhKGUpOwoKICBmb3IgKGMgaW4gZSkgewogICAgZ2pbYl0uZXZlbnRzLmhhc093blByb3BlcnR5KGMpICYmICh0aGlzLm9uKGMsIGVbY10pLCBkZWxldGUgZVtjXSk7CiAgfQoKICBmb3IgKHBsdWdpbiBpbiBnaltiXS5wbHVnaW5zKSB7CiAgICBnaltiXS5wbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbikgJiYgZ2pbYl0ucGx1Z2luc1twbHVnaW5dLmNvbmZpZ3VyZSh0aGlzLCBlLCBkKTsKICB9CgogIHJldHVybiB0aGlzOwp9LCBnai53aWRnZXQucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMsIGQsIGUsIGY7CiAgYyA9ICQuZXh0ZW5kKCEwLCB7fSwgZ2pbYl0uY29uZmlnLmJhc2UpLCBkID0gYS5oYXNPd25Qcm9wZXJ0eSgidWlMaWJyYXJ5IikgPyBhLnVpTGlicmFyeSA6IGMudWlMaWJyYXJ5LCBnaltiXS5jb25maWdbZF0gJiYgJC5leHRlbmQoITAsIGMsIGdqW2JdLmNvbmZpZ1tkXSksIGUgPSBhLmhhc093blByb3BlcnR5KCJpY29uc0xpYnJhcnkiKSA/IGEuaWNvbnNMaWJyYXJ5IDogYy5pY29uc0xpYnJhcnksIGdqW2JdLmNvbmZpZ1tlXSAmJiAkLmV4dGVuZCghMCwgYywgZ2pbYl0uY29uZmlnW2VdKTsKCiAgZm9yIChmIGluIGdqW2JdLnBsdWdpbnMpIHsKICAgIGdqW2JdLnBsdWdpbnMuaGFzT3duUHJvcGVydHkoZikgJiYgKCQuZXh0ZW5kKCEwLCBjLCBnaltiXS5wbHVnaW5zW2ZdLmNvbmZpZy5iYXNlKSwgZ2pbYl0ucGx1Z2luc1tmXS5jb25maWdbZF0gJiYgJC5leHRlbmQoITAsIGMsIGdqW2JdLnBsdWdpbnNbZl0uY29uZmlnW2RdKSwgZ2pbYl0ucGx1Z2luc1tmXS5jb25maWdbZV0gJiYgJC5leHRlbmQoITAsIGMsIGdqW2JdLnBsdWdpbnNbZl0uY29uZmlnW2VdKSk7CiAgfQoKICByZXR1cm4gJC5leHRlbmQoITAsIGMsIGEpLCBjLmd1aWQgfHwgKGMuZ3VpZCA9IHRoaXMuZ2VuZXJhdGVHVUlEKCkpLCBjOwp9LCBnai53aWRnZXQucHJvdG90eXBlLmdldEhUTUxDb25maWcgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGEgPSB0aGlzLmRhdGEoKSwKICAgICAgYiA9IHRoaXNbMF0uYXR0cmlidXRlczsKICByZXR1cm4gYi53aWR0aCAmJiAoYS53aWR0aCA9IGIud2lkdGgudmFsdWUpLCBiLmhlaWdodCAmJiAoYS5oZWlnaHQgPSBiLmhlaWdodC52YWx1ZSksIGIudmFsdWUgJiYgKGEudmFsdWUgPSBiLnZhbHVlLnZhbHVlKSwgYi5hbGlnbiAmJiAoYS5hbGlnbiA9IGIuYWxpZ24udmFsdWUpLCBhICYmIGEuc291cmNlICYmIChhLmRhdGFTb3VyY2UgPSBhLnNvdXJjZSwgZGVsZXRlIGEuc291cmNlKSwgYTsKfSwgZ2oud2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVEb25lSGFuZGxlciA9IGZ1bmN0aW9uICgpIHsKICB2YXIgYSA9IHRoaXM7CiAgcmV0dXJuIGZ1bmN0aW9uIChiKSB7CiAgICAic3RyaW5nIiA9PSB0eXBlb2YgYiAmJiBKU09OICYmIChiID0gSlNPTi5wYXJzZShiKSksIGdqW2EuZGF0YSgidHlwZSIpXS5tZXRob2RzLnJlbmRlcihhLCBiKTsKICB9Owp9LCBnai53aWRnZXQucHJvdG90eXBlLmNyZWF0ZUVycm9ySGFuZGxlciA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gZnVuY3Rpb24gKGEpIHsKICAgIGEgJiYgYS5zdGF0dXNUZXh0ICYmICJhYm9ydCIgIT09IGEuc3RhdHVzVGV4dCAmJiBhbGVydChhLnN0YXR1c1RleHQpOwogIH07Cn0sIGdqLndpZGdldC5wcm90b3R5cGUucmVsb2FkID0gZnVuY3Rpb24gKGEpIHsKICB2YXIgYiwKICAgICAgYywKICAgICAgZCA9IHRoaXMuZGF0YSgpLAogICAgICBlID0gdGhpcy5kYXRhKCJ0eXBlIik7CiAgcmV0dXJuIHZvaWQgMCA9PT0gZC5kYXRhU291cmNlICYmIGdqW2VdLm1ldGhvZHMudXNlSHRtbERhdGFTb3VyY2UodGhpcywgZCksICQuZXh0ZW5kKGQucGFyYW1zLCBhKSwgJC5pc0FycmF5KGQuZGF0YVNvdXJjZSkgPyAoYyA9IGdqW2VdLm1ldGhvZHMuZmlsdGVyKHRoaXMpLCBnaltlXS5tZXRob2RzLnJlbmRlcih0aGlzLCBjKSkgOiAic3RyaW5nIiA9PSB0eXBlb2YgZC5kYXRhU291cmNlID8gKGIgPSB7CiAgICB1cmw6IGQuZGF0YVNvdXJjZSwKICAgIGRhdGE6IGQucGFyYW1zCiAgfSwgdGhpcy54aHIgJiYgdGhpcy54aHIuYWJvcnQoKSwgdGhpcy54aHIgPSAkLmFqYXgoYikuZG9uZSh0aGlzLmNyZWF0ZURvbmVIYW5kbGVyKCkpLmZhaWwodGhpcy5jcmVhdGVFcnJvckhhbmRsZXIoKSkpIDogIm9iamVjdCIgPT0gX3R5cGVvZihkLmRhdGFTb3VyY2UpICYmIChkLmRhdGFTb3VyY2UuZGF0YSB8fCAoZC5kYXRhU291cmNlLmRhdGEgPSB7fSksICQuZXh0ZW5kKGQuZGF0YVNvdXJjZS5kYXRhLCBkLnBhcmFtcyksIGIgPSAkLmV4dGVuZCghMCwge30sIGQuZGF0YVNvdXJjZSksICJqc29uIiA9PT0gYi5kYXRhVHlwZSAmJiAib2JqZWN0IiA9PSBfdHlwZW9mKGIuZGF0YSkgJiYgKGIuZGF0YSA9IEpTT04uc3RyaW5naWZ5KGIuZGF0YSkpLCBiLnN1Y2Nlc3MgfHwgKGIuc3VjY2VzcyA9IHRoaXMuY3JlYXRlRG9uZUhhbmRsZXIoKSksIGIuZXJyb3IgfHwgKGIuZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9ySGFuZGxlcigpKSwgdGhpcy54aHIgJiYgdGhpcy54aHIuYWJvcnQoKSwgdGhpcy54aHIgPSAkLmFqYXgoYikpLCB0aGlzOwp9LCBnai5kb2N1bWVudE1hbmFnZXIgPSB7CiAgZXZlbnRzOiB7fSwKICBzdWJzY3JpYmVGb3JFdmVudDogZnVuY3Rpb24gc3Vic2NyaWJlRm9yRXZlbnQoYSwgYiwgYykgewogICAgaWYgKGdqLmRvY3VtZW50TWFuYWdlci5ldmVudHNbYV0gJiYgMCAhPT0gZ2ouZG9jdW1lbnRNYW5hZ2VyLmV2ZW50c1thXS5sZW5ndGgpIHsKICAgICAgaWYgKGdqLmRvY3VtZW50TWFuYWdlci5ldmVudHNbYV1bYl0pIHRocm93ICJFdmVudCAiICsgYSArICcgZm9yIHdpZGdldCB3aXRoIGd1aWQ9IicgKyBiICsgJyIgaXMgYWxyZWFkeSBhdHRhY2hlZC4nOwogICAgICBnai5kb2N1bWVudE1hbmFnZXIuZXZlbnRzW2FdLnB1c2goewogICAgICAgIHdpZGdldElkOiBiLAogICAgICAgIGNhbGxiYWNrOiBjCiAgICAgIH0pOwogICAgfSBlbHNlIGdqLmRvY3VtZW50TWFuYWdlci5ldmVudHNbYV0gPSBbewogICAgICB3aWRnZXRJZDogYiwKICAgICAgY2FsbGJhY2s6IGMKICAgIH1dLCAkKGRvY3VtZW50KS5vbihhLCBnai5kb2N1bWVudE1hbmFnZXIuZXhlY3V0ZUNhbGxiYWNrcyk7CiAgfSwKICBleGVjdXRlQ2FsbGJhY2tzOiBmdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2tzKGEpIHsKICAgIHZhciBiID0gZ2ouZG9jdW1lbnRNYW5hZ2VyLmV2ZW50c1thLnR5cGVdOwogICAgaWYgKGIpIGZvciAodmFyIGMgPSAwOyBjIDwgYi5sZW5ndGg7IGMrKykgewogICAgICBiW2NdLmNhbGxiYWNrKGEpOwogICAgfQogIH0sCiAgdW5zdWJzY3JpYmVGb3JFdmVudDogZnVuY3Rpb24gdW5zdWJzY3JpYmVGb3JFdmVudChhLCBiKSB7CiAgICB2YXIgYyA9ICExLAogICAgICAgIGQgPSBnai5kb2N1bWVudE1hbmFnZXIuZXZlbnRzW2FdOwogICAgaWYgKGQpIGZvciAodmFyIGUgPSAwOyBlIDwgZC5sZW5ndGg7IGUrKykgewogICAgICBkW2VdLndpZGdldElkID09PSBiICYmIChkLnNwbGljZShlLCAxKSwgYyA9ICEwLCAwID09PSBkLmxlbmd0aCAmJiAoJChkb2N1bWVudCkub2ZmKGEpLCBkZWxldGUgZ2ouZG9jdW1lbnRNYW5hZ2VyLmV2ZW50c1thXSkpOwogICAgfQogICAgaWYgKCFjKSB0aHJvdyAnVGhlICInICsgYSArICciIGZvciB3aWRnZXQgd2l0aCBndWlkPSInICsgYiArICJcIiBjYW4ndCBiZSByZW1vdmVkLiI7CiAgfQp9LCBnai5jb3JlID0gewogIG1lc3NhZ2VzOiB7CiAgICAiZW4tdXMiOiB7CiAgICAgIG1vbnRoTmFtZXM6IFsiSmFudWFyeSIsICJGZWJydWFyeSIsICJNYXJjaCIsICJBcHJpbCIsICJNYXkiLCAiSnVuZSIsICJKdWx5IiwgIkF1Z3VzdCIsICJTZXB0ZW1iZXIiLCAiT2N0b2JlciIsICJOb3ZlbWJlciIsICJEZWNlbWJlciJdLAogICAgICBtb250aFNob3J0TmFtZXM6IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLCAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXSwKICAgICAgd2Vla0RheXNNaW46IFsiUyIsICJNIiwgIlQiLCAiVyIsICJUIiwgIkYiLCAiUyJdLAogICAgICB3ZWVrRGF5c1Nob3J0OiBbIlN1biIsICJNb24iLCAiVHVlIiwgIldlZCIsICJUaHUiLCAiRnJpIiwgIlNhdCJdLAogICAgICB3ZWVrRGF5czogWyJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSJdLAogICAgICBhbTogIkFNIiwKICAgICAgcG06ICJQTSIsCiAgICAgIG9rOiAiT2siLAogICAgICBjYW5jZWw6ICJDYW5jZWwiLAogICAgICB0aXRsZUZvcm1hdDogIm1tbW0geXl5eSIKICAgIH0KICB9LAogIHBhcnNlRGF0ZTogZnVuY3Rpb24gcGFyc2VEYXRlKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiwKICAgICAgICBnLAogICAgICAgIGggPSAwLAogICAgICAgIGkgPSAwLAogICAgICAgIGogPSAxLAogICAgICAgIGsgPSAwLAogICAgICAgIGwgPSAwOwoKICAgIGlmIChhICYmICJzdHJpbmciID09IHR5cGVvZiBhKSB7CiAgICAgIGlmICgvXlxkKyQvLnRlc3QoYSkpIGcgPSBuZXcgRGF0ZShhKTtlbHNlIGlmIChhLmluZGV4T2YoIi9EYXRlKCIpID4gLTEpIGcgPSBuZXcgRGF0ZShwYXJzZUludChhLnN1YnN0cig2KSwgMTApKTtlbHNlIGlmIChhKSB7CiAgICAgICAgZm9yIChmID0gYi5zcGxpdCgvW1xzLC1cLlwvXC9cOl0rLyksIGUgPSBhLnNwbGl0KC9bXHNdKy8pLCBlLmxlbmd0aCAhPSBmLmxlbmd0aCAmJiAoZSA9IGEuc3BsaXQoL1tccywtXC5cL1wvXDpdKy8pKSwgZCA9IDA7IGQgPCBmLmxlbmd0aDsgZCsrKSB7CiAgICAgICAgICBbImQiLCAiZGQiXS5pbmRleE9mKGZbZF0pID4gLTEgPyBqID0gcGFyc2VJbnQoZVtkXSwgMTApIDogWyJtIiwgIm1tIl0uaW5kZXhPZihmW2RdKSA+IC0xID8gaSA9IHBhcnNlSW50KGVbZF0sIDEwKSAtIDEgOiAibW1tIiA9PT0gZltkXSA/IGkgPSBnai5jb3JlLm1lc3NhZ2VzW2MgfHwgImVuLXVzIl0ubW9udGhTaG9ydE5hbWVzLmluZGV4T2YoZVtkXSkgOiAibW1tbSIgPT09IGZbZF0gPyBpID0gZ2ouY29yZS5tZXNzYWdlc1tjIHx8ICJlbi11cyJdLm1vbnRoTmFtZXMuaW5kZXhPZihlW2RdKSA6IFsieXkiLCAieXl5eSJdLmluZGV4T2YoZltkXSkgPiAtMSA/IChoID0gcGFyc2VJbnQoZVtkXSwgMTApLCAieXkiID09PSBmW2RdICYmIChoICs9IDJlMykpIDogWyJoIiwgImhoIiwgIkgiLCAiSEgiXS5pbmRleE9mKGZbZF0pID4gLTEgPyBrID0gcGFyc2VJbnQoZVtkXSwgMTApIDogWyJNIiwgIk1NIl0uaW5kZXhPZihmW2RdKSA+IC0xICYmIChsID0gcGFyc2VJbnQoZVtkXSwgMTApKTsKICAgICAgICB9CgogICAgICAgIGcgPSBuZXcgRGF0ZShoLCBpLCBqLCBrLCBsKTsKICAgICAgfQogICAgfSBlbHNlICJudW1iZXIiID09IHR5cGVvZiBhID8gZyA9IG5ldyBEYXRlKGEpIDogYSBpbnN0YW5jZW9mIERhdGUgJiYgKGcgPSBhKTsKCiAgICByZXR1cm4gZzsKICB9LAogIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoYSwgYiwgYykgewogICAgdmFyIGQsCiAgICAgICAgZSwKICAgICAgICBmID0gIiIsCiAgICAgICAgZyA9IGIuc3BsaXQoL1tccywtXC5cL1wvXDpdKy8pLAogICAgICAgIGggPSBiLnNwbGl0KC9zK3xNK3xIK3xoK3x0K3xUK3xkK3xtK3x5Ky8pOwoKICAgIGZvciAoaCA9IGguc3BsaWNlKDEsIGgubGVuZ3RoIC0gMiksIGkgPSAwOyBpIDwgZy5sZW5ndGg7IGkrKykgewogICAgICBzd2l0Y2ggKGQgPSBoW2ldIHx8ICIiLCBnW2ldKSB7CiAgICAgICAgY2FzZSAicyI6CiAgICAgICAgICBmICs9IGEuZ2V0U2Vjb25kcygpICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJzcyI6CiAgICAgICAgICBmICs9IGdqLmNvcmUucGFkKGEuZ2V0U2Vjb25kcygpKSArIGQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiTSI6CiAgICAgICAgICBmICs9IGEuZ2V0TWludXRlcygpICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJNTSI6CiAgICAgICAgICBmICs9IGdqLmNvcmUucGFkKGEuZ2V0TWludXRlcygpKSArIGQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiSCI6CiAgICAgICAgICBmICs9IGEuZ2V0SG91cnMoKSArIGQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiSEgiOgogICAgICAgICAgZiArPSBnai5jb3JlLnBhZChhLmdldEhvdXJzKCkpICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJoIjoKICAgICAgICAgIGUgPSBhLmdldEhvdXJzKCkgPiAxMiA/IGEuZ2V0SG91cnMoKSAlIDEyIDogYS5nZXRIb3VycygpLCBmICs9IGUgKyBkOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImhoIjoKICAgICAgICAgIGUgPSBhLmdldEhvdXJzKCkgPiAxMiA/IGEuZ2V0SG91cnMoKSAlIDEyIDogYS5nZXRIb3VycygpLCBmICs9IGdqLmNvcmUucGFkKGUpICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ0dCI6CiAgICAgICAgICBmICs9IChhLmdldEhvdXJzKCkgPj0gMTIgPyAicG0iIDogImFtIikgKyBkOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIlRUIjoKICAgICAgICAgIGYgKz0gKGEuZ2V0SG91cnMoKSA+PSAxMiA/ICJQTSIgOiAiQU0iKSArIGQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZCI6CiAgICAgICAgICBmICs9IGEuZ2V0RGF0ZSgpICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkZCI6CiAgICAgICAgICBmICs9IGdqLmNvcmUucGFkKGEuZ2V0RGF0ZSgpKSArIGQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZGRkIjoKICAgICAgICAgIGYgKz0gZ2ouY29yZS5tZXNzYWdlc1tjIHx8ICJlbi11cyJdLndlZWtEYXlzU2hvcnRbYS5nZXREYXkoKV0gKyBkOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImRkZGQiOgogICAgICAgICAgZiArPSBnai5jb3JlLm1lc3NhZ2VzW2MgfHwgImVuLXVzIl0ud2Vla0RheXNbYS5nZXREYXkoKV0gKyBkOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIm0iOgogICAgICAgICAgZiArPSBhLmdldE1vbnRoKCkgKyAxICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJtbSI6CiAgICAgICAgICBmICs9IGdqLmNvcmUucGFkKGEuZ2V0TW9udGgoKSArIDEpICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJtbW0iOgogICAgICAgICAgZiArPSBnai5jb3JlLm1lc3NhZ2VzW2MgfHwgImVuLXVzIl0ubW9udGhTaG9ydE5hbWVzW2EuZ2V0TW9udGgoKV0gKyBkOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIm1tbW0iOgogICAgICAgICAgZiArPSBnai5jb3JlLm1lc3NhZ2VzW2MgfHwgImVuLXVzIl0ubW9udGhOYW1lc1thLmdldE1vbnRoKCldICsgZDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ5eSI6CiAgICAgICAgICBmICs9IGEuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpLnN1YnN0cigyKSArIGQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAieXl5eSI6CiAgICAgICAgICBmICs9IGEuZ2V0RnVsbFllYXIoKSArIGQ7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZjsKICB9LAogIHBhZDogZnVuY3Rpb24gcGFkKGEsIGIpIHsKICAgIGZvciAoYSA9IFN0cmluZyhhKSwgYiA9IGIgfHwgMjsgYS5sZW5ndGggPCBiOykgewogICAgICBhID0gIjAiICsgYTsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9LAogIGNlbnRlcjogZnVuY3Rpb24gY2VudGVyKGEpIHsKICAgIHZhciBiID0gJCh3aW5kb3cpLndpZHRoKCkgLyAyIC0gYS53aWR0aCgpIC8gMiwKICAgICAgICBjID0gJCh3aW5kb3cpLmhlaWdodCgpIC8gMiAtIGEuaGVpZ2h0KCkgLyAyOwogICAgYS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIiksIGEuY3NzKCJsZWZ0IiwgYiA+IDAgPyBiIDogMCksIGEuY3NzKCJ0b3AiLCBjID4gMCA/IGMgOiAwKTsKICB9LAogIGlzSUU6IGZ1bmN0aW9uIGlzSUUoKSB7CiAgICByZXR1cm4gISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9UcmlkZW50L2cpIHx8ICEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTVNJRS9nKTsKICB9LAogIHNldENoaWxkUG9zaXRpb246IGZ1bmN0aW9uIHNldENoaWxkUG9zaXRpb24oYSwgYikgewogICAgdmFyIGMgPSBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgIGQgPSBnai5jb3JlLmhlaWdodChhLCAhMCksCiAgICAgICAgZSA9IGdqLmNvcmUuaGVpZ2h0KGIsICEwKSwKICAgICAgICBmID0gZ2ouY29yZS53aWR0aChhLCAhMCksCiAgICAgICAgZyA9IGdqLmNvcmUud2lkdGgoYiwgITApLAogICAgICAgIGggPSB3aW5kb3cuc2Nyb2xsWSB8fCB3aW5kb3cucGFnZVlPZmZzZXQgfHwgMCwKICAgICAgICBpID0gd2luZG93LnNjcm9sbFggfHwgd2luZG93LnBhZ2VYT2Zmc2V0IHx8IDA7CiAgICBjLnRvcCArIGQgKyBlID4gd2luZG93LmlubmVySGVpZ2h0ICYmIGMudG9wID4gZSA/IGIuc3R5bGUudG9wID0gTWF0aC5yb3VuZChjLnRvcCArIGggLSBlIC0gMykgKyAicHgiIDogYi5zdHlsZS50b3AgPSBNYXRoLnJvdW5kKGMudG9wICsgaCArIGQgKyAzKSArICJweCIsIGMubGVmdCArIGcgPiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoID8gYi5zdHlsZS5sZWZ0ID0gTWF0aC5yb3VuZChjLmxlZnQgKyBpICsgZiAtIGcpICsgInB4IiA6IGIuc3R5bGUubGVmdCA9IE1hdGgucm91bmQoYy5sZWZ0ICsgaSkgKyAicHgiOwogIH0sCiAgaGVpZ2h0OiBmdW5jdGlvbiBoZWlnaHQoYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEpOwogICAgcmV0dXJuICJib3JkZXItYm94IiA9PT0gZC5ib3hTaXppbmcgPyAoYyA9IHBhcnNlSW50KGQuaGVpZ2h0LCAxMCksIGdqLmNvcmUuaXNJRSgpICYmIChjICs9IHBhcnNlSW50KGQucGFkZGluZ1RvcCB8fCAwLCAxMCkgKyBwYXJzZUludChkLnBhZGRpbmdCb3R0b20gfHwgMCwgMTApLCBjICs9IHBhcnNlSW50KGQuYm9yZGVyVG9wV2lkdGggfHwgMCwgMTApICsgcGFyc2VJbnQoZC5ib3JkZXJCb3R0b21XaWR0aCB8fCAwLCAxMCkpKSA6IChjID0gcGFyc2VJbnQoZC5oZWlnaHQsIDEwKSwgYyArPSBwYXJzZUludChkLnBhZGRpbmdUb3AgfHwgMCwgMTApICsgcGFyc2VJbnQoZC5wYWRkaW5nQm90dG9tIHx8IDAsIDEwKSwgYyArPSBwYXJzZUludChkLmJvcmRlclRvcFdpZHRoIHx8IDAsIDEwKSArIHBhcnNlSW50KGQuYm9yZGVyQm90dG9tV2lkdGggfHwgMCwgMTApKSwgYiAmJiAoYyArPSBwYXJzZUludChkLm1hcmdpblRvcCB8fCAwLCAxMCkgKyBwYXJzZUludChkLm1hcmdpbkJvdHRvbSB8fCAwLCAxMCkpLCBjOwogIH0sCiAgd2lkdGg6IGZ1bmN0aW9uIHdpZHRoKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKTsKICAgIHJldHVybiAiYm9yZGVyLWJveCIgPT09IGQuYm94U2l6aW5nID8gYyA9IHBhcnNlSW50KGQud2lkdGgsIDEwKSA6IChjID0gcGFyc2VJbnQoZC53aWR0aCwgMTApLCBjICs9IHBhcnNlSW50KGQucGFkZGluZ0xlZnQgfHwgMCwgMTApICsgcGFyc2VJbnQoZC5wYWRkaW5nUmlnaHQgfHwgMCwgMTApLCBjICs9IHBhcnNlSW50KGQuYm9yZGVyTGVmdFdpZHRoIHx8IDAsIDEwKSArIHBhcnNlSW50KGQuYm9yZGVyUmlnaHRXaWR0aCB8fCAwLCAxMCkpLCBiICYmIChjICs9IHBhcnNlSW50KGQubWFyZ2luTGVmdCB8fCAwLCAxMCkgKyBwYXJzZUludChkLm1hcmdpblJpZ2h0IHx8IDAsIDEwKSksIGM7CiAgfSwKICBhZGRDbGFzc2VzOiBmdW5jdGlvbiBhZGRDbGFzc2VzKGEsIGIpIHsKICAgIHZhciBjLCBkOwogICAgaWYgKGIpIGZvciAoZCA9IGIuc3BsaXQoIiAiKSwgYyA9IDA7IGMgPCBkLmxlbmd0aDsgYysrKSB7CiAgICAgIGEuY2xhc3NMaXN0LmFkZChkW2NdKTsKICAgIH0KICB9LAogIHBvc2l0aW9uOiBmdW5jdGlvbiBwb3NpdGlvbihhKSB7CiAgICBmb3IgKHZhciBiLCBjLCBkID0gMCwgZSA9IDAsIGYgPSBnai5jb3JlLmhlaWdodChhKSwgZyA9IGdqLmNvcmUud2lkdGgoYSk7IGE7KSB7CiAgICAgICJCT0RZIiA9PSBhLnRhZ05hbWUgPyAoYiA9IGEuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCwgYyA9IGEuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsIGQgKz0gYS5vZmZzZXRMZWZ0IC0gYiwgZSArPSBhLm9mZnNldFRvcCAtIGMpIDogKGQgKz0gYS5vZmZzZXRMZWZ0IC0gYS5zY3JvbGxMZWZ0LCBlICs9IGEub2Zmc2V0VG9wIC0gYS5zY3JvbGxUb3ApLCBhID0gYS5vZmZzZXRQYXJlbnQ7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgdG9wOiBlLAogICAgICBsZWZ0OiBkLAogICAgICBib3R0b206IGUgKyBmLAogICAgICByaWdodDogZCArIGcKICAgIH07CiAgfSwKICBzZXRDYXJldEF0RW5kOiBmdW5jdGlvbiBzZXRDYXJldEF0RW5kKGEpIHsKICAgIHZhciBiOwogICAgaWYgKGEpIGlmIChiID0gYS52YWx1ZS5sZW5ndGgsIGRvY3VtZW50LnNlbGVjdGlvbikgewogICAgICBhLmZvY3VzKCk7CiAgICAgIHZhciBjID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7CiAgICAgIGMubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLCAtYiksIGMubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLCBiKSwgYy5tb3ZlRW5kKCJjaGFyYWN0ZXIiLCAwKSwgYy5zZWxlY3QoKTsKICAgIH0gZWxzZSAoYS5zZWxlY3Rpb25TdGFydCB8fCAiMCIgPT0gYS5zZWxlY3Rpb25TdGFydCkgJiYgKGEuc2VsZWN0aW9uU3RhcnQgPSBiLCBhLnNlbGVjdGlvbkVuZCA9IGIsIGEuZm9jdXMoKSk7CiAgfSwKICBnZXRTY3JvbGxQYXJlbnQ6IGZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChhKSB7CiAgICByZXR1cm4gbnVsbCA9PSBhID8gbnVsbCA6IGEuc2Nyb2xsSGVpZ2h0ID4gYS5jbGllbnRIZWlnaHQgPyBhIDogZ2ouY29yZS5nZXRTY3JvbGxQYXJlbnQoYS5wYXJlbnROb2RlKTsKICB9Cn0sIGdqLnBpY2tlciA9IHsKICBtZXNzYWdlczogewogICAgImVuLXVzIjoge30KICB9Cn0sIGdqLnBpY2tlci5tZXRob2RzID0gewogIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoYSwgYiwgYykgewogICAgdmFyIGQsCiAgICAgICAgZSA9IGMuY3JlYXRlUGlja2VyKGEsIGIpLAogICAgICAgIGYgPSBhLnBhcmVudCgnZGl2W3JvbGU9IndyYXBwZXIiXScpOwogICAgZCA9ICJib290c3RyYXAiID09PSBiLnVpTGlicmFyeSA/ICQoJzxzcGFuIGNsYXNzPSJpbnB1dC1ncm91cC1hZGRvbiI+JyArIGIuaWNvbnMucmlnaHRJY29uICsgIjwvc3Bhbj4iKSA6ICJib290c3RyYXA0IiA9PT0gYi51aUxpYnJhcnkgPyAkKCc8c3BhbiBjbGFzcz0iaW5wdXQtZ3JvdXAtYXBwZW5kIj48YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJvcmRlci1sZWZ0LTAiIHR5cGU9ImJ1dHRvbiI+JyArIGIuaWNvbnMucmlnaHRJY29uICsgIjwvYnV0dG9uPjwvc3Bhbj4iKSA6ICQoYi5pY29ucy5yaWdodEljb24pLCBkLmF0dHIoInJvbGUiLCAicmlnaHQtaWNvbiIpLCAwID09PSBmLmxlbmd0aCA/IChmID0gJCgnPGRpdiByb2xlPSJ3cmFwcGVyIiAvPicpLmFkZENsYXNzKGIuc3R5bGUud3JhcHBlciksIGEud3JhcChmKSkgOiBmLmFkZENsYXNzKGIuc3R5bGUud3JhcHBlciksIGYgPSBhLnBhcmVudCgnZGl2W3JvbGU9IndyYXBwZXIiXScpLCBiLndpZHRoICYmIGYuY3NzKCJ3aWR0aCIsIGIud2lkdGgpLCBhLnZhbChiLnZhbHVlKS5hZGRDbGFzcyhiLnN0eWxlLmlucHV0KS5hdHRyKCJyb2xlIiwgImlucHV0IiksIGIuZm9udFNpemUgJiYgYS5jc3MoImZvbnQtc2l6ZSIsIGIuZm9udFNpemUpLCAiYm9vdHN0cmFwIiA9PT0gYi51aUxpYnJhcnkgfHwgImJvb3RzdHJhcDQiID09PSBiLnVpTGlicmFyeSA/ICJzbWFsbCIgPT09IGIuc2l6ZSA/IChmLmFkZENsYXNzKCJpbnB1dC1ncm91cC1zbSIpLCBhLmFkZENsYXNzKCJmb3JtLWNvbnRyb2wtc20iKSkgOiAibGFyZ2UiID09PSBiLnNpemUgJiYgKGYuYWRkQ2xhc3MoImlucHV0LWdyb3VwLWxnIiksIGEuYWRkQ2xhc3MoImZvcm0tY29udHJvbC1sZyIpKSA6ICJzbWFsbCIgPT09IGIuc2l6ZSA/IGYuYWRkQ2xhc3MoInNtYWxsIikgOiAibGFyZ2UiID09PSBiLnNpemUgJiYgZi5hZGRDbGFzcygibGFyZ2UiKSwgZC5vbigiY2xpY2siLCBmdW5jdGlvbiAoYikgewogICAgICBlLmlzKCI6dmlzaWJsZSIpID8gYS5jbG9zZSgpIDogYS5vcGVuKCk7CiAgICB9KSwgZi5hcHBlbmQoZCksICEwICE9PSBiLmZvb3RlciAmJiAoYS5vbigiYmx1ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgYS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgYS5jbG9zZSgpOwogICAgICB9LCA1MDApOwogICAgfSksIGUubW91c2Vkb3duKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChhLnRpbWVvdXQpLCBhLmZvY3VzKCksICExOwogICAgfSksIGUub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBjbGVhclRpbWVvdXQoYS50aW1lb3V0KSwgYS5mb2N1cygpOwogICAgfSkpOwogIH0KfSwgZ2oucGlja2VyLndpZGdldCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSB0aGlzLAogICAgICBkID0gZ2oucGlja2VyLm1ldGhvZHM7CiAgcmV0dXJuIGMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmRlc3Ryb3kodGhpcyk7CiAgfSwgYTsKfSwgZ2oucGlja2VyLndpZGdldC5wcm90b3R5cGUgPSBuZXcgZ2oud2lkZ2V0KCksIGdqLnBpY2tlci53aWRnZXQuY29uc3RydWN0b3IgPSBnai5waWNrZXIud2lkZ2V0LCBnai5waWNrZXIud2lkZ2V0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICByZXR1cm4gZ2oud2lkZ2V0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcywgYSwgYiksIHRoaXMuYXR0cigiZGF0YS0iICsgYiwgInRydWUiKSwgZ2oucGlja2VyLm1ldGhvZHMuaW5pdGlhbGl6ZSh0aGlzLCB0aGlzLmRhdGEoKSwgZ2pbYl0ubWV0aG9kcyksIHRoaXM7Cn0sIGdqLnBpY2tlci53aWRnZXQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoYSkgewogIHZhciBiID0gdGhpcy5kYXRhKCksCiAgICAgIGMgPSAkKCJib2R5IikuZmluZCgnW3JvbGU9InBpY2tlciJdW2d1aWQ9IicgKyB0aGlzLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJyk7CiAgcmV0dXJuIGMuc2hvdygpLCBjLmNsb3Nlc3QoJ2Rpdltyb2xlPSJtb2RhbCJdJykuc2hvdygpLCBiLm1vZGFsID8gZ2ouY29yZS5jZW50ZXIoYykgOiAoZ2ouY29yZS5zZXRDaGlsZFBvc2l0aW9uKHRoaXNbMF0sIGNbMF0pLCB0aGlzLmZvY3VzKCkpLCBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSwgZ2pbYV0uZXZlbnRzLm9wZW4odGhpcyksIHRoaXM7Cn0sIGdqLnBpY2tlci53aWRnZXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGEpIHsKICB2YXIgYiA9ICQoImJvZHkiKS5maW5kKCdbcm9sZT0icGlja2VyIl1bZ3VpZD0iJyArIHRoaXMuYXR0cigiZGF0YS1ndWlkIikgKyAnIl0nKTsKICByZXR1cm4gYi5oaWRlKCksIGIuY2xvc2VzdCgnZGl2W3JvbGU9Im1vZGFsIl0nKS5oaWRlKCksIGdqW2FdLmV2ZW50cy5jbG9zZSh0aGlzKSwgdGhpczsKfSwgZ2oucGlja2VyLndpZGdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChhKSB7CiAgdmFyIGIgPSB0aGlzLmRhdGEoKSwKICAgICAgYyA9IHRoaXMucGFyZW50KCksCiAgICAgIGQgPSAkKCJib2R5IikuZmluZCgnW3JvbGU9InBpY2tlciJdW2d1aWQ9IicgKyB0aGlzLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJyk7CiAgcmV0dXJuIGIgJiYgKHRoaXMub2ZmKCksIGQucGFyZW50KCdbcm9sZT0ibW9kYWwiXScpLmxlbmd0aCA+IDAgJiYgZC51bndyYXAoKSwgZC5yZW1vdmUoKSwgdGhpcy5yZW1vdmVEYXRhKCksIHRoaXMucmVtb3ZlQXR0cigiZGF0YS10eXBlIikucmVtb3ZlQXR0cigiZGF0YS1ndWlkIikucmVtb3ZlQXR0cigiZGF0YS0iICsgYSksIHRoaXMucmVtb3ZlQ2xhc3MoKSwgYy5jaGlsZHJlbignW3JvbGU9InJpZ2h0LWljb24iXScpLnJlbW92ZSgpLCB0aGlzLnVud3JhcCgpKSwgdGhpczsKfSwgZ2ouZGlhbG9nID0gewogIHBsdWdpbnM6IHt9LAogIG1lc3NhZ2VzOiB7fQp9LCBnai5kaWFsb2cuY29uZmlnID0gewogIGJhc2U6IHsKICAgIGF1dG9PcGVuOiAhMCwKICAgIGNsb3NlQnV0dG9uSW5IZWFkZXI6ICEwLAogICAgY2xvc2VPbkVzY2FwZTogITAsCiAgICBkcmFnZ2FibGU6ICEwLAogICAgaGVpZ2h0OiAiYXV0byIsCiAgICBsb2NhbGU6ICJlbi11cyIsCiAgICBtYXhIZWlnaHQ6IHZvaWQgMCwKICAgIG1heFdpZHRoOiB2b2lkIDAsCiAgICBtaW5IZWlnaHQ6IHZvaWQgMCwKICAgIG1pbldpZHRoOiB2b2lkIDAsCiAgICBtb2RhbDogITEsCiAgICByZXNpemFibGU6ICExLAogICAgc2Nyb2xsYWJsZTogITEsCiAgICB0aXRsZTogdm9pZCAwLAogICAgdWlMaWJyYXJ5OiB2b2lkIDAsCiAgICB3aWR0aDogMzAwLAogICAgc3R5bGU6IHsKICAgICAgbW9kYWw6ICJnai1tb2RhbCIsCiAgICAgIGNvbnRlbnQ6ICJnai1kaWFsb2ctbWQiLAogICAgICBoZWFkZXI6ICJnai1kaWFsb2ctbWQtaGVhZGVyIGdqLXVuc2VsZWN0YWJsZSIsCiAgICAgIGhlYWRlclRpdGxlOiAiZ2otZGlhbG9nLW1kLXRpdGxlIiwKICAgICAgaGVhZGVyQ2xvc2VCdXR0b246ICJnai1kaWFsb2ctbWQtY2xvc2UiLAogICAgICBib2R5OiAiZ2otZGlhbG9nLW1kLWJvZHkiLAogICAgICBmb290ZXI6ICJnai1kaWFsb2ctZm9vdGVyIGdqLWRpYWxvZy1tZC1mb290ZXIiCiAgICB9CiAgfSwKICBib290c3RyYXA6IHsKICAgIHN0eWxlOiB7CiAgICAgIG1vZGFsOiAibW9kYWwiLAogICAgICBjb250ZW50OiAibW9kYWwtY29udGVudCBnai1kaWFsb2ctYm9vdHN0cmFwIiwKICAgICAgaGVhZGVyOiAibW9kYWwtaGVhZGVyIiwKICAgICAgaGVhZGVyVGl0bGU6ICJtb2RhbC10aXRsZSIsCiAgICAgIGhlYWRlckNsb3NlQnV0dG9uOiAiY2xvc2UiLAogICAgICBib2R5OiAibW9kYWwtYm9keSIsCiAgICAgIGZvb3RlcjogImdqLWRpYWxvZy1mb290ZXIgbW9kYWwtZm9vdGVyIgogICAgfQogIH0sCiAgYm9vdHN0cmFwNDogewogICAgc3R5bGU6IHsKICAgICAgbW9kYWw6ICJtb2RhbCIsCiAgICAgIGNvbnRlbnQ6ICJtb2RhbC1jb250ZW50IGdqLWRpYWxvZy1ib290c3RyYXA0IiwKICAgICAgaGVhZGVyOiAibW9kYWwtaGVhZGVyIiwKICAgICAgaGVhZGVyVGl0bGU6ICJtb2RhbC10aXRsZSIsCiAgICAgIGhlYWRlckNsb3NlQnV0dG9uOiAiY2xvc2UiLAogICAgICBib2R5OiAibW9kYWwtYm9keSIsCiAgICAgIGZvb3RlcjogImdqLWRpYWxvZy1mb290ZXIgbW9kYWwtZm9vdGVyIgogICAgfQogIH0KfSwgZ2ouZGlhbG9nLmV2ZW50cyA9IHsKICBpbml0aWFsaXplZDogZnVuY3Rpb24gaW5pdGlhbGl6ZWQoYSkgewogICAgYS50cmlnZ2VyKCJpbml0aWFsaXplZCIpOwogIH0sCiAgb3BlbmluZzogZnVuY3Rpb24gb3BlbmluZyhhKSB7CiAgICBhLnRyaWdnZXIoIm9wZW5pbmciKTsKICB9LAogIG9wZW5lZDogZnVuY3Rpb24gb3BlbmVkKGEpIHsKICAgIGEudHJpZ2dlcigib3BlbmVkIik7CiAgfSwKICBjbG9zaW5nOiBmdW5jdGlvbiBjbG9zaW5nKGEpIHsKICAgIGEudHJpZ2dlcigiY2xvc2luZyIpOwogIH0sCiAgY2xvc2VkOiBmdW5jdGlvbiBjbG9zZWQoYSkgewogICAgYS50cmlnZ2VyKCJjbG9zZWQiKTsKICB9LAogIGRyYWc6IGZ1bmN0aW9uIGRyYWcoYSkgewogICAgYS50cmlnZ2VyKCJkcmFnIik7CiAgfSwKICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIGRyYWdTdGFydChhKSB7CiAgICBhLnRyaWdnZXIoImRyYWdTdGFydCIpOwogIH0sCiAgZHJhZ1N0b3A6IGZ1bmN0aW9uIGRyYWdTdG9wKGEpIHsKICAgIGEudHJpZ2dlcigiZHJhZ1N0b3AiKTsKICB9LAogIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKGEpIHsKICAgIGEudHJpZ2dlcigicmVzaXplIik7CiAgfSwKICByZXNpemVTdGFydDogZnVuY3Rpb24gcmVzaXplU3RhcnQoYSkgewogICAgYS50cmlnZ2VyKCJyZXNpemVTdGFydCIpOwogIH0sCiAgcmVzaXplU3RvcDogZnVuY3Rpb24gcmVzaXplU3RvcChhKSB7CiAgICBhLnRyaWdnZXIoInJlc2l6ZVN0b3AiKTsKICB9Cn0sIGdqLmRpYWxvZy5tZXRob2RzID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgcmV0dXJuIGdqLndpZGdldC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIGEsICJkaWFsb2ciKSwgZ2ouZGlhbG9nLm1ldGhvZHMubG9jYWxpemF0aW9uKHRoaXMpLCBnai5kaWFsb2cubWV0aG9kcy5pbml0aWFsaXplKHRoaXMpLCBnai5kaWFsb2cuZXZlbnRzLmluaXRpYWxpemVkKHRoaXMpLCB0aGlzOwogIH0sCiAgbG9jYWxpemF0aW9uOiBmdW5jdGlvbiBsb2NhbGl6YXRpb24oYSkgewogICAgdmFyIGIgPSBhLmRhdGEoKTsKICAgIHZvaWQgMCA9PT0gYi50aXRsZSAmJiAoYi50aXRsZSA9IGdqLmRpYWxvZy5tZXNzYWdlc1tiLmxvY2FsZV0uRGVmYXVsdFRpdGxlKTsKICB9LAogIGdldEhUTUxDb25maWc6IGZ1bmN0aW9uIGdldEhUTUxDb25maWcoKSB7CiAgICB2YXIgYSA9IGdqLndpZGdldC5wcm90b3R5cGUuZ2V0SFRNTENvbmZpZy5jYWxsKHRoaXMpLAogICAgICAgIGIgPSB0aGlzWzBdLmF0dHJpYnV0ZXM7CiAgICByZXR1cm4gYi50aXRsZSAmJiAoYS50aXRsZSA9IGIudGl0bGUudmFsdWUpLCBhOwogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShhKSB7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQsCiAgICAgICAgZSA9IGEuZGF0YSgpOwogICAgYS5hZGRDbGFzcyhlLnN0eWxlLmNvbnRlbnQpLCBnai5kaWFsb2cubWV0aG9kcy5zZXRTaXplKGEpLCBlLmNsb3NlT25Fc2NhcGUgJiYgJChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24gKGIpIHsKICAgICAgMjcgPT09IGIua2V5Q29kZSAmJiBhLmNsb3NlKCk7CiAgICB9KSwgYyA9IGEuY2hpbGRyZW4oJ2RpdltkYXRhLXJvbGU9ImJvZHkiXScpLCAwID09PSBjLmxlbmd0aCA/IChjID0gJCgnPGRpdiBkYXRhLXJvbGU9ImJvZHkiLz4nKS5hZGRDbGFzcyhlLnN0eWxlLmJvZHkpLCBhLndyYXBJbm5lcihjKSkgOiBjLmFkZENsYXNzKGUuc3R5bGUuYm9keSksIGIgPSBnai5kaWFsb2cubWV0aG9kcy5yZW5kZXJIZWFkZXIoYSksIGQgPSBhLmNoaWxkcmVuKCdkaXZbZGF0YS1yb2xlPSJmb290ZXIiXScpLmFkZENsYXNzKGUuc3R5bGUuZm9vdGVyKSwgYS5maW5kKCdbZGF0YS1yb2xlPSJjbG9zZSJdJykub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBhLmNsb3NlKCk7CiAgICB9KSwgZ2ouZHJhZ2dhYmxlICYmIChlLmRyYWdnYWJsZSAmJiBnai5kaWFsb2cubWV0aG9kcy5kcmFnZ2FibGUoYSwgYiksIGUucmVzaXphYmxlICYmIGdqLmRpYWxvZy5tZXRob2RzLnJlc2l6YWJsZShhKSksIGUuc2Nyb2xsYWJsZSAmJiBlLmhlaWdodCAmJiAoYS5hZGRDbGFzcygiZ2otZGlhbG9nLXNjcm9sbGFibGUiKSwgYS5vbigib3BlbmVkIiwgZnVuY3Rpb24gKCkgewogICAgICBhLmNoaWxkcmVuKCdkaXZbZGF0YS1yb2xlPSJib2R5Il0nKS5jc3MoImhlaWdodCIsIGUuaGVpZ2h0IC0gYi5vdXRlckhlaWdodCgpIC0gKGQubGVuZ3RoID8gZC5vdXRlckhlaWdodCgpIDogMCkpOwogICAgfSkpLCBnai5jb3JlLmNlbnRlcihhKSwgZS5tb2RhbCAmJiBhLndyYXBBbGwoJzxkaXYgZGF0YS1yb2xlPSJtb2RhbCIgY2xhc3M9IicgKyBlLnN0eWxlLm1vZGFsICsgJyIvPicpLCBlLmF1dG9PcGVuICYmIGEub3BlbigpOwogIH0sCiAgc2V0U2l6ZTogZnVuY3Rpb24gc2V0U2l6ZShhKSB7CiAgICB2YXIgYiA9IGEuZGF0YSgpOwogICAgYi53aWR0aCAmJiBhLmNzcygid2lkdGgiLCBiLndpZHRoKSwgYi5oZWlnaHQgJiYgYS5jc3MoImhlaWdodCIsIGIuaGVpZ2h0KTsKICB9LAogIHJlbmRlckhlYWRlcjogZnVuY3Rpb24gcmVuZGVySGVhZGVyKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMsCiAgICAgICAgZCwKICAgICAgICBlID0gYS5kYXRhKCk7CiAgICByZXR1cm4gYiA9IGEuY2hpbGRyZW4oJ2RpdltkYXRhLXJvbGU9ImhlYWRlciJdJyksIDAgPT09IGIubGVuZ3RoICYmIChiID0gJCgnPGRpdiBkYXRhLXJvbGU9ImhlYWRlciIgLz4nKSwgYS5wcmVwZW5kKGIpKSwgYi5hZGRDbGFzcyhlLnN0eWxlLmhlYWRlciksIGMgPSBiLmZpbmQoJ1tkYXRhLXJvbGU9InRpdGxlIl0nKSwgMCA9PT0gYy5sZW5ndGggJiYgKGMgPSAkKCc8aDQgZGF0YS1yb2xlPSJ0aXRsZSI+JyArIGUudGl0bGUgKyAiPC9oND4iKSwgYi5hcHBlbmQoYykpLCBjLmFkZENsYXNzKGUuc3R5bGUuaGVhZGVyVGl0bGUpLCBkID0gYi5maW5kKCdbZGF0YS1yb2xlPSJjbG9zZSJdJyksIDAgPT09IGQubGVuZ3RoICYmIGUuY2xvc2VCdXR0b25JbkhlYWRlciA/IChkID0gJCgnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtcm9sZT0iY2xvc2UiIHRpdGxlPSInICsgZ2ouZGlhbG9nLm1lc3NhZ2VzW2UubG9jYWxlXS5DbG9zZSArICciPjxzcGFuPsOXPC9zcGFuPjwvYnV0dG9uPicpLCBkLmFkZENsYXNzKGUuc3R5bGUuaGVhZGVyQ2xvc2VCdXR0b24pLCBiLmFwcGVuZChkKSkgOiBkLmxlbmd0aCA+IDAgJiYgITEgPT09IGUuY2xvc2VCdXR0b25JbkhlYWRlciA/IGQuaGlkZSgpIDogZC5hZGRDbGFzcyhlLnN0eWxlLmhlYWRlckNsb3NlQnV0dG9uKSwgYjsKICB9LAogIGRyYWdnYWJsZTogZnVuY3Rpb24gZHJhZ2dhYmxlKGEsIGIpIHsKICAgIGEuYXBwZW5kVG8oImJvZHkiKSwgYi5hZGRDbGFzcygiZ2otZHJhZ2dhYmxlIiksIGEuZHJhZ2dhYmxlKHsKICAgICAgaGFuZGxlOiBiLAogICAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgICAgYS5hZGRDbGFzcygiZ2otdW5zZWxlY3RhYmxlIiksIGdqLmRpYWxvZy5ldmVudHMuZHJhZ1N0YXJ0KGEpOwogICAgICB9LAogICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICAgIGEucmVtb3ZlQ2xhc3MoImdqLXVuc2VsZWN0YWJsZSIpLCBnai5kaWFsb2cuZXZlbnRzLmRyYWdTdG9wKGEpOwogICAgICB9CiAgICB9KTsKICB9LAogIHJlc2l6YWJsZTogZnVuY3Rpb24gcmVzaXphYmxlKGEpIHsKICAgIHZhciBiID0gewogICAgICBkcmFnOiBnai5kaWFsb2cubWV0aG9kcy5yZXNpemUsCiAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgICBhLmFkZENsYXNzKCJnai11bnNlbGVjdGFibGUiKSwgZ2ouZGlhbG9nLmV2ZW50cy5yZXNpemVTdGFydChhKTsKICAgICAgfSwKICAgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSwgYS5yZW1vdmVDbGFzcygiZ2otdW5zZWxlY3RhYmxlIiksIGdqLmRpYWxvZy5ldmVudHMucmVzaXplU3RvcChhKTsKICAgICAgfQogICAgfTsKICAgIGEuYXBwZW5kKCQoJzxkaXYgY2xhc3M9ImdqLXJlc2l6YWJsZS1oYW5kbGUgZ2otcmVzaXphYmxlLW4iPjwvZGl2PicpLmRyYWdnYWJsZSgkLmV4dGVuZCghMCwgewogICAgICBob3Jpem9udGFsOiAhMQogICAgfSwgYikpKSwgYS5hcHBlbmQoJCgnPGRpdiBjbGFzcz0iZ2otcmVzaXphYmxlLWhhbmRsZSBnai1yZXNpemFibGUtZSI+PC9kaXY+JykuZHJhZ2dhYmxlKCQuZXh0ZW5kKCEwLCB7CiAgICAgIHZlcnRpY2FsOiAhMQogICAgfSwgYikpKSwgYS5hcHBlbmQoJCgnPGRpdiBjbGFzcz0iZ2otcmVzaXphYmxlLWhhbmRsZSBnai1yZXNpemFibGUtcyI+PC9kaXY+JykuZHJhZ2dhYmxlKCQuZXh0ZW5kKCEwLCB7CiAgICAgIGhvcml6b250YWw6ICExCiAgICB9LCBiKSkpLCBhLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPSJnai1yZXNpemFibGUtaGFuZGxlIGdqLXJlc2l6YWJsZS13Ij48L2Rpdj4nKS5kcmFnZ2FibGUoJC5leHRlbmQoITAsIHsKICAgICAgdmVydGljYWw6ICExCiAgICB9LCBiKSkpLCBhLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPSJnai1yZXNpemFibGUtaGFuZGxlIGdqLXJlc2l6YWJsZS1uZSI+PC9kaXY+JykuZHJhZ2dhYmxlKCQuZXh0ZW5kKCEwLCB7fSwgYikpKSwgYS5hcHBlbmQoJCgnPGRpdiBjbGFzcz0iZ2otcmVzaXphYmxlLWhhbmRsZSBnai1yZXNpemFibGUtbnciPjwvZGl2PicpLmRyYWdnYWJsZSgkLmV4dGVuZCghMCwge30sIGIpKSksIGEuYXBwZW5kKCQoJzxkaXYgY2xhc3M9ImdqLXJlc2l6YWJsZS1oYW5kbGUgZ2otcmVzaXphYmxlLXN3Ij48L2Rpdj4nKS5kcmFnZ2FibGUoJC5leHRlbmQoITAsIHt9LCBiKSkpLCBhLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPSJnai1yZXNpemFibGUtaGFuZGxlIGdqLXJlc2l6YWJsZS1zZSI+PC9kaXY+JykuZHJhZ2dhYmxlKCQuZXh0ZW5kKCEwLCB7fSwgYikpKTsKICB9LAogIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQsCiAgICAgICAgZSwKICAgICAgICBmLAogICAgICAgIGcsCiAgICAgICAgaCwKICAgICAgICBpLAogICAgICAgIGosCiAgICAgICAgayA9ICExOwogICAgcmV0dXJuIGMgPSAkKHRoaXMpLCBkID0gYy5wYXJlbnQoKSwgZSA9IGdqLmNvcmUucG9zaXRpb24odGhpcyksIG9mZnNldCA9IHsKICAgICAgdG9wOiBiLnRvcCAtIGUudG9wLAogICAgICBsZWZ0OiBiLmxlZnQgLSBlLmxlZnQKICAgIH0sIGYgPSBkLmRhdGEoKSwgYy5oYXNDbGFzcygiZ2otcmVzaXphYmxlLW4iKSA/IChnID0gZC5oZWlnaHQoKSAtIG9mZnNldC50b3AsIGkgPSBkLm9mZnNldCgpLnRvcCArIG9mZnNldC50b3ApIDogYy5oYXNDbGFzcygiZ2otcmVzaXphYmxlLWUiKSA/IGggPSBkLndpZHRoKCkgKyBvZmZzZXQubGVmdCA6IGMuaGFzQ2xhc3MoImdqLXJlc2l6YWJsZS1zIikgPyBnID0gZC5oZWlnaHQoKSArIG9mZnNldC50b3AgOiBjLmhhc0NsYXNzKCJnai1yZXNpemFibGUtdyIpID8gKGggPSBkLndpZHRoKCkgLSBvZmZzZXQubGVmdCwgaiA9IGQub2Zmc2V0KCkubGVmdCArIG9mZnNldC5sZWZ0KSA6IGMuaGFzQ2xhc3MoImdqLXJlc2l6YWJsZS1uZSIpID8gKGcgPSBkLmhlaWdodCgpIC0gb2Zmc2V0LnRvcCwgaSA9IGQub2Zmc2V0KCkudG9wICsgb2Zmc2V0LnRvcCwgaCA9IGQud2lkdGgoKSArIG9mZnNldC5sZWZ0KSA6IGMuaGFzQ2xhc3MoImdqLXJlc2l6YWJsZS1udyIpID8gKGcgPSBkLmhlaWdodCgpIC0gb2Zmc2V0LnRvcCwgaSA9IGQub2Zmc2V0KCkudG9wICsgb2Zmc2V0LnRvcCwgaCA9IGQud2lkdGgoKSAtIG9mZnNldC5sZWZ0LCBqID0gZC5vZmZzZXQoKS5sZWZ0ICsgb2Zmc2V0LmxlZnQpIDogYy5oYXNDbGFzcygiZ2otcmVzaXphYmxlLXNlIikgPyAoZyA9IGQuaGVpZ2h0KCkgKyBvZmZzZXQudG9wLCBoID0gZC53aWR0aCgpICsgb2Zmc2V0LmxlZnQpIDogYy5oYXNDbGFzcygiZ2otcmVzaXphYmxlLXN3IikgJiYgKGcgPSBkLmhlaWdodCgpICsgb2Zmc2V0LnRvcCwgaCA9IGQud2lkdGgoKSAtIG9mZnNldC5sZWZ0LCBqID0gZC5vZmZzZXQoKS5sZWZ0ICsgb2Zmc2V0LmxlZnQpLCBnICYmICghZi5taW5IZWlnaHQgfHwgZyA+PSBmLm1pbkhlaWdodCkgJiYgKCFmLm1heEhlaWdodCB8fCBnIDw9IGYubWF4SGVpZ2h0KSAmJiAoZC5oZWlnaHQoZyksIGkgJiYgZC5jc3MoInRvcCIsIGkpLCBrID0gITApLCBoICYmICghZi5taW5XaWR0aCB8fCBoID49IGYubWluV2lkdGgpICYmICghZi5tYXhXaWR0aCB8fCBoIDw9IGYubWF4V2lkdGgpICYmIChkLndpZHRoKGgpLCBqICYmIGQuY3NzKCJsZWZ0IiwgaiksIGsgPSAhMCksIGsgJiYgZ2ouZGlhbG9nLmV2ZW50cy5yZXNpemUoZCksIGs7CiAgfSwKICBvcGVuOiBmdW5jdGlvbiBvcGVuKGEsIGIpIHsKICAgIHZhciBjOwogICAgcmV0dXJuIGdqLmRpYWxvZy5ldmVudHMub3BlbmluZyhhKSwgYS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKSwgYS5jbG9zZXN0KCdkaXZbZGF0YS1yb2xlPSJtb2RhbCJdJykuY3NzKCJkaXNwbGF5IiwgImJsb2NrIiksIGMgPSBhLmNoaWxkcmVuKCdkaXZbZGF0YS1yb2xlPSJmb290ZXIiXScpLCBjLmxlbmd0aCAmJiBjLm91dGVySGVpZ2h0KCkgJiYgYS5jaGlsZHJlbignZGl2W2RhdGEtcm9sZT0iYm9keSJdJykuY3NzKCJtYXJnaW4tYm90dG9tIiwgYy5vdXRlckhlaWdodCgpKSwgdm9pZCAwICE9PSBiICYmIGEuZmluZCgnW2RhdGEtcm9sZT0idGl0bGUiXScpLmh0bWwoYiksIGdqLmRpYWxvZy5ldmVudHMub3BlbmVkKGEpLCBhOwogIH0sCiAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGEpIHsKICAgIHJldHVybiBhLmlzKCI6dmlzaWJsZSIpICYmIChnai5kaWFsb2cuZXZlbnRzLmNsb3NpbmcoYSksIGEuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKSwgYS5jbG9zZXN0KCdkaXZbZGF0YS1yb2xlPSJtb2RhbCJdJykuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKSwgZ2ouZGlhbG9nLmV2ZW50cy5jbG9zZWQoYSkpLCBhOwogIH0sCiAgaXNPcGVuOiBmdW5jdGlvbiBpc09wZW4oYSkgewogICAgcmV0dXJuIGEuaXMoIjp2aXNpYmxlIik7CiAgfSwKICBjb250ZW50OiBmdW5jdGlvbiBjb250ZW50KGEsIGIpIHsKICAgIHZhciBjID0gYS5jaGlsZHJlbignZGl2W2RhdGEtcm9sZT0iYm9keSJdJyk7CiAgICByZXR1cm4gdm9pZCAwID09PSBiID8gYy5odG1sKCkgOiBjLmh0bWwoYik7CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KGEsIGIpIHsKICAgIHZhciBjID0gYS5kYXRhKCk7CiAgICByZXR1cm4gYyAmJiAoITEgPT09IGIgPyBhLnJlbW92ZSgpIDogKGEuY2xvc2UoKSwgYS5vZmYoKSwgYS5yZW1vdmVEYXRhKCksIGEucmVtb3ZlQXR0cigiZGF0YS10eXBlIiksIGEucmVtb3ZlQ2xhc3MoYy5zdHlsZS5jb250ZW50KSwgYS5maW5kKCdbZGF0YS1yb2xlPSJoZWFkZXIiXScpLnJlbW92ZUNsYXNzKGMuc3R5bGUuaGVhZGVyKSwgYS5maW5kKCdbZGF0YS1yb2xlPSJ0aXRsZSJdJykucmVtb3ZlQ2xhc3MoYy5zdHlsZS5oZWFkZXJUaXRsZSksIGEuZmluZCgnW2RhdGEtcm9sZT0iY2xvc2UiXScpLnJlbW92ZSgpLCBhLmZpbmQoJ1tkYXRhLXJvbGU9ImJvZHkiXScpLnJlbW92ZUNsYXNzKGMuc3R5bGUuYm9keSksIGEuZmluZCgnW2RhdGEtcm9sZT0iZm9vdGVyIl0nKS5yZW1vdmVDbGFzcyhjLnN0eWxlLmZvb3RlcikpKSwgYTsKICB9Cn0sIGdqLmRpYWxvZy53aWRnZXQgPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gdGhpcywKICAgICAgZCA9IGdqLmRpYWxvZy5tZXRob2RzOwogIHJldHVybiBjLm9wZW4gPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQub3Blbih0aGlzLCBhKTsKICB9LCBjLmNsb3NlID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGQuY2xvc2UodGhpcyk7CiAgfSwgYy5pc09wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5pc09wZW4odGhpcyk7CiAgfSwgYy5jb250ZW50ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLmNvbnRlbnQodGhpcywgYSk7CiAgfSwgYy5kZXN0cm95ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLmRlc3Ryb3kodGhpcywgYSk7CiAgfSwgJC5leHRlbmQoYSwgYyksICJkaWFsb2ciICE9PSBhLmF0dHIoImRhdGEtdHlwZSIpICYmIGQuaW5pdC5jYWxsKGEsIGIpLCBhOwp9LCBnai5kaWFsb2cud2lkZ2V0LnByb3RvdHlwZSA9IG5ldyBnai53aWRnZXQoKSwgZ2ouZGlhbG9nLndpZGdldC5jb25zdHJ1Y3RvciA9IGdqLmRpYWxvZy53aWRnZXQsIGdqLmRpYWxvZy53aWRnZXQucHJvdG90eXBlLmdldEhUTUxDb25maWcgPSBnai5kaWFsb2cubWV0aG9kcy5nZXRIVE1MQ29uZmlnLCBmdW5jdGlvbiAoYSkgewogIGEuZm4uZGlhbG9nID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiOwoKICAgIGlmICh0aGlzICYmIHRoaXMubGVuZ3RoKSB7CiAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGEpICYmIGEpIHsKICAgICAgICBpZiAoYiA9IG5ldyBnai5kaWFsb2cud2lkZ2V0KHRoaXMsIG51bGwpLCBiW2FdKSByZXR1cm4gYlthXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgICAgICB0aHJvdyAiTWV0aG9kICIgKyBhICsgIiBkb2VzIG5vdCBleGlzdC4iOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IGdqLmRpYWxvZy53aWRnZXQodGhpcywgYSk7CiAgICB9CiAgfTsKfShqUXVlcnkpLCBnai5kaWFsb2cubWVzc2FnZXNbImVuLXVzIl0gPSB7CiAgQ2xvc2U6ICJDbG9zZSIsCiAgRGVmYXVsdFRpdGxlOiAiRGlhbG9nIgp9LCBnai5kcmFnZ2FibGUgPSB7CiAgcGx1Z2luczoge30KfSwgZ2ouZHJhZ2dhYmxlLmNvbmZpZyA9IHsKICBiYXNlOiB7CiAgICBoYW5kbGU6IHZvaWQgMCwKICAgIHZlcnRpY2FsOiAhMCwKICAgIGhvcml6b250YWw6ICEwLAogICAgY29udGFpbm1lbnQ6IHZvaWQgMAogIH0KfSwgZ2ouZHJhZ2dhYmxlLm1ldGhvZHMgPSB7CiAgaW5pdDogZnVuY3Rpb24gaW5pdChhKSB7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQgPSB0aGlzOwogICAgcmV0dXJuIGdqLndpZGdldC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIGEsICJkcmFnZ2FibGUiKSwgYyA9IHRoaXMuZGF0YSgpLCBkLmF0dHIoImRhdGEtZHJhZ2dhYmxlIiwgInRydWUiKSwgYiA9IGdqLmRyYWdnYWJsZS5tZXRob2RzLmdldEhhbmRsZUVsZW1lbnQoZCksIGIub24oInRvdWNoc3RhcnQgbW91c2Vkb3duIiwgZnVuY3Rpb24gKGEpIHsKICAgICAgdmFyIGUgPSBnai5jb3JlLnBvc2l0aW9uKGRbMF0pOwogICAgICBkWzBdLnN0eWxlLnRvcCA9IGUudG9wICsgInB4IiwgZFswXS5zdHlsZS5sZWZ0ID0gZS5sZWZ0ICsgInB4IiwgZFswXS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCIsIGQuYXR0cigiZHJhZ2dhYmxlLWRyYWdnaW5nIiwgITApLCBkLnJlbW92ZUF0dHIoImRyYWdnYWJsZS14IikucmVtb3ZlQXR0cigiZHJhZ2dhYmxlLXkiKSwgZ2ouZG9jdW1lbnRNYW5hZ2VyLnN1YnNjcmliZUZvckV2ZW50KCJ0b3VjaG1vdmUiLCBkLmRhdGEoImd1aWQiKSwgZ2ouZHJhZ2dhYmxlLm1ldGhvZHMuY3JlYXRlTW92ZUhhbmRsZXIoZCwgYiwgYykpLCBnai5kb2N1bWVudE1hbmFnZXIuc3Vic2NyaWJlRm9yRXZlbnQoIm1vdXNlbW92ZSIsIGQuZGF0YSgiZ3VpZCIpLCBnai5kcmFnZ2FibGUubWV0aG9kcy5jcmVhdGVNb3ZlSGFuZGxlcihkLCBiLCBjKSk7CiAgICB9KSwgZ2ouZG9jdW1lbnRNYW5hZ2VyLnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZXVwIiwgZC5kYXRhKCJndWlkIiksIGdqLmRyYWdnYWJsZS5tZXRob2RzLmNyZWF0ZVVwSGFuZGxlcihkKSksIGdqLmRvY3VtZW50TWFuYWdlci5zdWJzY3JpYmVGb3JFdmVudCgidG91Y2hlbmQiLCBkLmRhdGEoImd1aWQiKSwgZ2ouZHJhZ2dhYmxlLm1ldGhvZHMuY3JlYXRlVXBIYW5kbGVyKGQpKSwgZ2ouZG9jdW1lbnRNYW5hZ2VyLnN1YnNjcmliZUZvckV2ZW50KCJ0b3VjaGNhbmNlbCIsIGQuZGF0YSgiZ3VpZCIpLCBnai5kcmFnZ2FibGUubWV0aG9kcy5jcmVhdGVVcEhhbmRsZXIoZCkpLCBkOwogIH0sCiAgZ2V0SGFuZGxlRWxlbWVudDogZnVuY3Rpb24gZ2V0SGFuZGxlRWxlbWVudChhKSB7CiAgICB2YXIgYiA9IGEuZGF0YSgiaGFuZGxlIik7CiAgICByZXR1cm4gYiAmJiBiLmxlbmd0aCA/IGIgOiBhOwogIH0sCiAgY3JlYXRlVXBIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVVcEhhbmRsZXIoYSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChiKSB7CiAgICAgICJ0cnVlIiA9PT0gYS5hdHRyKCJkcmFnZ2FibGUtZHJhZ2dpbmciKSAmJiAoYS5hdHRyKCJkcmFnZ2FibGUtZHJhZ2dpbmciLCAhMSksIGdqLmRvY3VtZW50TWFuYWdlci51bnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZW1vdmUiLCBhLmRhdGEoImd1aWQiKSksIGdqLmRvY3VtZW50TWFuYWdlci51bnN1YnNjcmliZUZvckV2ZW50KCJ0b3VjaG1vdmUiLCBhLmRhdGEoImd1aWQiKSksIGdqLmRyYWdnYWJsZS5ldmVudHMuc3RvcChhLCB7CiAgICAgICAgeDogYS5tb3VzZVgoYiksCiAgICAgICAgeTogYS5tb3VzZVkoYikKICAgICAgfSkpOwogICAgfTsKICB9LAogIGNyZWF0ZU1vdmVIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVNb3ZlSGFuZGxlcihhLCBiLCBjKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHsKICAgICAgdmFyIGQsIGUsIGYsIGcsIGgsIGk7CiAgICAgICJ0cnVlIiA9PT0gYS5hdHRyKCJkcmFnZ2FibGUtZHJhZ2dpbmciKSAmJiAoZCA9IE1hdGgucm91bmQoYS5tb3VzZVgoYikpLCBlID0gTWF0aC5yb3VuZChhLm1vdXNlWShiKSksIGggPSBhLmF0dHIoImRyYWdnYWJsZS14IiksIGkgPSBhLmF0dHIoImRyYWdnYWJsZS15IiksIGggJiYgaSA/IChmID0gYy5ob3Jpem9udGFsID8gZCAtIHBhcnNlSW50KGgsIDEwKSA6IDAsIGcgPSBjLnZlcnRpY2FsID8gZSAtIHBhcnNlSW50KGksIDEwKSA6IDAsIGdqLmRyYWdnYWJsZS5tZXRob2RzLm1vdmUoYVswXSwgYywgZiwgZywgZCwgZSkpIDogZ2ouZHJhZ2dhYmxlLmV2ZW50cy5zdGFydChhLCBkLCBlKSwgYS5hdHRyKCJkcmFnZ2FibGUteCIsIGQpLCBhLmF0dHIoImRyYWdnYWJsZS15IiwgZSkpOwogICAgfTsKICB9LAogIG1vdmU6IGZ1bmN0aW9uIG1vdmUoYSwgYiwgYywgZCwgZSwgZikgewogICAgdmFyIGcsCiAgICAgICAgaCwKICAgICAgICBpLAogICAgICAgIGogPSBnai5jb3JlLnBvc2l0aW9uKGEpLAogICAgICAgIGsgPSBqLnRvcCArIGQsCiAgICAgICAgbCA9IGoubGVmdCArIGM7CiAgICBiLmNvbnRhaW5tZW50ICYmIChnID0gZ2ouY29yZS5wb3NpdGlvbihiLmNvbnRhaW5tZW50KSwgaCA9IGcudG9wICsgZ2ouY29yZS5oZWlnaHQoYi5jb250YWlubWVudCkgLSBnai5jb3JlLmhlaWdodChhKSwgaSA9IGcubGVmdCArIGdqLmNvcmUud2lkdGgoYi5jb250YWlubWVudCkgLSBnai5jb3JlLndpZHRoKGEpLCBrID4gZy50b3AgJiYgayA8IGggPyAoZy50b3AgPj0gZiB8fCBnLmJvdHRvbSA8PSBmKSAmJiAoayA9IGoudG9wKSA6IGsgPSBrIDw9IGcudG9wID8gZy50b3AgKyAxIDogaCAtIDEsIGwgPiBnLmxlZnQgJiYgbCA8IGkgPyAoZy5sZWZ0ID49IGUgfHwgZy5yaWdodCA8PSBlKSAmJiAobCA9IGoubGVmdCkgOiBsID0gbCA8PSBnLmxlZnQgPyBnLmxlZnQgKyAxIDogaSAtIDEpLCAhMSAhPT0gZ2ouZHJhZ2dhYmxlLmV2ZW50cy5kcmFnKCQoYSksIGwsIGssIGUsIGYpICYmIChhLnN0eWxlLnRvcCA9IGsgKyAicHgiLCBhLnN0eWxlLmxlZnQgPSBsICsgInB4Iik7CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KGEpIHsKICAgIHJldHVybiAidHJ1ZSIgPT09IGEuYXR0cigiZGF0YS1kcmFnZ2FibGUiKSAmJiAoZ2ouZG9jdW1lbnRNYW5hZ2VyLnVuc3Vic2NyaWJlRm9yRXZlbnQoIm1vdXNldXAiLCBhLmRhdGEoImd1aWQiKSksIGEucmVtb3ZlRGF0YSgpLCBhLnJlbW92ZUF0dHIoImRhdGEtZ3VpZCIpLnJlbW92ZUF0dHIoImRhdGEtdHlwZSIpLnJlbW92ZUF0dHIoImRhdGEtZHJhZ2dhYmxlIiksIGEucmVtb3ZlQXR0cigiZHJhZ2dhYmxlLXgiKS5yZW1vdmVBdHRyKCJkcmFnZ2FibGUteSIpLnJlbW92ZUF0dHIoImRyYWdnYWJsZS1kcmFnZ2luZyIpLCBhWzBdLnN0eWxlLnRvcCA9ICIiLCBhWzBdLnN0eWxlLmxlZnQgPSAiIiwgYVswXS5zdHlsZS5wb3NpdGlvbiA9ICIiLCBhLm9mZigiZHJhZyIpLm9mZigic3RhcnQiKS5vZmYoInN0b3AiKSwgZ2ouZHJhZ2dhYmxlLm1ldGhvZHMuZ2V0SGFuZGxlRWxlbWVudChhKS5vZmYoIm1vdXNlZG93biIpKSwgYTsKICB9Cn0sIGdqLmRyYWdnYWJsZS5ldmVudHMgPSB7CiAgZHJhZzogZnVuY3Rpb24gZHJhZyhhLCBiLCBjLCBkLCBlKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiZHJhZyIsIFt7CiAgICAgIGxlZnQ6IGIsCiAgICAgIHRvcDogYwogICAgfSwgewogICAgICB4OiBkLAogICAgICB5OiBlCiAgICB9XSk7CiAgfSwKICBzdGFydDogZnVuY3Rpb24gc3RhcnQoYSwgYiwgYykgewogICAgYS50cmlnZ2VySGFuZGxlcigic3RhcnQiLCBbewogICAgICB4OiBiLAogICAgICB5OiBjCiAgICB9XSk7CiAgfSwKICBzdG9wOiBmdW5jdGlvbiBzdG9wKGEsIGIpIHsKICAgIGEudHJpZ2dlckhhbmRsZXIoInN0b3AiLCBbYl0pOwogIH0KfSwgZ2ouZHJhZ2dhYmxlLndpZGdldCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSB0aGlzLAogICAgICBkID0gZ2ouZHJhZ2dhYmxlLm1ldGhvZHM7CiAgcmV0dXJuIGEuZGVzdHJveSB8fCAoYy5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGQuZGVzdHJveSh0aGlzKTsKICB9KSwgJC5leHRlbmQoYSwgYyksICJ0cnVlIiAhPT0gYS5hdHRyKCJkYXRhLWRyYWdnYWJsZSIpICYmIGQuaW5pdC5jYWxsKGEsIGIpLCBhOwp9LCBnai5kcmFnZ2FibGUud2lkZ2V0LnByb3RvdHlwZSA9IG5ldyBnai53aWRnZXQoKSwgZ2ouZHJhZ2dhYmxlLndpZGdldC5jb25zdHJ1Y3RvciA9IGdqLmRyYWdnYWJsZS53aWRnZXQsIGZ1bmN0aW9uIChhKSB7CiAgYS5mbi5kcmFnZ2FibGUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGI7CgogICAgaWYgKHRoaXMgJiYgdGhpcy5sZW5ndGgpIHsKICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoYSkgJiYgYSkgewogICAgICAgIGlmIChiID0gbmV3IGdqLmRyYWdnYWJsZS53aWRnZXQodGhpcywgbnVsbCksIGJbYV0pIHJldHVybiBiW2FdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpOwogICAgICAgIHRocm93ICJNZXRob2QgIiArIGEgKyAiIGRvZXMgbm90IGV4aXN0LiI7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgZ2ouZHJhZ2dhYmxlLndpZGdldCh0aGlzLCBhKTsKICAgIH0KICB9Owp9KGpRdWVyeSksIGdqLmRyb3BwYWJsZSA9IHsKICBwbHVnaW5zOiB7fQp9LCBnai5kcm9wcGFibGUuY29uZmlnID0gewogIGhvdmVyQ2xhc3M6IHZvaWQgMAp9LCBnai5kcm9wcGFibGUubWV0aG9kcyA9IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGEpIHsKICAgIHZhciBiID0gdGhpczsKICAgIHJldHVybiBnai53aWRnZXQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLCBhLCAiZHJvcHBhYmxlIiksIGIuYXR0cigiZGF0YS1kcm9wcGFibGUiLCAidHJ1ZSIpLCBnai5kb2N1bWVudE1hbmFnZXIuc3Vic2NyaWJlRm9yRXZlbnQoIm1vdXNlZG93biIsIGIuZGF0YSgiZ3VpZCIpLCBnai5kcm9wcGFibGUubWV0aG9kcy5jcmVhdGVNb3VzZURvd25IYW5kbGVyKGIpKSwgZ2ouZG9jdW1lbnRNYW5hZ2VyLnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZW1vdmUiLCBiLmRhdGEoImd1aWQiKSwgZ2ouZHJvcHBhYmxlLm1ldGhvZHMuY3JlYXRlTW91c2VNb3ZlSGFuZGxlcihiKSksIGdqLmRvY3VtZW50TWFuYWdlci5zdWJzY3JpYmVGb3JFdmVudCgibW91c2V1cCIsIGIuZGF0YSgiZ3VpZCIpLCBnai5kcm9wcGFibGUubWV0aG9kcy5jcmVhdGVNb3VzZVVwSGFuZGxlcihiKSksIGI7CiAgfSwKICBjcmVhdGVNb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVNb3VzZURvd25IYW5kbGVyKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICBhLmlzRHJhZ2dpbmcgPSAhMDsKICAgIH07CiAgfSwKICBjcmVhdGVNb3VzZU1vdmVIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVNb3VzZU1vdmVIYW5kbGVyKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICBpZiAoYS5pc0RyYWdnaW5nKSB7CiAgICAgICAgdmFyIGMgPSBhLmRhdGEoImhvdmVyQ2xhc3MiKSwKICAgICAgICAgICAgZCA9IHsKICAgICAgICAgIHg6IGEubW91c2VYKGIpLAogICAgICAgICAgeTogYS5tb3VzZVkoYikKICAgICAgICB9LAogICAgICAgICAgICBlID0gZ2ouZHJvcHBhYmxlLm1ldGhvZHMuaXNPdmVyKGEsIGQpOwogICAgICAgIGUgIT0gYS5pc092ZXIgJiYgKGUgPyAoYyAmJiBhLmFkZENsYXNzKGMpLCBnai5kcm9wcGFibGUuZXZlbnRzLm92ZXIoYSwgZCkpIDogKGMgJiYgYS5yZW1vdmVDbGFzcyhjKSwgZ2ouZHJvcHBhYmxlLmV2ZW50cy5vdXQoYSkpKSwgYS5pc092ZXIgPSBlOwogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlTW91c2VVcEhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZU1vdXNlVXBIYW5kbGVyKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICB2YXIgYyA9IHsKICAgICAgICBsZWZ0OiBhLm1vdXNlWChiKSwKICAgICAgICB0b3A6IGEubW91c2VZKGIpCiAgICAgIH07CiAgICAgIGEuaXNEcmFnZ2luZyA9ICExLCBnai5kcm9wcGFibGUubWV0aG9kcy5pc092ZXIoYSwgYykgJiYgZ2ouZHJvcHBhYmxlLmV2ZW50cy5kcm9wKGEpOwogICAgfTsKICB9LAogIGlzT3ZlcjogZnVuY3Rpb24gaXNPdmVyKGEsIGIpIHsKICAgIHZhciBjID0gYS5vZmZzZXQoKS50b3AsCiAgICAgICAgZCA9IGEub2Zmc2V0KCkubGVmdDsKICAgIHJldHVybiBiLnggPiBkICYmIGIueCA8IGQgKyBhLm91dGVyV2lkdGgoITApICYmIGIueSA+IGMgJiYgYi55IDwgYyArIGEub3V0ZXJIZWlnaHQoITApOwogIH0sCiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShhKSB7CiAgICByZXR1cm4gInRydWUiID09PSBhLmF0dHIoImRhdGEtZHJvcHBhYmxlIikgJiYgKGdqLmRvY3VtZW50TWFuYWdlci51bnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZWRvd24iLCBhLmRhdGEoImd1aWQiKSksIGdqLmRvY3VtZW50TWFuYWdlci51bnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZW1vdmUiLCBhLmRhdGEoImd1aWQiKSksIGdqLmRvY3VtZW50TWFuYWdlci51bnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZXVwIiwgYS5kYXRhKCJndWlkIikpLCBhLnJlbW92ZURhdGEoKSwgYS5yZW1vdmVBdHRyKCJkYXRhLWd1aWQiKSwgYS5yZW1vdmVBdHRyKCJkYXRhLWRyb3BwYWJsZSIpLCBhLm9mZigiZHJvcCIpLm9mZigib3ZlciIpLm9mZigib3V0IikpLCBhOwogIH0KfSwgZ2ouZHJvcHBhYmxlLmV2ZW50cyA9IHsKICBkcm9wOiBmdW5jdGlvbiBkcm9wKGEsIGIsIGMpIHsKICAgIGEudHJpZ2dlcigiZHJvcCIsIFt7CiAgICAgIHRvcDogYywKICAgICAgbGVmdDogYgogICAgfV0pOwogIH0sCiAgb3ZlcjogZnVuY3Rpb24gb3ZlcihhLCBiKSB7CiAgICBhLnRyaWdnZXIoIm92ZXIiLCBbYl0pOwogIH0sCiAgb3V0OiBmdW5jdGlvbiBvdXQoYSkgewogICAgYS50cmlnZ2VyKCJvdXQiKTsKICB9Cn0sIGdqLmRyb3BwYWJsZS53aWRnZXQgPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gdGhpcywKICAgICAgZCA9IGdqLmRyb3BwYWJsZS5tZXRob2RzOwogIHJldHVybiBjLmlzT3ZlciA9ICExLCBjLmlzRHJhZ2dpbmcgPSAhMSwgYy5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGQuZGVzdHJveSh0aGlzKTsKICB9LCBjLmlzT3ZlciA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC5pc092ZXIodGhpcywgYSk7CiAgfSwgJC5leHRlbmQoYSwgYyksICJ0cnVlIiAhPT0gYS5hdHRyKCJkYXRhLWRyb3BwYWJsZSIpICYmIGQuaW5pdC5jYWxsKGEsIGIpLCBhOwp9LCBnai5kcm9wcGFibGUud2lkZ2V0LnByb3RvdHlwZSA9IG5ldyBnai53aWRnZXQoKSwgZ2ouZHJvcHBhYmxlLndpZGdldC5jb25zdHJ1Y3RvciA9IGdqLmRyb3BwYWJsZS53aWRnZXQsIGZ1bmN0aW9uIChhKSB7CiAgYS5mbi5kcm9wcGFibGUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGI7CgogICAgaWYgKHRoaXMgJiYgdGhpcy5sZW5ndGgpIHsKICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoYSkgJiYgYSkgewogICAgICAgIGlmIChiID0gbmV3IGdqLmRyb3BwYWJsZS53aWRnZXQodGhpcywgbnVsbCksIGJbYV0pIHJldHVybiBiW2FdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpOwogICAgICAgIHRocm93ICJNZXRob2QgIiArIGEgKyAiIGRvZXMgbm90IGV4aXN0LiI7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgZ2ouZHJvcHBhYmxlLndpZGdldCh0aGlzLCBhKTsKICAgIH0KICB9Owp9KGpRdWVyeSksIGdqLmdyaWQgPSB7CiAgcGx1Z2luczoge30sCiAgbWVzc2FnZXM6IHt9Cn0sIGdqLmdyaWQuY29uZmlnID0gewogIGJhc2U6IHsKICAgIGRhdGFTb3VyY2U6IHZvaWQgMCwKICAgIGNvbHVtbnM6IFtdLAogICAgYXV0b0dlbmVyYXRlQ29sdW1uczogITEsCiAgICBkZWZhdWx0Q29sdW1uU2V0dGluZ3M6IHsKICAgICAgaGlkZGVuOiAhMSwKICAgICAgd2lkdGg6IHZvaWQgMCwKICAgICAgc29ydGFibGU6ICExLAogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIHRpdGxlOiB2b2lkIDAsCiAgICAgIGZpZWxkOiB2b2lkIDAsCiAgICAgIGFsaWduOiB2b2lkIDAsCiAgICAgIGNzc0NsYXNzOiB2b2lkIDAsCiAgICAgIGhlYWRlckNzc0NsYXNzOiB2b2lkIDAsCiAgICAgIHRvb2x0aXA6IHZvaWQgMCwKICAgICAgaWNvbjogdm9pZCAwLAogICAgICBldmVudHM6IHZvaWQgMCwKICAgICAgZm9ybWF0OiAibW0vZGQveXl5eSIsCiAgICAgIGRlY2ltYWxEaWdpdHM6IHZvaWQgMCwKICAgICAgdG1wbDogdm9pZCAwLAogICAgICBzdG9wUHJvcGFnYXRpb246ICExLAogICAgICByZW5kZXJlcjogdm9pZCAwLAogICAgICBmaWx0ZXI6IHZvaWQgMAogICAgfSwKICAgIG1hcHBpbmc6IHsKICAgICAgZGF0YUZpZWxkOiAicmVjb3JkcyIsCiAgICAgIHRvdGFsUmVjb3Jkc0ZpZWxkOiAidG90YWwiCiAgICB9LAogICAgcGFyYW1zOiB7fSwKICAgIHBhcmFtTmFtZXM6IHsKICAgICAgc29ydEJ5OiAic29ydEJ5IiwKICAgICAgZGlyZWN0aW9uOiAiZGlyZWN0aW9uIgogICAgfSwKICAgIHVpTGlicmFyeTogIm1hdGVyaWFsZGVzaWduIiwKICAgIGljb25zTGlicmFyeTogIm1hdGVyaWFsaWNvbnMiLAogICAgc2VsZWN0aW9uVHlwZTogInNpbmdsZSIsCiAgICBzZWxlY3Rpb25NZXRob2Q6ICJiYXNpYyIsCiAgICBhdXRvTG9hZDogITAsCiAgICBub3RGb3VuZFRleHQ6IHZvaWQgMCwKICAgIHdpZHRoOiB2b2lkIDAsCiAgICBtaW5XaWR0aDogdm9pZCAwLAogICAgaGVhZGVyUm93SGVpZ2h0OiAiZml4ZWQiLAogICAgYm9keVJvd0hlaWdodDogImF1dG9ncm93IiwKICAgIGZvbnRTaXplOiB2b2lkIDAsCiAgICBwcmltYXJ5S2V5OiB2b2lkIDAsCiAgICBsb2NhbGU6ICJlbi11cyIsCiAgICBkZWZhdWx0SWNvbkNvbHVtbldpZHRoOiA3MCwKICAgIGRlZmF1bHRDaGVja0JveENvbHVtbldpZHRoOiA3MCwKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai1ncmlkLXdyYXBwZXIiLAogICAgICB0YWJsZTogImdqLWdyaWQgZ2otZ3JpZC1tZCIsCiAgICAgIGxvYWRpbmdDb3ZlcjogImdqLWdyaWQtbG9hZGluZy1jb3ZlciIsCiAgICAgIGxvYWRpbmdUZXh0OiAiZ2otZ3JpZC1sb2FkaW5nLXRleHQiLAogICAgICBoZWFkZXI6IHsKICAgICAgICBjZWxsOiB2b2lkIDAsCiAgICAgICAgc29ydGFibGU6ICJnai1jdXJzb3ItcG9pbnRlciBnai11bnNlbGVjdGFibGUiCiAgICAgIH0sCiAgICAgIGNvbnRlbnQ6IHsKICAgICAgICByb3dTZWxlY3RlZDogImdqLWdyaWQtbWQtc2VsZWN0IgogICAgICB9CiAgICB9LAogICAgaWNvbnM6IHsKICAgICAgYXNjOiAi4payIiwKICAgICAgZGVzYzogIuKWvCIKICAgIH0KICB9LAogIGJvb3RzdHJhcDogewogICAgc3R5bGU6IHsKICAgICAgd3JhcHBlcjogImdqLWdyaWQtd3JhcHBlciIsCiAgICAgIHRhYmxlOiAiZ2otZ3JpZCBnai1ncmlkLWJvb3RzdHJhcCBnai1ncmlkLWJvb3RzdHJhcC0zIHRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWhvdmVyIiwKICAgICAgY29udGVudDogewogICAgICAgIHJvd1NlbGVjdGVkOiAiYWN0aXZlIgogICAgICB9CiAgICB9LAogICAgaWNvbnNMaWJyYXJ5OiAiZ2x5cGhpY29ucyIsCiAgICBkZWZhdWx0SWNvbkNvbHVtbldpZHRoOiAzNCwKICAgIGRlZmF1bHRDaGVja0JveENvbHVtbldpZHRoOiAzNgogIH0sCiAgYm9vdHN0cmFwNDogewogICAgc3R5bGU6IHsKICAgICAgd3JhcHBlcjogImdqLWdyaWQtd3JhcHBlciIsCiAgICAgIHRhYmxlOiAiZ2otZ3JpZCBnai1ncmlkLWJvb3RzdHJhcCBnai1ncmlkLWJvb3RzdHJhcC00IHRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWhvdmVyIiwKICAgICAgY29udGVudDogewogICAgICAgIHJvd1NlbGVjdGVkOiAiYWN0aXZlIgogICAgICB9CiAgICB9LAogICAgZGVmYXVsdEljb25Db2x1bW5XaWR0aDogNDIsCiAgICBkZWZhdWx0Q2hlY2tCb3hDb2x1bW5XaWR0aDogNDQKICB9LAogIG1hdGVyaWFsaWNvbnM6IHsKICAgIGljb25zOiB7CiAgICAgIGFzYzogJzxpIGNsYXNzPSJnai1pY29uIGFycm93LXVwd2FyZCIgLz4nLAogICAgICBkZXNjOiAnPGkgY2xhc3M9ImdqLWljb24gYXJyb3ctZG93bndhcmQiIC8+JwogICAgfQogIH0sCiAgZm9udGF3ZXNvbWU6IHsKICAgIGljb25zOiB7CiAgICAgIGFzYzogJzxpIGNsYXNzPSJmYSBmYS1zb3J0LWFtb3VudC1hc2MiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+JywKICAgICAgZGVzYzogJzxpIGNsYXNzPSJmYSBmYS1zb3J0LWFtb3VudC1kZXNjIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicKICAgIH0KICB9LAogIGdseXBoaWNvbnM6IHsKICAgIGljb25zOiB7CiAgICAgIGFzYzogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQtYnktYWxwaGFiZXQiIC8+JywKICAgICAgZGVzYzogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQtYnktYWxwaGFiZXQtYWx0IiAvPicKICAgIH0KICB9Cn0sIGdqLmdyaWQuZXZlbnRzID0gewogIGJlZm9yZUVtcHR5Um93SW5zZXJ0OiBmdW5jdGlvbiBiZWZvcmVFbXB0eVJvd0luc2VydChhLCBiKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiYmVmb3JlRW1wdHlSb3dJbnNlcnQiLCBbYl0pOwogIH0sCiAgZGF0YUJpbmRpbmc6IGZ1bmN0aW9uIGRhdGFCaW5kaW5nKGEsIGIpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJkYXRhQmluZGluZyIsIFtiXSk7CiAgfSwKICBkYXRhQm91bmQ6IGZ1bmN0aW9uIGRhdGFCb3VuZChhLCBiLCBjKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiZGF0YUJvdW5kIiwgW2IsIGNdKTsKICB9LAogIHJvd0RhdGFCb3VuZDogZnVuY3Rpb24gcm93RGF0YUJvdW5kKGEsIGIsIGMsIGQpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJyb3dEYXRhQm91bmQiLCBbYiwgYywgZF0pOwogIH0sCiAgY2VsbERhdGFCb3VuZDogZnVuY3Rpb24gY2VsbERhdGFCb3VuZChhLCBiLCBjLCBkLCBlKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiY2VsbERhdGFCb3VuZCIsIFtiLCBjLCBkLCBlXSk7CiAgfSwKICByb3dTZWxlY3Q6IGZ1bmN0aW9uIHJvd1NlbGVjdChhLCBiLCBjLCBkKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigicm93U2VsZWN0IiwgW2IsIGMsIGRdKTsKICB9LAogIHJvd1Vuc2VsZWN0OiBmdW5jdGlvbiByb3dVbnNlbGVjdChhLCBiLCBjLCBkKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigicm93VW5zZWxlY3QiLCBbYiwgYywgZF0pOwogIH0sCiAgcm93UmVtb3Zpbmc6IGZ1bmN0aW9uIHJvd1JlbW92aW5nKGEsIGIsIGMsIGQpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJyb3dSZW1vdmluZyIsIFtiLCBjLCBkXSk7CiAgfSwKICBkZXN0cm95aW5nOiBmdW5jdGlvbiBkZXN0cm95aW5nKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJkZXN0cm95aW5nIik7CiAgfSwKICBjb2x1bW5IaWRlOiBmdW5jdGlvbiBjb2x1bW5IaWRlKGEsIGIpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJjb2x1bW5IaWRlIiwgW2JdKTsKICB9LAogIGNvbHVtblNob3c6IGZ1bmN0aW9uIGNvbHVtblNob3coYSwgYikgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoImNvbHVtblNob3ciLCBbYl0pOwogIH0sCiAgaW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uIGluaXRpYWxpemVkKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJpbml0aWFsaXplZCIpOwogIH0sCiAgZGF0YUZpbHRlcmVkOiBmdW5jdGlvbiBkYXRhRmlsdGVyZWQoYSwgYikgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoImRhdGFGaWx0ZXJlZCIsIFtiXSk7CiAgfQp9LCBnai5ncmlkLm1ldGhvZHMgPSB7CiAgaW5pdDogZnVuY3Rpb24gaW5pdChhKSB7CiAgICByZXR1cm4gZ2oud2lkZ2V0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcywgYSwgImdyaWQiKSwgZ2ouZ3JpZC5tZXRob2RzLmluaXRpYWxpemUodGhpcyksIHRoaXMuZGF0YSgiYXV0b0xvYWQiKSAmJiB0aGlzLnJlbG9hZCgpLCB0aGlzOwogIH0sCiAgZ2V0Q29uZmlnOiBmdW5jdGlvbiBnZXRDb25maWcoYSwgYikgewogICAgdmFyIGMgPSBnai53aWRnZXQucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMsIGEsIGIpOwogICAgcmV0dXJuIGdqLmdyaWQubWV0aG9kcy5zZXREZWZhdWx0Q29sdW1uQ29uZmlnKGMuY29sdW1ucywgYy5kZWZhdWx0Q29sdW1uU2V0dGluZ3MpLCBjOwogIH0sCiAgc2V0RGVmYXVsdENvbHVtbkNvbmZpZzogZnVuY3Rpb24gc2V0RGVmYXVsdENvbHVtbkNvbmZpZyhhLCBiKSB7CiAgICB2YXIgYywgZDsKICAgIGlmIChhICYmIGEubGVuZ3RoKSBmb3IgKGQgPSAwOyBkIDwgYS5sZW5ndGg7IGQrKykgewogICAgICBjID0gJC5leHRlbmQoITAsIHt9LCBiKSwgJC5leHRlbmQoITAsIGMsIGFbZF0pLCBhW2RdID0gYzsKICAgIH0KICB9LAogIGdldEhUTUxDb25maWc6IGZ1bmN0aW9uIGdldEhUTUxDb25maWcoKSB7CiAgICB2YXIgYSA9IGdqLndpZGdldC5wcm90b3R5cGUuZ2V0SFRNTENvbmZpZy5jYWxsKHRoaXMpOwogICAgcmV0dXJuIGEuY29sdW1ucyA9IFtdLCB0aGlzLmZpbmQoInRoZWFkID4gdHIgPiB0aCIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgYiA9ICQodGhpcyksCiAgICAgICAgICBjID0gYi50ZXh0KCksCiAgICAgICAgICBkID0gZ2oud2lkZ2V0LnByb3RvdHlwZS5nZXRIVE1MQ29uZmlnLmNhbGwoYik7CiAgICAgIGQudGl0bGUgPSBjLCBkLmZpZWxkIHx8IChkLmZpZWxkID0gYyksIGQuZXZlbnRzICYmIChkLmV2ZW50cyA9IGdqLmdyaWQubWV0aG9kcy5ldmVudHNQYXJzZXIoZC5ldmVudHMpKSwgYS5jb2x1bW5zLnB1c2goZCk7CiAgICB9KSwgYTsKICB9LAogIGV2ZW50c1BhcnNlcjogZnVuY3Rpb24gZXZlbnRzUGFyc2VyKGV2ZW50cykgewogICAgdmFyIHJlc3VsdCA9IHt9LAogICAgICAgIGxpc3QsCiAgICAgICAgaSwKICAgICAgICBrZXksCiAgICAgICAgZnVuYywKICAgICAgICBwb3NpdGlvbjsKCiAgICBmb3IgKGxpc3QgPSBldmVudHMuc3BsaXQoIiwiKSwgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgIChwb3NpdGlvbiA9IGxpc3RbaV0uaW5kZXhPZigiOiIpKSA+IDAgJiYgKGtleSA9ICQudHJpbShsaXN0W2ldLnN1YnN0cigwLCBwb3NpdGlvbikpLCBmdW5jID0gJC50cmltKGxpc3RbaV0uc3Vic3RyKHBvc2l0aW9uICsgMSwgbGlzdFtpXS5sZW5ndGgpKSwgcmVzdWx0W2tleV0gPSBldmFsKCJ3aW5kb3cuIiArIGZ1bmMpKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShhKSB7CiAgICB2YXIgYiA9IGEuZGF0YSgpLAogICAgICAgIGMgPSBhLnBhcmVudCgnZGl2W2RhdGEtcm9sZT0id3JhcHBlciJdJyk7CiAgICBnai5ncmlkLm1ldGhvZHMubG9jYWxpemF0aW9uKGIpLCAwID09PSBjLmxlbmd0aCA/IChjID0gJCgnPGRpdiBkYXRhLXJvbGU9IndyYXBwZXIiIC8+JykuYWRkQ2xhc3MoYi5zdHlsZS53cmFwcGVyKSwgYS53cmFwKGMpKSA6IGMuYWRkQ2xhc3MoYi5zdHlsZS53cmFwcGVyKSwgYi53aWR0aCAmJiBhLnBhcmVudCgpLmNzcygid2lkdGgiLCBiLndpZHRoKSwgYi5taW5XaWR0aCAmJiBhLmNzcygibWluLXdpZHRoIiwgYi5taW5XaWR0aCksIGIuZm9udFNpemUgJiYgYS5jc3MoImZvbnQtc2l6ZSIsIGIuZm9udFNpemUpLCAiYXV0b2dyb3ciID09PSBiLmhlYWRlclJvd0hlaWdodCAmJiBhLmFkZENsYXNzKCJhdXRvZ3Jvdy1oZWFkZXItcm93IiksICJmaXhlZCIgPT09IGIuYm9keVJvd0hlaWdodCAmJiBhLmFkZENsYXNzKCJmaXhlZC1ib2R5LXJvd3MiKSwgYS5hZGRDbGFzcyhiLnN0eWxlLnRhYmxlKSwgImNoZWNrYm94IiA9PT0gYi5zZWxlY3Rpb25NZXRob2QgJiYgYi5jb2x1bW5zLnNwbGljZShnai5ncmlkLm1ldGhvZHMuZ2V0Q29sdW1uUG9zaXRpb25Ob3RJblJvbGUoYSksIDAsIHsKICAgICAgdGl0bGU6ICIiLAogICAgICB3aWR0aDogYi5kZWZhdWx0Q2hlY2tCb3hDb2x1bW5XaWR0aCwKICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICB0eXBlOiAiY2hlY2tib3giLAogICAgICByb2xlOiAic2VsZWN0Um93IiwKICAgICAgZXZlbnRzOiB7CiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGIpIHsKICAgICAgICAgIGdqLmdyaWQubWV0aG9kcy5zZXRTZWxlY3RlZChhLCBiLmRhdGEuaWQsICQodGhpcykuY2xvc2VzdCgidHIiKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBoZWFkZXJDc3NDbGFzczogImdqLWdyaWQtc2VsZWN0LWFsbCIsCiAgICAgIHN0b3BQcm9wYWdhdGlvbjogITAKICAgIH0pLCAwID09PSBhLmNoaWxkcmVuKCJ0Ym9keSIpLmxlbmd0aCAmJiBhLmFwcGVuZCgkKCI8dGJvZHkvPiIpKSwgZ2ouZ3JpZC5tZXRob2RzLnJlbmRlckhlYWRlcihhKSwgZ2ouZ3JpZC5tZXRob2RzLmFwcGVuZEVtcHR5Um93KGEsICImbmJzcDsiKSwgZ2ouZ3JpZC5ldmVudHMuaW5pdGlhbGl6ZWQoYSk7CiAgfSwKICBsb2NhbGl6YXRpb246IGZ1bmN0aW9uIGxvY2FsaXphdGlvbihhKSB7CiAgICBhLm5vdEZvdW5kVGV4dCB8fCAoYS5ub3RGb3VuZFRleHQgPSBnai5ncmlkLm1lc3NhZ2VzW2EubG9jYWxlXS5Ob1JlY29yZHNGb3VuZCk7CiAgfSwKICByZW5kZXJIZWFkZXI6IGZ1bmN0aW9uIHJlbmRlckhlYWRlcihhKSB7CiAgICB2YXIgYiwgYywgZCwgZSwgZiwgZywgaCwgaSwgajsKCiAgICBmb3IgKGIgPSBhLmRhdGEoKSwgYyA9IGIuY29sdW1ucywgZCA9IGIuc3R5bGUuaGVhZGVyLCBlID0gYS5jaGlsZHJlbigidGhlYWQiKSwgMCA9PT0gZS5sZW5ndGggJiYgKGUgPSAkKCI8dGhlYWQgLz4iKSwgYS5wcmVwZW5kKGUpKSwgZiA9ICQoJzx0ciBkYXRhLXJvbGU9ImNhcHRpb24iIC8+JyksIGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkgKz0gMSkgewogICAgICBnID0gJCgnPHRoIGRhdGEtZmllbGQ9IicgKyAoY1tpXS5maWVsZCB8fCAiIikgKyAnIiAvPicpLCBjW2ldLndpZHRoID8gZy5hdHRyKCJ3aWR0aCIsIGNbaV0ud2lkdGgpIDogImNoZWNrYm94IiA9PT0gY1tpXS50eXBlICYmIGcuYXR0cigid2lkdGgiLCBiLmRlZmF1bHRJY29uQ29sdW1uV2lkdGgpLCBnLmFkZENsYXNzKGQuY2VsbCksIGNbaV0uaGVhZGVyQ3NzQ2xhc3MgJiYgZy5hZGRDbGFzcyhjW2ldLmhlYWRlckNzc0NsYXNzKSwgZy5jc3MoInRleHQtYWxpZ24iLCBjW2ldLmFsaWduIHx8ICJsZWZ0IiksICJjaGVja2JveCIgPT09IGIuc2VsZWN0aW9uTWV0aG9kICYmICJtdWx0aXBsZSIgPT09IGIuc2VsZWN0aW9uVHlwZSAmJiAiY2hlY2tib3giID09PSBjW2ldLnR5cGUgJiYgInNlbGVjdFJvdyIgPT09IGNbaV0ucm9sZSA/IChqID0gZy5maW5kKCdpbnB1dFtkYXRhLXJvbGU9InNlbGVjdEFsbCJdJyksIDAgPT09IGoubGVuZ3RoICYmIChqID0gJCgnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLXJvbGU9InNlbGVjdEFsbCIgLz4nKSwgZy5hcHBlbmQoaiksIGouY2hlY2tib3goewogICAgICAgIHVpTGlicmFyeTogYi51aUxpYnJhcnkKICAgICAgfSkpLCBqLm9mZigiY2xpY2siKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jaGVja2VkID8gYS5zZWxlY3RBbGwoKSA6IGEudW5TZWxlY3RBbGwoKTsKICAgICAgfSkpIDogKGggPSAkKCc8ZGl2IGRhdGEtcm9sZT0idGl0bGUiLz4nKS5odG1sKHZvaWQgMCA9PT0gY1tpXS50aXRsZSA/IGNbaV0uZmllbGQgOiBjW2ldLnRpdGxlKSwgZy5hcHBlbmQoaCksIGNbaV0uc29ydGFibGUgJiYgKGguYWRkQ2xhc3MoZC5zb3J0YWJsZSksIGgub24oImNsaWNrIiwgZ2ouZ3JpZC5tZXRob2RzLmNyZWF0ZVNvcnRIYW5kbGVyKGEsIGNbaV0pKSkpLCBjW2ldLmhpZGRlbiAmJiBnLmhpZGUoKSwgZi5hcHBlbmQoZyk7CiAgICB9CgogICAgZS5lbXB0eSgpLmFwcGVuZChmKTsKICB9LAogIGNyZWF0ZVNvcnRIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVTb3J0SGFuZGxlcihhLCBiKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgYywKICAgICAgICAgIGQgPSB7fTsKICAgICAgYS5jb3VudCgpID4gMCAmJiAoYyA9IGEuZGF0YSgpLCBkW2MucGFyYW1OYW1lcy5zb3J0QnldID0gYi5maWVsZCwgYi5kaXJlY3Rpb24gPSAiYXNjIiA9PT0gYi5kaXJlY3Rpb24gPyAiZGVzYyIgOiAiYXNjIiwgZFtjLnBhcmFtTmFtZXMuZGlyZWN0aW9uXSA9IGIuZGlyZWN0aW9uLCBhLnJlbG9hZChkKSk7CiAgICB9OwogIH0sCiAgdXBkYXRlSGVhZGVyOiBmdW5jdGlvbiB1cGRhdGVIZWFkZXIoYSkgewogICAgdmFyIGIsCiAgICAgICAgYywKICAgICAgICBkID0gYS5kYXRhKCksCiAgICAgICAgZSA9IGQucGFyYW1zW2QucGFyYW1OYW1lcy5zb3J0QnldLAogICAgICAgIGYgPSBkLnBhcmFtc1tkLnBhcmFtTmFtZXMuZGlyZWN0aW9uXTsKICAgIGEuZmluZCgndGhlYWQgdHIgdGggW2RhdGEtcm9sZT0ic29ydGljb24iXScpLnJlbW92ZSgpLCBlICYmIChwb3NpdGlvbiA9IGdqLmdyaWQubWV0aG9kcy5nZXRDb2x1bW5Qb3NpdGlvbihhLmRhdGEoImNvbHVtbnMiKSwgZSksIHBvc2l0aW9uID4gLTEgJiYgKGMgPSBhLmZpbmQoInRoZWFkIHRyIHRoOmVxKCIgKyBwb3NpdGlvbiArICcpIGRpdltkYXRhLXJvbGU9InRpdGxlIl0nKSwgYiA9ICQoJzxkaXYgZGF0YS1yb2xlPSJzb3J0aWNvbiIgY2xhc3M9ImdqLXVuc2VsZWN0YWJsZSIgLz4nKS5hcHBlbmQoImRlc2MiID09PSBmID8gZC5pY29ucy5kZXNjIDogZC5pY29ucy5hc2MpLCBjLmFmdGVyKGIpKSk7CiAgfSwKICB1c2VIdG1sRGF0YVNvdXJjZTogZnVuY3Rpb24gdXNlSHRtbERhdGFTb3VyY2UoYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCwKICAgICAgICBlLAogICAgICAgIGYsCiAgICAgICAgZyA9IFtdLAogICAgICAgIGggPSBhLmZpbmQoJ3Rib2R5IHRyW2RhdGEtcm9sZSAhPSAiZW1wdHkiXScpOwoKICAgIGZvciAoYyA9IDA7IGMgPCBoLmxlbmd0aDsgYysrKSB7CiAgICAgIGZvciAoZSA9ICQoaFtjXSkuZmluZCgidGQiKSwgZiA9IHt9LCBkID0gMDsgZCA8IGUubGVuZ3RoOyBkKyspIHsKICAgICAgICBmW2IuY29sdW1uc1tkXS5maWVsZF0gPSAkKGVbZF0pLmh0bWwoKTsKICAgICAgfQoKICAgICAgZy5wdXNoKGYpOwogICAgfQoKICAgIGIuZGF0YVNvdXJjZSA9IGc7CiAgfSwKICBzdGFydExvYWRpbmc6IGZ1bmN0aW9uIHN0YXJ0TG9hZGluZyhhKSB7CiAgICB2YXIgYiwgYywgZCwgZSwgZiwgZywgaDsKICAgIGdqLmdyaWQubWV0aG9kcy5zdG9wTG9hZGluZyhhKSwgaCA9IGEuZGF0YSgpLCAwICE9PSBhLm91dGVySGVpZ2h0KCkgJiYgKGIgPSBhLmNoaWxkcmVuKCJ0Ym9keSIpLCBlID0gYi5vdXRlcldpZHRoKCExKSwgZiA9IGIub3V0ZXJIZWlnaHQoITEpLCBnID0gTWF0aC5hYnMoYS5wYXJlbnQoKS5vZmZzZXQoKS50b3AgLSBiLm9mZnNldCgpLnRvcCksIGMgPSAkKCc8ZGl2IGRhdGEtcm9sZT0ibG9hZGluZy1jb3ZlciIgLz4nKS5hZGRDbGFzcyhoLnN0eWxlLmxvYWRpbmdDb3ZlcikuY3NzKHsKICAgICAgd2lkdGg6IGUsCiAgICAgIGhlaWdodDogZiwKICAgICAgdG9wOiBnCiAgICB9KSwgZCA9ICQoJzxkaXYgZGF0YS1yb2xlPSJsb2FkaW5nLXRleHQiPicgKyBnai5ncmlkLm1lc3NhZ2VzW2gubG9jYWxlXS5Mb2FkaW5nICsgIjwvZGl2PiIpLmFkZENsYXNzKGguc3R5bGUubG9hZGluZ1RleHQpLCBkLmluc2VydEFmdGVyKGEpLCBjLmluc2VydEFmdGVyKGEpLCBkLmNzcyh7CiAgICAgIHRvcDogZyArIGYgLyAyIC0gZC5vdXRlckhlaWdodCghMSkgLyAyLAogICAgICBsZWZ0OiBlIC8gMiAtIGQub3V0ZXJXaWR0aCghMSkgLyAyCiAgICB9KSk7CiAgfSwKICBzdG9wTG9hZGluZzogZnVuY3Rpb24gc3RvcExvYWRpbmcoYSkgewogICAgYS5wYXJlbnQoKS5maW5kKCdkaXZbZGF0YS1yb2xlPSJsb2FkaW5nLWNvdmVyIl0nKS5yZW1vdmUoKSwgYS5wYXJlbnQoKS5maW5kKCdkaXZbZGF0YS1yb2xlPSJsb2FkaW5nLXRleHQiXScpLnJlbW92ZSgpOwogIH0sCiAgYXBwZW5kRW1wdHlSb3c6IGZ1bmN0aW9uIGFwcGVuZEVtcHR5Um93KGEsIGIpIHsKICAgIHZhciBjLCBkLCBlLCBmOwogICAgYyA9IGEuZGF0YSgpLCBkID0gJCgnPHRyIGRhdGEtcm9sZT0iZW1wdHkiLz4nKSwgZSA9ICQoIjx0ZC8+IikuY3NzKHsKICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgInRleHQtYWxpZ24iOiAiY2VudGVyIgogICAgfSksIGUuYXR0cigiY29sc3BhbiIsIGdqLmdyaWQubWV0aG9kcy5jb3VudFZpc2libGVDb2x1bW5zKGEpKSwgZiA9ICQoIjxkaXYgLz4iKS5odG1sKGIgfHwgYy5ub3RGb3VuZFRleHQpLCBlLmFwcGVuZChmKSwgZC5hcHBlbmQoZSksIGdqLmdyaWQuZXZlbnRzLmJlZm9yZUVtcHR5Um93SW5zZXJ0KGEsIGQpLCBhLmFwcGVuZChkKTsKICB9LAogIGF1dG9HZW5lcmF0ZUNvbHVtbnM6IGZ1bmN0aW9uIGF1dG9HZW5lcmF0ZUNvbHVtbnMoYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCwKICAgICAgICBlLAogICAgICAgIGYsCiAgICAgICAgZyA9IGEuZGF0YSgpOwoKICAgIGlmIChnLmNvbHVtbnMgPSBbXSwgYi5sZW5ndGggPiAwKSB7CiAgICAgIGZvciAoYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGJbMF0pLCBmID0gMDsgZiA8IGMubGVuZ3RoOyBmKyspIHsKICAgICAgICBkID0gYlswXVtjW2ZdXSwgZSA9ICJ0ZXh0IiwgZCAmJiAoIm51bWJlciIgPT0gdHlwZW9mIGQgPyBlID0gIm51bWJlciIgOiBkLmluZGV4T2YoIi9EYXRlKCIpID4gLTEgJiYgKGUgPSAiZGF0ZSIpKSwgZy5jb2x1bW5zLnB1c2goewogICAgICAgICAgZmllbGQ6IGNbZl0sCiAgICAgICAgICB0eXBlOiBlCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGdqLmdyaWQubWV0aG9kcy5zZXREZWZhdWx0Q29sdW1uQ29uZmlnKGcuY29sdW1ucywgZy5kZWZhdWx0Q29sdW1uU2V0dGluZ3MpOwogICAgfQoKICAgIGdqLmdyaWQubWV0aG9kcy5yZW5kZXJIZWFkZXIoYSk7CiAgfSwKICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoYSkgewogICAgdmFyIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGk7CgogICAgZm9yIChiID0gYS5kYXRhKCksIGMgPSBhLmdldEFsbCgpLCBnai5ncmlkLmV2ZW50cy5kYXRhQmluZGluZyhhLCBjKSwgZSA9IGMubGVuZ3RoLCBnai5ncmlkLm1ldGhvZHMuc3RvcExvYWRpbmcoYSksIGIuYXV0b0dlbmVyYXRlQ29sdW1ucyAmJiBnai5ncmlkLm1ldGhvZHMuYXV0b0dlbmVyYXRlQ29sdW1ucyhhLCBjKSwgZyA9IGEuY2hpbGRyZW4oInRib2R5IiksICJjaGVja2JveCIgPT09IGIuc2VsZWN0aW9uTWV0aG9kICYmICJtdWx0aXBsZSIgPT09IGIuc2VsZWN0aW9uVHlwZSAmJiBhLmZpbmQoJ3RoZWFkIGlucHV0W2RhdGEtcm9sZT0ic2VsZWN0QWxsIl0nKS5wcm9wKCJjaGVja2VkIiwgITEpLCBnLmNoaWxkcmVuKCJ0ciIpLm5vdCgnW2RhdGEtcm9sZT0icm93Il0nKS5yZW1vdmUoKSwgMCA9PT0gZSAmJiAoZy5lbXB0eSgpLCBnai5ncmlkLm1ldGhvZHMuYXBwZW5kRW1wdHlSb3coYSkpLCBoID0gZy5jaGlsZHJlbigidHIiKSwgZiA9IGgubGVuZ3RoLCBkID0gMDsgZCA8IGY7IGQrKykgewogICAgICBpZiAoIShkIDwgZSkpIHsKICAgICAgICBnLmZpbmQoJ3RyW2RhdGEtcm9sZT0icm93Il06Z3QoJyArIChkIC0gMSkgKyAiKSIpLnJlbW92ZSgpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpID0gaC5lcShkKSwgZ2ouZ3JpZC5tZXRob2RzLnJlbmRlclJvdyhhLCBpLCBjW2RdLCBkKTsKICAgIH0KCiAgICBmb3IgKGQgPSBmOyBkIDwgZTsgZCsrKSB7CiAgICAgIGdqLmdyaWQubWV0aG9kcy5yZW5kZXJSb3coYSwgbnVsbCwgY1tkXSwgZCk7CiAgICB9CgogICAgZ2ouZ3JpZC5ldmVudHMuZGF0YUJvdW5kKGEsIGMsIGIudG90YWxSZWNvcmRzKTsKICB9LAogIGdldElkOiBmdW5jdGlvbiBnZXRJZChhLCBiLCBjKSB7CiAgICByZXR1cm4gYiAmJiBhW2JdID8gYVtiXSA6IGM7CiAgfSwKICByZW5kZXJSb3c6IGZ1bmN0aW9uIHJlbmRlclJvdyhhLCBiLCBjLCBkKSB7CiAgICB2YXIgZSwgZiwgZywgaCwgaTsKCiAgICBmb3IgKGggPSBhLmRhdGEoKSwgYiAmJiAwICE9PSBiLmxlbmd0aCA/IChpID0gInVwZGF0ZSIsIGIucmVtb3ZlQ2xhc3MoaC5zdHlsZS5jb250ZW50LnJvd1NlbGVjdGVkKS5yZW1vdmVBdHRyKCJkYXRhLXNlbGVjdGVkIikub2ZmKCJjbGljayIpKSA6IChpID0gImNyZWF0ZSIsIGIgPSAkKCc8dHIgZGF0YS1yb2xlPSJyb3ciLz4nKSwgYS5jaGlsZHJlbigidGJvZHkiKS5hcHBlbmQoYikpLCBlID0gZ2ouZ3JpZC5tZXRob2RzLmdldElkKGMsIGgucHJpbWFyeUtleSwgZCArIDEpLCBiLmF0dHIoImRhdGEtcG9zaXRpb24iLCBkICsgMSksICJjaGVja2JveCIgIT09IGguc2VsZWN0aW9uTWV0aG9kICYmIGIub24oImNsaWNrIiwgZ2ouZ3JpZC5tZXRob2RzLmNyZWF0ZVJvd0NsaWNrSGFuZGxlcihhLCBlKSksIGcgPSAwOyBnIDwgaC5jb2x1bW5zLmxlbmd0aDsgZysrKSB7CiAgICAgICJ1cGRhdGUiID09PSBpID8gKGYgPSBiLmZpbmQoInRkOmVxKCIgKyBnICsgIikiKSwgZ2ouZ3JpZC5tZXRob2RzLnJlbmRlckNlbGwoYSwgZiwgaC5jb2x1bW5zW2ddLCBjLCBlKSkgOiAoZiA9IGdqLmdyaWQubWV0aG9kcy5yZW5kZXJDZWxsKGEsIG51bGwsIGguY29sdW1uc1tnXSwgYywgZSksIGIuYXBwZW5kKGYpKTsKICAgIH0KCiAgICBnai5ncmlkLmV2ZW50cy5yb3dEYXRhQm91bmQoYSwgYiwgZSwgYyk7CiAgfSwKICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGEsIGIsIGMsIGQsIGUsIGYpIHsKICAgIHZhciBnLCBoOwogICAgaWYgKGIgJiYgMCAhPT0gYi5sZW5ndGggPyAoZyA9IGIuZmluZCgnZGl2W2RhdGEtcm9sZT0iZGlzcGxheSJdJyksIGYgPSAidXBkYXRlIikgOiAoYiA9ICQoIjx0ZC8+IiksIGcgPSAkKCc8ZGl2IGRhdGEtcm9sZT0iZGlzcGxheSIgLz4nKSwgYy5hbGlnbiAmJiBiLmNzcygidGV4dC1hbGlnbiIsIGMuYWxpZ24pLCBjLmNzc0NsYXNzICYmIGIuYWRkQ2xhc3MoYy5jc3NDbGFzcyksIGIuYXBwZW5kKGcpLCBmID0gImNyZWF0ZSIpLCBnai5ncmlkLm1ldGhvZHMucmVuZGVyRGlzcGxheUVsZW1lbnQoYSwgZywgYywgZCwgZSwgZiksICJ1cGRhdGUiID09PSBmICYmIChiLm9mZigpLCBnLm9mZigpKSwgYy5ldmVudHMpIGZvciAoaCBpbiBjLmV2ZW50cykgewogICAgICBjLmV2ZW50cy5oYXNPd25Qcm9wZXJ0eShoKSAmJiBiLm9uKGgsIHsKICAgICAgICBpZDogZSwKICAgICAgICBmaWVsZDogYy5maWVsZCwKICAgICAgICByZWNvcmQ6IGQKICAgICAgfSwgZ2ouZ3JpZC5tZXRob2RzLmNyZWF0ZUNlbGxFdmVudEhhbmRsZXIoYywgYy5ldmVudHNbaF0pKTsKICAgIH0KICAgIHJldHVybiBjLmhpZGRlbiAmJiBiLmhpZGUoKSwgZ2ouZ3JpZC5ldmVudHMuY2VsbERhdGFCb3VuZChhLCBnLCBlLCBjLCBkKSwgYjsKICB9LAogIGNyZWF0ZUNlbGxFdmVudEhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZUNlbGxFdmVudEhhbmRsZXIoYSwgYikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7CiAgICAgIGEuc3RvcFByb3BhZ2F0aW9uICYmIGMuc3RvcFByb3BhZ2F0aW9uKCksIGIuY2FsbCh0aGlzLCBjKTsKICAgIH07CiAgfSwKICByZW5kZXJEaXNwbGF5RWxlbWVudDogZnVuY3Rpb24gcmVuZGVyRGlzcGxheUVsZW1lbnQoYSwgYiwgYywgZCwgZSwgZikgewogICAgdmFyIGcsIGg7CiAgICAiY2hlY2tib3giID09PSBjLnR5cGUgJiYgZ2ouY2hlY2tib3ggPyAiY3JlYXRlIiA9PT0gZiA/IChoID0gJCgnPGlucHV0IHR5cGU9ImNoZWNrYm94IiAvPicpLnZhbChlKS5wcm9wKCJjaGVja2VkIiwgISFkW2MuZmllbGRdKSwgYy5yb2xlICYmIGguYXR0cigiZGF0YS1yb2xlIiwgYy5yb2xlKSwgYi5hcHBlbmQoaCksIGguY2hlY2tib3goewogICAgICB1aUxpYnJhcnk6IGEuZGF0YSgidWlMaWJyYXJ5IikKICAgIH0pLCAic2VsZWN0Um93IiA9PT0gYy5yb2xlID8gaC5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAhMTsKICAgIH0pIDogaC5wcm9wKCJkaXNhYmxlZCIsICEwKSkgOiBiLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS52YWwoZSkucHJvcCgiY2hlY2tlZCIsICEhZFtjLmZpZWxkXSkgOiAiaWNvbiIgPT09IGMudHlwZSA/ICJjcmVhdGUiID09PSBmICYmIChiLmFwcGVuZCgkKCI8c3Bhbi8+IikuYWRkQ2xhc3MoYy5pY29uKS5jc3MoewogICAgICBjdXJzb3I6ICJwb2ludGVyIgogICAgfSkpLCAiYm9vdHN0cmFwIiA9PT0gYS5kYXRhKCkudWlMaWJyYXJ5ICYmIGIuY2hpbGRyZW4oInNwYW4iKS5hZGRDbGFzcygiZ2x5cGhpY29uIiksIGMuc3RvcFByb3BhZ2F0aW9uID0gITApIDogYy50bXBsID8gKGcgPSBjLnRtcGwsIGMudG1wbC5yZXBsYWNlKC9ceyguKz8pXH0vZywgZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgZyA9IGcucmVwbGFjZShhLCBnai5ncmlkLm1ldGhvZHMuZm9ybWF0VGV4dChkW2JdLCBjKSk7CiAgICB9KSwgYi5odG1sKGcpKSA6IGMucmVuZGVyZXIgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5yZW5kZXJlciA/IChnID0gYy5yZW5kZXJlcihkW2MuZmllbGRdLCBkLCBiLnBhcmVudCgpLCBiLCBlLCBhKSkgJiYgYi5odG1sKGcpIDogKGRbYy5maWVsZF0gPSBnai5ncmlkLm1ldGhvZHMuZm9ybWF0VGV4dChkW2MuZmllbGRdLCBjKSwgIWMudG9vbHRpcCAmJiBkW2MuZmllbGRdICYmIGIuYXR0cigidGl0bGUiLCBkW2MuZmllbGRdKSwgYi5odG1sKGRbYy5maWVsZF0pKSwgYy50b29sdGlwICYmICJjcmVhdGUiID09PSBmICYmIGIuYXR0cigidGl0bGUiLCBjLnRvb2x0aXApOwogIH0sCiAgZm9ybWF0VGV4dDogZnVuY3Rpb24gZm9ybWF0VGV4dChhLCBiKSB7CiAgICByZXR1cm4gYSA9IGEgJiYgWyJkYXRlIiwgInRpbWUiLCAiZGF0ZXRpbWUiXS5pbmRleE9mKGIudHlwZSkgPiAtMSA/IGdqLmNvcmUuZm9ybWF0RGF0ZShnai5jb3JlLnBhcnNlRGF0ZShhLCBiLmZvcm1hdCksIGIuZm9ybWF0KSA6IHZvaWQgMCA9PT0gYSB8fCBudWxsID09PSBhID8gIiIgOiBhLnRvU3RyaW5nKCksIGIuZGVjaW1hbERpZ2l0cyAmJiBhICYmIChhID0gcGFyc2VGbG9hdChhKS50b0ZpeGVkKGIuZGVjaW1hbERpZ2l0cykpLCBhOwogIH0sCiAgc2V0UmVjb3Jkc0RhdGE6IGZ1bmN0aW9uIHNldFJlY29yZHNEYXRhKGEsIGIpIHsKICAgIHZhciBjID0gW10sCiAgICAgICAgZCA9IDAsCiAgICAgICAgZSA9IGEuZGF0YSgpOwogICAgcmV0dXJuICQuaXNBcnJheShiKSA/IChjID0gYiwgZCA9IGIubGVuZ3RoKSA6IGUgJiYgZS5tYXBwaW5nICYmICQuaXNBcnJheShiW2UubWFwcGluZy5kYXRhRmllbGRdKSAmJiAoYyA9IGJbZS5tYXBwaW5nLmRhdGFGaWVsZF0sIChkID0gYltlLm1hcHBpbmcudG90YWxSZWNvcmRzRmllbGRdKSAmJiAhaXNOYU4oZCkgfHwgKGQgPSAwKSksIGEuZGF0YSgicmVjb3JkcyIsIGMpLCBhLmRhdGEoInRvdGFsUmVjb3JkcyIsIGQpLCBjOwogIH0sCiAgY3JlYXRlUm93Q2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVSb3dDbGlja0hhbmRsZXIoYSwgYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZ2ouZ3JpZC5tZXRob2RzLnNldFNlbGVjdGVkKGEsIGIsICQodGhpcykpOwogICAgfTsKICB9LAogIHNlbGVjdFJvdzogZnVuY3Rpb24gc2VsZWN0Um93KGEsIGIsIGMsIGQpIHsKICAgIHZhciBlOwogICAgcmV0dXJuIGMuYWRkQ2xhc3MoYi5zdHlsZS5jb250ZW50LnJvd1NlbGVjdGVkKSwgYy5hdHRyKCJkYXRhLXNlbGVjdGVkIiwgInRydWUiKSwgImNoZWNrYm94IiA9PT0gYi5zZWxlY3Rpb25NZXRob2QgJiYgKGUgPSBjLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il1bZGF0YS1yb2xlPSJzZWxlY3RSb3ciXScpLCBlLmxlbmd0aCAmJiAhZS5wcm9wKCJjaGVja2VkIikgJiYgZS5wcm9wKCJjaGVja2VkIiwgITApLCAibXVsdGlwbGUiID09PSBiLnNlbGVjdGlvblR5cGUgJiYgYS5nZXRTZWxlY3Rpb25zKCkubGVuZ3RoID09PSBhLmNvdW50KCExKSAmJiBhLmZpbmQoJ3RoZWFkIGlucHV0W2RhdGEtcm9sZT0ic2VsZWN0QWxsIl0nKS5wcm9wKCJjaGVja2VkIiwgITApKSwgZ2ouZ3JpZC5ldmVudHMucm93U2VsZWN0KGEsIGMsIGQsIGEuZ2V0QnlJZChkKSk7CiAgfSwKICB1bnNlbGVjdFJvdzogZnVuY3Rpb24gdW5zZWxlY3RSb3coYSwgYiwgYywgZCkgewogICAgdmFyIGU7CiAgICBpZiAoInRydWUiID09PSBjLmF0dHIoImRhdGEtc2VsZWN0ZWQiKSkgcmV0dXJuIGMucmVtb3ZlQ2xhc3MoYi5zdHlsZS5jb250ZW50LnJvd1NlbGVjdGVkKSwgImNoZWNrYm94IiA9PT0gYi5zZWxlY3Rpb25NZXRob2QgJiYgKGUgPSBjLmZpbmQoJ3RkIGlucHV0W3R5cGU9ImNoZWNrYm94Il1bZGF0YS1yb2xlPSJzZWxlY3RSb3ciXScpLCBlLmxlbmd0aCAmJiBlLnByb3AoImNoZWNrZWQiKSAmJiBlLnByb3AoImNoZWNrZWQiLCAhMSksICJtdWx0aXBsZSIgPT09IGIuc2VsZWN0aW9uVHlwZSAmJiBhLmZpbmQoJ3RoZWFkIGlucHV0W2RhdGEtcm9sZT0ic2VsZWN0QWxsIl0nKS5wcm9wKCJjaGVja2VkIiwgITEpKSwgYy5yZW1vdmVBdHRyKCJkYXRhLXNlbGVjdGVkIiksIGdqLmdyaWQuZXZlbnRzLnJvd1Vuc2VsZWN0KGEsIGMsIGQsIGEuZ2V0QnlJZChkKSk7CiAgfSwKICBzZXRTZWxlY3RlZDogZnVuY3Rpb24gc2V0U2VsZWN0ZWQoYSwgYiwgYykgewogICAgdmFyIGQgPSBhLmRhdGEoKTsKICAgIHJldHVybiBjICYmIGMubGVuZ3RoIHx8IChjID0gZ2ouZ3JpZC5tZXRob2RzLmdldFJvd0J5SWQoYSwgYikpLCBjICYmICgidHJ1ZSIgPT09IGMuYXR0cigiZGF0YS1zZWxlY3RlZCIpID8gZ2ouZ3JpZC5tZXRob2RzLnVuc2VsZWN0Um93KGEsIGQsIGMsIGIpIDogKCJzaW5nbGUiID09PSBkLnNlbGVjdGlvblR5cGUgJiYgYy5zaWJsaW5ncygnW2RhdGEtc2VsZWN0ZWQ9InRydWUiXScpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgYiA9ICQodGhpcyksCiAgICAgICAgICBjID0gZ2ouZ3JpZC5tZXRob2RzLmdldElkKGIsIGQucHJpbWFyeUtleSwgYi5kYXRhKCJwb3NpdGlvbiIpKTsKICAgICAgZ2ouZ3JpZC5tZXRob2RzLnVuc2VsZWN0Um93KGEsIGQsIGIsIGMpOwogICAgfSksIGdqLmdyaWQubWV0aG9kcy5zZWxlY3RSb3coYSwgZCwgYywgYikpKSwgYTsKICB9LAogIHNlbGVjdEFsbDogZnVuY3Rpb24gc2VsZWN0QWxsKGEpIHsKICAgIHZhciBiID0gYS5kYXRhKCk7CiAgICByZXR1cm4gYS5maW5kKCd0Ym9keSB0cltkYXRhLXJvbGU9InJvdyJdJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjID0gJCh0aGlzKSwKICAgICAgICAgIGQgPSBjLmRhdGEoInBvc2l0aW9uIiksCiAgICAgICAgICBlID0gYS5nZXQoZCksCiAgICAgICAgICBmID0gZ2ouZ3JpZC5tZXRob2RzLmdldElkKGUsIGIucHJpbWFyeUtleSwgZCk7CiAgICAgIGdqLmdyaWQubWV0aG9kcy5zZWxlY3RSb3coYSwgYiwgYywgZik7CiAgICB9KSwgYS5maW5kKCd0aGVhZCBpbnB1dFtkYXRhLXJvbGU9InNlbGVjdEFsbCJdJykucHJvcCgiY2hlY2tlZCIsICEwKSwgYTsKICB9LAogIHVuU2VsZWN0QWxsOiBmdW5jdGlvbiB1blNlbGVjdEFsbChhKSB7CiAgICB2YXIgYiA9IGEuZGF0YSgpOwogICAgcmV0dXJuIGEuZmluZCgidGJvZHkgdHIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGMgPSAkKHRoaXMpLAogICAgICAgICAgZCA9IGMuZGF0YSgicG9zaXRpb24iKSwKICAgICAgICAgIGUgPSBhLmdldChkKSwKICAgICAgICAgIGYgPSBnai5ncmlkLm1ldGhvZHMuZ2V0SWQoZSwgYi5wcmltYXJ5S2V5LCBkKTsKICAgICAgZ2ouZ3JpZC5tZXRob2RzLnVuc2VsZWN0Um93KGEsIGIsIGMsIGYpLCBjLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il1bZGF0YS1yb2xlPSJzZWxlY3RSb3ciXScpLnByb3AoImNoZWNrZWQiLCAhMSk7CiAgICB9KSwgYS5maW5kKCd0aGVhZCBpbnB1dFtkYXRhLXJvbGU9InNlbGVjdEFsbCJdJykucHJvcCgiY2hlY2tlZCIsICExKSwgYTsKICB9LAogIGdldFNlbGVjdGVkOiBmdW5jdGlvbiBnZXRTZWxlY3RlZChhKSB7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQsCiAgICAgICAgZSA9IG51bGw7CiAgICByZXR1cm4gYiA9IGEuZmluZCgndGJvZHk+dHJbZGF0YS1zZWxlY3RlZD0idHJ1ZSJdJyksIGIubGVuZ3RoID4gMCAmJiAoZCA9ICQoYlswXSkuZGF0YSgicG9zaXRpb24iKSwgYyA9IGEuZ2V0KGQpLCBlID0gZ2ouZ3JpZC5tZXRob2RzLmdldElkKGMsIGEuZGF0YSgpLnByaW1hcnlLZXksIGQpKSwgZTsKICB9LAogIGdldFNlbGVjdGVkUm93czogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRSb3dzKGEpIHsKICAgIGEuZGF0YSgpOwogICAgcmV0dXJuIGEuZmluZCgndGJvZHk+dHJbZGF0YS1zZWxlY3RlZD0idHJ1ZSJdJyk7CiAgfSwKICBnZXRTZWxlY3Rpb25zOiBmdW5jdGlvbiBnZXRTZWxlY3Rpb25zKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMsCiAgICAgICAgZCA9IFtdLAogICAgICAgIGUgPSBhLmRhdGEoKSwKICAgICAgICBmID0gZ2ouZ3JpZC5tZXRob2RzLmdldFNlbGVjdGVkUm93cyhhKTsKICAgIHJldHVybiAwIDwgZi5sZW5ndGggJiYgZi5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgYiA9ICQodGhpcykuZGF0YSgicG9zaXRpb24iKSwgYyA9IGEuZ2V0KGIpLCBkLnB1c2goZ2ouZ3JpZC5tZXRob2RzLmdldElkKGMsIGUucHJpbWFyeUtleSwgYikpOwogICAgfSksIGQ7CiAgfSwKICBnZXRCeUlkOiBmdW5jdGlvbiBnZXRCeUlkKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQgPSBudWxsLAogICAgICAgIGUgPSBhLmRhdGEoInByaW1hcnlLZXkiKSwKICAgICAgICBmID0gYS5kYXRhKCJyZWNvcmRzIik7CgogICAgaWYgKGUpIHsKICAgICAgZm9yIChjID0gMDsgYyA8IGYubGVuZ3RoOyBjKyspIHsKICAgICAgICBpZiAoZltjXVtlXSA9PSBiKSB7CiAgICAgICAgICBkID0gZltjXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGQgPSBhLmdldChiKTsKCiAgICByZXR1cm4gZDsKICB9LAogIGdldFJlY1ZQb3NCeUlkOiBmdW5jdGlvbiBnZXRSZWNWUG9zQnlJZChhLCBiKSB7CiAgICB2YXIgYywKICAgICAgICBkID0gYiwKICAgICAgICBlID0gYS5kYXRhKCk7CiAgICBpZiAoZS5wcmltYXJ5S2V5KSBmb3IgKGMgPSAwOyBjIDwgZS5kYXRhU291cmNlLmxlbmd0aDsgYysrKSB7CiAgICAgIGlmIChlLmRhdGFTb3VyY2VbY11bZS5wcmltYXJ5S2V5XSA9PSBiKSB7CiAgICAgICAgZCA9IGM7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkOwogIH0sCiAgZ2V0Um93QnlJZDogZnVuY3Rpb24gZ2V0Um93QnlJZChhLCBiKSB7CiAgICB2YXIgYywKICAgICAgICBkLAogICAgICAgIGUgPSBhLmdldEFsbCghMSksCiAgICAgICAgZiA9IGEuZGF0YSgicHJpbWFyeUtleSIpLAogICAgICAgIGcgPSB2b2lkIDA7CgogICAgaWYgKGYpIHsKICAgICAgZm9yIChkID0gMDsgZCA8IGUubGVuZ3RoOyBkKyspIHsKICAgICAgICBpZiAoZVtkXVtmXSA9PSBiKSB7CiAgICAgICAgICBjID0gZCArIDE7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBjID0gYjsKCiAgICByZXR1cm4gYyAmJiAoZyA9IGEuY2hpbGRyZW4oInRib2R5IikuY2hpbGRyZW4oJ3RyW2RhdGEtcG9zaXRpb249IicgKyBjICsgJyJdJykpLCBnOwogIH0sCiAgZ2V0QnlQb3NpdGlvbjogZnVuY3Rpb24gZ2V0QnlQb3NpdGlvbihhLCBiKSB7CiAgICByZXR1cm4gYS5nZXRBbGwoITEpW2IgLSAxXTsKICB9LAogIGdldENvbHVtblBvc2l0aW9uOiBmdW5jdGlvbiBnZXRDb2x1bW5Qb3NpdGlvbihhLCBiKSB7CiAgICB2YXIgYywKICAgICAgICBkID0gLTE7CgogICAgZm9yIChjID0gMDsgYyA8IGEubGVuZ3RoOyBjKyspIHsKICAgICAgaWYgKGFbY10uZmllbGQgPT09IGIpIHsKICAgICAgICBkID0gYzsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBkOwogIH0sCiAgZ2V0Q29sdW1uSW5mbzogZnVuY3Rpb24gZ2V0Q29sdW1uSW5mbyhhLCBiKSB7CiAgICB2YXIgYywKICAgICAgICBkID0ge30sCiAgICAgICAgZSA9IGEuZGF0YSgpOwoKICAgIGZvciAoYyA9IDA7IGMgPCBlLmNvbHVtbnMubGVuZ3RoOyBjICs9IDEpIHsKICAgICAgaWYgKGUuY29sdW1uc1tjXS5maWVsZCA9PT0gYikgewogICAgICAgIGQgPSBlLmNvbHVtbnNbY107CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZDsKICB9LAogIGdldENlbGw6IGZ1bmN0aW9uIGdldENlbGwoYSwgYiwgYykgewogICAgdmFyIGQsCiAgICAgICAgZSwKICAgICAgICBmID0gbnVsbDsKICAgIHJldHVybiBkID0gZ2ouZ3JpZC5tZXRob2RzLmdldENvbHVtblBvc2l0aW9uKGEuZGF0YSgiY29sdW1ucyIpLCBjKSwgZCA+IC0xICYmIChlID0gZ2ouZ3JpZC5tZXRob2RzLmdldFJvd0J5SWQoYSwgYiksIGYgPSBlLmZpbmQoInRkOmVxKCIgKyBkICsgJykgZGl2W2RhdGEtcm9sZT0iZGlzcGxheSJdJykpLCBmOwogIH0sCiAgc2V0Q2VsbENvbnRlbnQ6IGZ1bmN0aW9uIHNldENlbGxDb250ZW50KGEsIGIsIGMsIGQpIHsKICAgIHZhciBlLAogICAgICAgIGYgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q2VsbChhLCBiLCBjKTsKICAgIGYgJiYgKGYuZW1wdHkoKSwgIm9iamVjdCIgPT0gX3R5cGVvZihkKSA/IGYuYXBwZW5kKGQpIDogKGUgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q29sdW1uSW5mbyhhLCBjKSwgZ2ouZ3JpZC5tZXRob2RzLnJlbmRlckRpc3BsYXlFbGVtZW50KGEsIGYsIGUsIGEuZ2V0QnlJZChiKSwgYiwgInVwZGF0ZSIpKSk7CiAgfSwKICBjbG9uZTogZnVuY3Rpb24gY2xvbmUoYSkgewogICAgdmFyIGIgPSBbXTsKICAgIHJldHVybiAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICBiLnB1c2godGhpcy5jbG9uZSgpKTsKICAgIH0pLCBiOwogIH0sCiAgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwoYSkgewogICAgcmV0dXJuIGEuZGF0YSgicmVjb3JkcyIpOwogIH0sCiAgY291bnRWaXNpYmxlQ29sdW1uczogZnVuY3Rpb24gY291bnRWaXNpYmxlQ29sdW1ucyhhKSB7CiAgICB2YXIgYiwgYywgZDsKCiAgICBmb3IgKGIgPSBhLmRhdGEoKS5jb2x1bW5zLCBjID0gMCwgZCA9IDA7IGQgPCBiLmxlbmd0aDsgZCsrKSB7CiAgICAgICEwICE9PSBiW2RdLmhpZGRlbiAmJiBjKys7CiAgICB9CgogICAgcmV0dXJuIGM7CiAgfSwKICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoYSwgYikgewogICAgdmFyIGMgPSBhLmRhdGEoKTsKICAgIHJldHVybiBhLnhociAmJiBhLnhoci5hYm9ydCgpLCBhLmNoaWxkcmVuKCJ0Ym9keSIpLmVtcHR5KCksIGMucmVjb3JkcyA9IFtdLCBnai5ncmlkLm1ldGhvZHMuc3RvcExvYWRpbmcoYSksIGdqLmdyaWQubWV0aG9kcy5hcHBlbmRFbXB0eVJvdyhhLCBiID8gYy5ub3RGb3VuZFRleHQgOiAiJm5ic3A7IiksIGdqLmdyaWQuZXZlbnRzLmRhdGFCb3VuZChhLCBbXSwgMCksIGE7CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihhLCBiKSB7CiAgICByZXR1cm4gYiAmJiAoZ2ouZ3JpZC5tZXRob2RzLnNldFJlY29yZHNEYXRhKGEsIGIpLCBnai5ncmlkLm1ldGhvZHMudXBkYXRlSGVhZGVyKGEpLCBnai5ncmlkLm1ldGhvZHMubG9hZERhdGEoYSkpLCBhOwogIH0sCiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoYSkgewogICAgdmFyIGIsCiAgICAgICAgYywKICAgICAgICBkID0gYS5kYXRhKCksCiAgICAgICAgZSA9IGQuZGF0YVNvdXJjZS5zbGljZSgpOwogICAgZC5wYXJhbXNbZC5wYXJhbU5hbWVzLnNvcnRCeV0gJiYgKGMgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q29sdW1uSW5mbyhhLCBkLnBhcmFtc1tkLnBhcmFtTmFtZXMuc29ydEJ5XSksIGUuc29ydChjLnNvcnRhYmxlLnNvcnRlciA/IGMuc29ydGFibGUuc29ydGVyKGMuZGlyZWN0aW9uLCBjKSA6IGdqLmdyaWQubWV0aG9kcy5jcmVhdGVEZWZhdWx0U29ydGVyKGMuZGlyZWN0aW9uLCBjLmZpZWxkKSkpOwoKICAgIGZvciAoYiBpbiBkLnBhcmFtcykgewogICAgICBkLnBhcmFtc1tiXSAmJiAhZC5wYXJhbU5hbWVzW2JdICYmIChjID0gZ2ouZ3JpZC5tZXRob2RzLmdldENvbHVtbkluZm8oYSwgYiksIGUgPSAkLmdyZXAoZSwgZnVuY3Rpb24gKGEpIHsKICAgICAgICB2YXIgZSA9IGFbYl0gfHwgIiIsCiAgICAgICAgICAgIGYgPSBkLnBhcmFtc1tiXSB8fCAiIjsKICAgICAgICByZXR1cm4gYyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBjLmZpbHRlciA/IGMuZmlsdGVyKGUsIGYpIDogZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZi50b1VwcGVyQ2FzZSgpKSA+IC0xOwogICAgICB9KSk7CiAgICB9CgogICAgcmV0dXJuIGdqLmdyaWQuZXZlbnRzLmRhdGFGaWx0ZXJlZChhLCBlKSwgZTsKICB9LAogIGNyZWF0ZURlZmF1bHRTb3J0ZXI6IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRTb3J0ZXIoYSwgYikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChjLCBkKSB7CiAgICAgIHZhciBlID0gKGNbYl0gfHwgIiIpLnRvU3RyaW5nKCksCiAgICAgICAgICBmID0gKGRbYl0gfHwgIiIpLnRvU3RyaW5nKCk7CiAgICAgIHJldHVybiAiYXNjIiA9PT0gYSA/IGUubG9jYWxlQ29tcGFyZShmKSA6IGYubG9jYWxlQ29tcGFyZShlKTsKICAgIH07CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KGEsIGIsIGMpIHsKICAgIHJldHVybiBhLmRhdGEoKSAmJiAoZ2ouZ3JpZC5ldmVudHMuZGVzdHJveWluZyhhKSwgZ2ouZ3JpZC5tZXRob2RzLnN0b3BMb2FkaW5nKGEpLCBhLnhociAmJiBhLnhoci5hYm9ydCgpLCBhLm9mZigpLCAhMSA9PT0gYyAmJiBhLnBhcmVudCgnZGl2W2RhdGEtcm9sZT0id3JhcHBlciJdJykubGVuZ3RoID4gMCAmJiBhLnVud3JhcCgpLCBhLnJlbW92ZURhdGEoKSwgITEgPT09IGIgPyBhLnJlbW92ZSgpIDogYS5yZW1vdmVDbGFzcygpLmVtcHR5KCksIGEucmVtb3ZlQXR0cigiZGF0YS10eXBlIikpLCBhOwogIH0sCiAgc2hvd0NvbHVtbjogZnVuY3Rpb24gc2hvd0NvbHVtbihhLCBiKSB7CiAgICB2YXIgYywKICAgICAgICBkID0gYS5kYXRhKCksCiAgICAgICAgZSA9IGdqLmdyaWQubWV0aG9kcy5nZXRDb2x1bW5Qb3NpdGlvbihkLmNvbHVtbnMsIGIpOwogICAgcmV0dXJuIGUgPiAtMSAmJiAoYS5maW5kKCJ0aGVhZD50ciIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAkKHRoaXMpLmNoaWxkcmVuKCJ0aCIpLmVxKGUpLnNob3coKTsKICAgIH0pLCAkLmVhY2goYS5maW5kKCJ0Ym9keT50ciIpLCBmdW5jdGlvbiAoKSB7CiAgICAgICQodGhpcykuY2hpbGRyZW4oInRkIikuZXEoZSkuc2hvdygpOwogICAgfSksIGQuY29sdW1uc1tlXS5oaWRkZW4gPSAhMSwgYyA9IGEuZmluZCgndGJvZHkgPiB0cltkYXRhLXJvbGU9ImVtcHR5Il0gPiB0ZCcpLCBjICYmIGMubGVuZ3RoICYmIGMuYXR0cigiY29sc3BhbiIsIGdqLmdyaWQubWV0aG9kcy5jb3VudFZpc2libGVDb2x1bW5zKGEpKSwgZ2ouZ3JpZC5ldmVudHMuY29sdW1uU2hvdyhhLCBkLmNvbHVtbnNbZV0pKSwgYTsKICB9LAogIGhpZGVDb2x1bW46IGZ1bmN0aW9uIGhpZGVDb2x1bW4oYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCA9IGEuZGF0YSgpLAogICAgICAgIGUgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q29sdW1uUG9zaXRpb24oZC5jb2x1bW5zLCBiKTsKICAgIHJldHVybiBlID4gLTEgJiYgKGEuZmluZCgidGhlYWQ+dHIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgJCh0aGlzKS5jaGlsZHJlbigidGgiKS5lcShlKS5oaWRlKCk7CiAgICB9KSwgJC5lYWNoKGEuZmluZCgidGJvZHk+dHIiKSwgZnVuY3Rpb24gKCkgewogICAgICAkKHRoaXMpLmNoaWxkcmVuKCJ0ZCIpLmVxKGUpLmhpZGUoKTsKICAgIH0pLCBkLmNvbHVtbnNbZV0uaGlkZGVuID0gITAsIGMgPSBhLmZpbmQoJ3Rib2R5ID4gdHJbZGF0YS1yb2xlPSJlbXB0eSJdID4gdGQnKSwgYyAmJiBjLmxlbmd0aCAmJiBjLmF0dHIoImNvbHNwYW4iLCBnai5ncmlkLm1ldGhvZHMuY291bnRWaXNpYmxlQ29sdW1ucyhhKSksIGdqLmdyaWQuZXZlbnRzLmNvbHVtbkhpZGUoYSwgZC5jb2x1bW5zW2VdKSksIGE7CiAgfSwKICBpc0xhc3RSZWNvcmRWaXNpYmxlOiBmdW5jdGlvbiBpc0xhc3RSZWNvcmRWaXNpYmxlKCkgewogICAgcmV0dXJuICEwOwogIH0sCiAgYWRkUm93OiBmdW5jdGlvbiBhZGRSb3coYSwgYikgewogICAgdmFyIGMgPSBhLmRhdGEoKTsKICAgIHJldHVybiBjLnRvdGFsUmVjb3JkcyA9IGEuZGF0YSgidG90YWxSZWNvcmRzIikgKyAxLCBnai5ncmlkLmV2ZW50cy5kYXRhQmluZGluZyhhLCBbYl0pLCBjLnJlY29yZHMucHVzaChiKSwgJC5pc0FycmF5KGMuZGF0YVNvdXJjZSkgJiYgYy5kYXRhU291cmNlLnB1c2goYiksIDEgPT09IGMudG90YWxSZWNvcmRzICYmIGEuY2hpbGRyZW4oInRib2R5IikuZW1wdHkoKSwgZ2ouZ3JpZC5tZXRob2RzLmlzTGFzdFJlY29yZFZpc2libGUoYSkgJiYgZ2ouZ3JpZC5tZXRob2RzLnJlbmRlclJvdyhhLCBudWxsLCBiLCBhLmNvdW50KCkgLSAxKSwgZ2ouZ3JpZC5ldmVudHMuZGF0YUJvdW5kKGEsIFtiXSwgYy50b3RhbFJlY29yZHMpLCBhOwogIH0sCiAgdXBkYXRlUm93OiBmdW5jdGlvbiB1cGRhdGVSb3coYSwgYiwgYykgewogICAgdmFyIGQsCiAgICAgICAgZSA9IGdqLmdyaWQubWV0aG9kcy5nZXRSb3dCeUlkKGEsIGIpLAogICAgICAgIGYgPSBhLmRhdGEoKTsKICAgIHJldHVybiBmLnJlY29yZHNbZS5kYXRhKCJwb3NpdGlvbiIpIC0gMV0gPSBjLCAkLmlzQXJyYXkoZi5kYXRhU291cmNlKSAmJiAoZCA9IGdqLmdyaWQubWV0aG9kcy5nZXRSZWNWUG9zQnlJZChhLCBiKSwgZi5kYXRhU291cmNlW2RdID0gYyksIGdqLmdyaWQubWV0aG9kcy5yZW5kZXJSb3coYSwgZSwgYywgZS5pbmRleCgpKSwgYTsKICB9LAogIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQgPSBhLmRhdGEoKSwKICAgICAgICBlID0gZ2ouZ3JpZC5tZXRob2RzLmdldFJvd0J5SWQoYSwgYik7CiAgICByZXR1cm4gZ2ouZ3JpZC5ldmVudHMucm93UmVtb3ZpbmcoYSwgZSwgYiwgYS5nZXRCeUlkKGIpKSwgJC5pc0FycmF5KGQuZGF0YVNvdXJjZSkgJiYgKGMgPSBnai5ncmlkLm1ldGhvZHMuZ2V0UmVjVlBvc0J5SWQoYSwgYiksIGQuZGF0YVNvdXJjZS5zcGxpY2UoYywgMSkpLCBhLnJlbG9hZCgpLCBhOwogIH0sCiAgY291bnQ6IGZ1bmN0aW9uIGNvdW50KGEsIGIpIHsKICAgIHJldHVybiBiID8gYS5kYXRhKCkudG90YWxSZWNvcmRzIDogYS5nZXRBbGwoKS5sZW5ndGg7CiAgfSwKICBnZXRDb2x1bW5Qb3NpdGlvbkJ5Um9sZTogZnVuY3Rpb24gZ2V0Q29sdW1uUG9zaXRpb25CeVJvbGUoYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCwKICAgICAgICBlID0gYS5kYXRhKCJjb2x1bW5zIik7CgogICAgZm9yIChjID0gMDsgYyA8IGUubGVuZ3RoOyBjKyspIHsKICAgICAgaWYgKGVbY10ucm9sZSA9PT0gYikgewogICAgICAgIGQgPSBjOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGQ7CiAgfSwKICBnZXRDb2x1bW5Qb3NpdGlvbk5vdEluUm9sZTogZnVuY3Rpb24gZ2V0Q29sdW1uUG9zaXRpb25Ob3RJblJvbGUoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IDAsCiAgICAgICAgZCA9IGEuZGF0YSgiY29sdW1ucyIpOwoKICAgIGZvciAoYiA9IDA7IGIgPCBkLmxlbmd0aDsgYisrKSB7CiAgICAgIGlmICghZFtiXS5yb2xlKSB7CiAgICAgICAgYyA9IGI7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYzsKICB9Cn0sIGdqLmdyaWQud2lkZ2V0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICB2YXIgYyA9IHRoaXMsCiAgICAgIGQgPSBnai5ncmlkLm1ldGhvZHM7CiAgcmV0dXJuIGMucmVsb2FkID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLnN0YXJ0TG9hZGluZyh0aGlzKSwgZ2oud2lkZ2V0LnByb3RvdHlwZS5yZWxvYWQuY2FsbCh0aGlzLCBhKTsKICB9LCBjLmNsZWFyID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLmNsZWFyKHRoaXMsIGEpOwogIH0sIGMuY291bnQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQuY291bnQodGhpcywgYSk7CiAgfSwgYy5yZW5kZXIgPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIGQucmVuZGVyKGEsIGIpOwogIH0sIGMuZGVzdHJveSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gZC5kZXN0cm95KHRoaXMsIGEsIGIpOwogIH0sIGMuc2V0U2VsZWN0ZWQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQuc2V0U2VsZWN0ZWQodGhpcywgYSk7CiAgfSwgYy5nZXRTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmdldFNlbGVjdGVkKHRoaXMpOwogIH0sIGMuZ2V0U2VsZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmdldFNlbGVjdGlvbnModGhpcyk7CiAgfSwgYy5zZWxlY3RBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5zZWxlY3RBbGwodGhpcyk7CiAgfSwgYy51blNlbGVjdEFsbCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLnVuU2VsZWN0QWxsKHRoaXMpOwogIH0sIGMuZ2V0QnlJZCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC5nZXRCeUlkKHRoaXMsIGEpOwogIH0sIGMuZ2V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLmdldEJ5UG9zaXRpb24odGhpcywgYSk7CiAgfSwgYy5nZXRBbGwgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQuZ2V0QWxsKHRoaXMsIGEpOwogIH0sIGMuc2hvd0NvbHVtbiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC5zaG93Q29sdW1uKHRoaXMsIGEpOwogIH0sIGMuaGlkZUNvbHVtbiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC5oaWRlQ29sdW1uKHRoaXMsIGEpOwogIH0sIGMuYWRkUm93ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLmFkZFJvdyh0aGlzLCBhKTsKICB9LCBjLnVwZGF0ZVJvdyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gZC51cGRhdGVSb3codGhpcywgYSwgYik7CiAgfSwgYy5zZXRDZWxsQ29udGVudCA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICBkLnNldENlbGxDb250ZW50KHRoaXMsIGEsIGIsIGMpOwogIH0sIGMucmVtb3ZlUm93ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLnJlbW92ZVJvdyh0aGlzLCBhKTsKICB9LCAkLmV4dGVuZChhLCBjKSwgImdyaWQiICE9PSBhLmF0dHIoImRhdGEtdHlwZSIpICYmIGQuaW5pdC5jYWxsKGEsIGIpLCBhOwp9LCBnai5ncmlkLndpZGdldC5wcm90b3R5cGUgPSBuZXcgZ2oud2lkZ2V0KCksIGdqLmdyaWQud2lkZ2V0LmNvbnN0cnVjdG9yID0gZ2ouZ3JpZC53aWRnZXQsIGdqLmdyaWQud2lkZ2V0LnByb3RvdHlwZS5nZXRDb25maWcgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q29uZmlnLCBnai5ncmlkLndpZGdldC5wcm90b3R5cGUuZ2V0SFRNTENvbmZpZyA9IGdqLmdyaWQubWV0aG9kcy5nZXRIVE1MQ29uZmlnLCBmdW5jdGlvbiAoYSkgewogIGEuZm4uZ3JpZCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYjsKCiAgICBpZiAodGhpcyAmJiB0aGlzLmxlbmd0aCkgewogICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZihhKSAmJiBhKSB7CiAgICAgICAgaWYgKGIgPSBuZXcgZ2ouZ3JpZC53aWRnZXQodGhpcywgbnVsbCksIGJbYV0pIHJldHVybiBiW2FdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpOwogICAgICAgIHRocm93ICJNZXRob2QgIiArIGEgKyAiIGRvZXMgbm90IGV4aXN0LiI7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgZ2ouZ3JpZC53aWRnZXQodGhpcywgYSk7CiAgICB9CiAgfTsKfShqUXVlcnkpLCBnai5ncmlkLnBsdWdpbnMuZml4ZWRIZWFkZXIgPSB7CiAgY29uZmlnOiB7CiAgICBiYXNlOiB7CiAgICAgIGZpeGVkSGVhZGVyOiAhMSwKICAgICAgaGVpZ2h0OiAzMDAKICAgIH0KICB9LAogIHByaXZhdGU6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgICB2YXIgYiA9IGEuZGF0YSgpLAogICAgICAgICAgYyA9IGEuY2hpbGRyZW4oInRib2R5IiksCiAgICAgICAgICBkID0gYS5jaGlsZHJlbigidGhlYWQiKSwKICAgICAgICAgIGUgPSBiLmhlaWdodCAtIGQub3V0ZXJIZWlnaHQoKSAtIChhLmNoaWxkcmVuKCJ0Zm9vdCIpLm91dGVySGVpZ2h0KCkgfHwgMCk7CiAgICAgIGEuYWRkQ2xhc3MoImdqLWdyaWQtc2Nyb2xsYWJsZSIpLCBjLmNzcygid2lkdGgiLCBkLm91dGVyV2lkdGgoKSksIGMuaGVpZ2h0KGUpOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goYSkgewogICAgICB2YXIgYiwKICAgICAgICAgIGMsCiAgICAgICAgICBkID0gKGEuZGF0YSgpLCBhLmNoaWxkcmVuKCJ0Ym9keSIpKSwKICAgICAgICAgIGUgPSBhLmNoaWxkcmVuKCJ0aGVhZCIpLAogICAgICAgICAgZiA9IGEuZmluZCgndGJvZHkgdHJbZGF0YS1yb2xlPSJyb3ciXSB0ZCcpLAogICAgICAgICAgZyA9IGEuZmluZCgndGhlYWQgdHJbZGF0YS1yb2xlPSJjYXB0aW9uIl0gdGgnKTsKCiAgICAgIGZvciAoYS5jaGlsZHJlbigidGJvZHkiKS5oZWlnaHQoKSA8IGdqLmdyaWQucGx1Z2lucy5maXhlZEhlYWRlci5wcml2YXRlLmdldFJvd3NIZWlnaHQoYSkgPyBkLmNzcygid2lkdGgiLCBlLm91dGVyV2lkdGgoKSArIGdqLmdyaWQucGx1Z2lucy5maXhlZEhlYWRlci5wcml2YXRlLmdldFNjcm9sbEJhcldpZHRoKCkgKyAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImZpcmVmb3giKSA+IC0xID8gMSA6IDApKSA6IGQuY3NzKCJ3aWR0aCIsIGUub3V0ZXJXaWR0aCgpKSwgYiA9IDA7IGIgPCBnLmxlbmd0aDsgYisrKSB7CiAgICAgICAgYyA9ICQoZ1tiXSkub3V0ZXJXaWR0aCgpLCAwID09PSBiICYmIGdqLmNvcmUuaXNJRSgpICYmIChjIC09IDEpLCAkKGZbYl0pLmF0dHIoIndpZHRoIiwgYyk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSb3dzSGVpZ2h0OiBmdW5jdGlvbiBnZXRSb3dzSGVpZ2h0KGEpIHsKICAgICAgdmFyIGIgPSAwOwogICAgICByZXR1cm4gYS5maW5kKCJ0Ym9keSB0ciIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIGIgKz0gJCh0aGlzKS5oZWlnaHQoKTsKICAgICAgfSksIGI7CiAgICB9LAogICAgZ2V0U2Nyb2xsQmFyV2lkdGg6IGZ1bmN0aW9uIGdldFNjcm9sbEJhcldpZHRoKCkgewogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsKICAgICAgYS5zdHlsZS53aWR0aCA9ICIxMDAlIiwgYS5zdHlsZS5oZWlnaHQgPSAiMjAwcHgiOwogICAgICB2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBiLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIiwgYi5zdHlsZS50b3AgPSAiMHB4IiwgYi5zdHlsZS5sZWZ0ID0gIjBweCIsIGIuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iLCBiLnN0eWxlLndpZHRoID0gIjIwMHB4IiwgYi5zdHlsZS5oZWlnaHQgPSAiMTUwcHgiLCBiLnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiIsIGIuYXBwZW5kQ2hpbGQoYSksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYik7CiAgICAgIHZhciBjID0gYS5vZmZzZXRXaWR0aDsKICAgICAgYi5zdHlsZS5vdmVyZmxvdyA9ICJzY3JvbGwiOwogICAgICB2YXIgZCA9IGEub2Zmc2V0V2lkdGg7CiAgICAgIHJldHVybiBjID09IGQgJiYgKGQgPSBiLmNsaWVudFdpZHRoKSwgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChiKSwgYyAtIGQ7CiAgICB9CiAgfSwKICBwdWJsaWM6IHt9LAogIGV2ZW50czoge30sCiAgY29uZmlndXJlOiBmdW5jdGlvbiBjb25maWd1cmUoYSwgYiwgYykgewogICAgJC5leHRlbmQoITAsIGEsIGdqLmdyaWQucGx1Z2lucy5maXhlZEhlYWRlci5wdWJsaWMpOwogICAgYS5kYXRhKCk7CiAgICBjLmZpeGVkSGVhZGVyICYmIChhLm9uKCJpbml0aWFsaXplZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLmZpeGVkSGVhZGVyLnByaXZhdGUuaW5pdChhKTsKICAgIH0pLCBhLm9uKCJkYXRhQm91bmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLmdyaWQucGx1Z2lucy5maXhlZEhlYWRlci5wcml2YXRlLnJlZnJlc2goYSk7CiAgICB9KSwgYS5vbigicmVzaXplIiwgZnVuY3Rpb24gKCkgewogICAgICBnai5ncmlkLnBsdWdpbnMuZml4ZWRIZWFkZXIucHJpdmF0ZS5yZWZyZXNoKGEpOwogICAgfSkpOwogIH0KfSwgZ2ouZ3JpZC5wbHVnaW5zLmV4cGFuZENvbGxhcHNlUm93cyA9IHsKICBjb25maWc6IHsKICAgIGJhc2U6IHsKICAgICAgZGV0YWlsVGVtcGxhdGU6IHZvaWQgMCwKICAgICAga2VlcEV4cGFuZGVkUm93czogITAsCiAgICAgIGV4cGFuZGVkUm93czogW10sCiAgICAgIGljb25zOiB7CiAgICAgICAgZXhwYW5kUm93OiAnPGkgY2xhc3M9ImdqLWljb24gY2hldnJvbi1yaWdodCIgLz4nLAogICAgICAgIGNvbGxhcHNlUm93OiAnPGkgY2xhc3M9ImdqLWljb24gY2hldnJvbi1kb3duIiAvPicKICAgICAgfQogICAgfSwKICAgIGZvbnRhd2Vzb21lOiB7CiAgICAgIGljb25zOiB7CiAgICAgICAgZXhwYW5kUm93OiAnPGkgY2xhc3M9ImZhIGZhLWFuZ2xlLXJpZ2h0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgICAgY29sbGFwc2VSb3c6ICc8aSBjbGFzcz0iZmEgZmEtYW5nbGUtZG93biIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nCiAgICAgIH0KICAgIH0sCiAgICBnbHlwaGljb25zOiB7CiAgICAgIGljb25zOiB7CiAgICAgICAgZXhwYW5kUm93OiAnPHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCIgLz4nLAogICAgICAgIGNvbGxhcHNlUm93OiAnPHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duIiAvPicKICAgICAgfQogICAgfQogIH0sCiAgcHJpdmF0ZTogewogICAgZXhwYW5kRGV0YWlsOiBmdW5jdGlvbiBleHBhbmREZXRhaWwoYSwgYiwgYykgewogICAgICB2YXIgZCA9IGIuY2xvc2VzdCgidHIiKSwKICAgICAgICAgIGUgPSAkKCc8dHIgZGF0YS1yb2xlPSJkZXRhaWxzIiAvPicpLAogICAgICAgICAgZiA9ICQoJzx0ZCBjb2xzcGFuPSInICsgZ2ouZ3JpZC5tZXRob2RzLmNvdW50VmlzaWJsZUNvbHVtbnMoYSkgKyAnIiAvPicpLAogICAgICAgICAgZyA9ICQoJzxkaXYgZGF0YS1yb2xlPSJkaXNwbGF5IiAvPicpLAogICAgICAgICAgaCA9IGEuZGF0YSgpLAogICAgICAgICAgaSA9IGQuZGF0YSgicG9zaXRpb24iKSwKICAgICAgICAgIGogPSBhLmdldChpKSwKICAgICAgICAgIGsgPSBnai5ncmlkLnBsdWdpbnMuZXhwYW5kQ29sbGFwc2VSb3dzOwogICAgICB2b2lkIDAgPT09IF90eXBlb2YoYykgJiYgKGMgPSBnai5ncmlkLm1ldGhvZHMuZ2V0SWQoaiwgaC5wcmltYXJ5S2V5LCBqKSksIGUuYXBwZW5kKGYuYXBwZW5kKGcuYXBwZW5kKGQuZGF0YSgiZGV0YWlscyIpKSkpLCBlLmluc2VydEFmdGVyKGQpLCBiLmNoaWxkcmVuKCdkaXZbZGF0YS1yb2xlPSJkaXNwbGF5Il0nKS5lbXB0eSgpLmFwcGVuZChoLmljb25zLmNvbGxhcHNlUm93KSwgYS51cGRhdGVEZXRhaWxzKGQpLCBrLnByaXZhdGUua2VlcFNlbGVjdGlvbihhLCBjKSwgay5ldmVudHMuZGV0YWlsRXhwYW5kKGEsIGUuZmluZCgidGQ+ZGl2IiksIGMpOwogICAgfSwKICAgIGNvbGxhcHNlRGV0YWlsOiBmdW5jdGlvbiBjb2xsYXBzZURldGFpbChhLCBiLCBjKSB7CiAgICAgIHZhciBkID0gYi5jbG9zZXN0KCJ0ciIpLAogICAgICAgICAgZSA9IGQubmV4dCgndHJbZGF0YS1yb2xlPSJkZXRhaWxzIl0nKSwKICAgICAgICAgIGYgPSBhLmRhdGEoKSwKICAgICAgICAgIGcgPSBnai5ncmlkLnBsdWdpbnMuZXhwYW5kQ29sbGFwc2VSb3dzOwogICAgICB2b2lkIDAgPT09IF90eXBlb2YoYykgJiYgKGMgPSBnai5ncmlkLm1ldGhvZHMuZ2V0SWQocmVjb3JkLCBmLnByaW1hcnlLZXksIHJlY29yZCkpLCBlLnJlbW92ZSgpLCBiLmNoaWxkcmVuKCdkaXZbZGF0YS1yb2xlPSJkaXNwbGF5Il0nKS5lbXB0eSgpLmFwcGVuZChmLmljb25zLmV4cGFuZFJvdyksIGcucHJpdmF0ZS5yZW1vdmVTZWxlY3Rpb24oYSwgYyksIGcuZXZlbnRzLmRldGFpbENvbGxhcHNlKGEsIGUuZmluZCgidGQ+ZGl2IiksIGMpOwogICAgfSwKICAgIGtlZXBTZWxlY3Rpb246IGZ1bmN0aW9uIGtlZXBTZWxlY3Rpb24oYSwgYikgewogICAgICB2YXIgYyA9IGEuZGF0YSgpOwogICAgICBjLmtlZXBFeHBhbmRlZFJvd3MgJiYgKCQuaXNBcnJheShjLmV4cGFuZGVkUm93cykgPyAtMSA9PSBjLmV4cGFuZGVkUm93cy5pbmRleE9mKGIpICYmIGMuZXhwYW5kZWRSb3dzLnB1c2goYikgOiBjLmV4cGFuZGVkUm93cyA9IFtiXSk7CiAgICB9LAogICAgcmVtb3ZlU2VsZWN0aW9uOiBmdW5jdGlvbiByZW1vdmVTZWxlY3Rpb24oYSwgYikgewogICAgICB2YXIgYyA9IGEuZGF0YSgpOwogICAgICBjLmtlZXBFeHBhbmRlZFJvd3MgJiYgJC5pc0FycmF5KGMuZXhwYW5kZWRSb3dzKSAmJiBjLmV4cGFuZGVkUm93cy5pbmRleE9mKGIpID4gLTEgJiYgYy5leHBhbmRlZFJvd3Muc3BsaWNlKGMuZXhwYW5kZWRSb3dzLmluZGV4T2YoYiksIDEpOwogICAgfSwKICAgIHVwZGF0ZURldGFpbHNDb2xTcGFuOiBmdW5jdGlvbiB1cGRhdGVEZXRhaWxzQ29sU3BhbihhKSB7CiAgICAgIHZhciBiID0gYS5maW5kKCd0Ym9keSA+IHRyW2RhdGEtcm9sZT0iZGV0YWlscyJdID4gdGQnKTsKICAgICAgYiAmJiBiLmxlbmd0aCAmJiBiLmF0dHIoImNvbHNwYW4iLCBnai5ncmlkLm1ldGhvZHMuY291bnRWaXNpYmxlQ29sdW1ucyhhKSk7CiAgICB9CiAgfSwKICBwdWJsaWM6IHsKICAgIGNvbGxhcHNlQWxsOiBmdW5jdGlvbiBjb2xsYXBzZUFsbCgpIHsKICAgICAgdmFyIGEsCiAgICAgICAgICBiID0gdGhpcywKICAgICAgICAgIGMgPSBiLmRhdGEoKTsKICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYy5kZXRhaWxUZW1wbGF0ZSAmJiAoYSA9IGdqLmdyaWQubWV0aG9kcy5nZXRDb2x1bW5Qb3NpdGlvbkJ5Um9sZShiLCAiZXhwYW5kZXIiKSwgYi5maW5kKCd0Ym9keSB0cltkYXRhLXJvbGU9InJvdyJdJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgZ2ouZ3JpZC5wbHVnaW5zLmV4cGFuZENvbGxhcHNlUm93cy5wcml2YXRlLmNvbGxhcHNlRGV0YWlsKGIsICQodGhpcykuZmluZCgidGQ6ZXEoIiArIGEgKyAiKSIpKTsKICAgICAgfSkpLCB2b2lkIDAgIT09IGMuZ3JvdXBpbmcgJiYgYi5maW5kKCd0Ym9keSB0cltyb2xlPSJncm91cCJdJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgZ2ouZ3JpZC5wbHVnaW5zLmdyb3VwaW5nLnByaXZhdGUuY29sbGFwc2VHcm91cChjLCAkKHRoaXMpLmZpbmQoInRkOmVxKDApIikpOwogICAgICB9KSwgYjsKICAgIH0sCiAgICBleHBhbmRBbGw6IGZ1bmN0aW9uIGV4cGFuZEFsbCgpIHsKICAgICAgdmFyIGEsCiAgICAgICAgICBiID0gdGhpcywKICAgICAgICAgIGMgPSBiLmRhdGEoKTsKICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYy5kZXRhaWxUZW1wbGF0ZSAmJiAoYSA9IGdqLmdyaWQubWV0aG9kcy5nZXRDb2x1bW5Qb3NpdGlvbkJ5Um9sZShiLCAiZXhwYW5kZXIiKSwgYi5maW5kKCd0Ym9keSB0cltkYXRhLXJvbGU9InJvdyJdJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgZ2ouZ3JpZC5wbHVnaW5zLmV4cGFuZENvbGxhcHNlUm93cy5wcml2YXRlLmV4cGFuZERldGFpbChiLCAkKHRoaXMpLmZpbmQoInRkOmVxKCIgKyBhICsgIikiKSk7CiAgICAgIH0pKSwgdm9pZCAwICE9PSBjLmdyb3VwaW5nICYmIGIuZmluZCgndGJvZHkgdHJbcm9sZT0iZ3JvdXAiXScpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIGdqLmdyaWQucGx1Z2lucy5ncm91cGluZy5wcml2YXRlLmV4cGFuZEdyb3VwKGMsICQodGhpcykuZmluZCgidGQ6ZXEoMCkiKSk7CiAgICAgIH0pLCBiOwogICAgfSwKICAgIHVwZGF0ZURldGFpbHM6IGZ1bmN0aW9uIHVwZGF0ZURldGFpbHMoYSkgewogICAgICB2YXIgYiA9IHRoaXMsCiAgICAgICAgICBjID0gYS5kYXRhKCJkZXRhaWxzIiksCiAgICAgICAgICBkID0gYy5odG1sKCksCiAgICAgICAgICBlID0gYi5nZXQoYS5kYXRhKCJwb3NpdGlvbiIpKTsKICAgICAgcmV0dXJuIGUgJiYgZCAmJiAoYy5odG1sKCkucmVwbGFjZSgvXHsoLis/KVx9L2csIGZ1bmN0aW9uIChhLCBjKSB7CiAgICAgICAgdmFyIGYgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q29sdW1uSW5mbyhiLCBjKTsKICAgICAgICBkID0gZC5yZXBsYWNlKGEsIGdqLmdyaWQubWV0aG9kcy5mb3JtYXRUZXh0KGVbY10sIGYpKTsKICAgICAgfSksIGMuaHRtbChkKSksIGI7CiAgICB9CiAgfSwKICBldmVudHM6IHsKICAgIGRldGFpbEV4cGFuZDogZnVuY3Rpb24gZGV0YWlsRXhwYW5kKGEsIGIsIGMpIHsKICAgICAgYS50cmlnZ2VySGFuZGxlcigiZGV0YWlsRXhwYW5kIiwgW2IsIGNdKTsKICAgIH0sCiAgICBkZXRhaWxDb2xsYXBzZTogZnVuY3Rpb24gZGV0YWlsQ29sbGFwc2UoYSwgYiwgYykgewogICAgICBhLnRyaWdnZXJIYW5kbGVyKCJkZXRhaWxDb2xsYXBzZSIsIFtiLCBjXSk7CiAgICB9CiAgfSwKICBjb25maWd1cmU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShhKSB7CiAgICB2YXIgYiwKICAgICAgICBjID0gYS5kYXRhKCk7CiAgICAkLmV4dGVuZCghMCwgYSwgZ2ouZ3JpZC5wbHVnaW5zLmV4cGFuZENvbGxhcHNlUm93cy5wdWJsaWMpLCB2b2lkIDAgIT09IGMuZGV0YWlsVGVtcGxhdGUgJiYgKGIgPSB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgd2lkdGg6IGMuZGVmYXVsdEljb25Db2x1bW5XaWR0aCwKICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICBzdG9wUHJvcGFnYXRpb246ICEwLAogICAgICBjc3NDbGFzczogImdqLWN1cnNvci1wb2ludGVyIGdqLXVuc2VsZWN0YWJsZSIsCiAgICAgIHRtcGw6IGMuaWNvbnMuZXhwYW5kUm93LAogICAgICByb2xlOiAiZXhwYW5kZXIiLAogICAgICBldmVudHM6IHsKICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soYikgewogICAgICAgICAgdmFyIGMgPSAkKHRoaXMpLAogICAgICAgICAgICAgIGQgPSBnai5ncmlkLnBsdWdpbnMuZXhwYW5kQ29sbGFwc2VSb3dzLnByaXZhdGU7CiAgICAgICAgICAiZGV0YWlscyIgPT09IGMuY2xvc2VzdCgidHIiKS5uZXh0KCkuYXR0cigiZGF0YS1yb2xlIikgPyBkLmNvbGxhcHNlRGV0YWlsKGEsIGMsIGIuZGF0YS5pZCkgOiBkLmV4cGFuZERldGFpbChhLCAkKHRoaXMpLCBiLmRhdGEuaWQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgYy5jb2x1bW5zID0gW2JdLmNvbmNhdChjLmNvbHVtbnMpLCBhLm9uKCJyb3dEYXRhQm91bmQiLCBmdW5jdGlvbiAoYSwgYiwgZCwgZSkgewogICAgICBiLmRhdGEoImRldGFpbHMiLCAkKGMuZGV0YWlsVGVtcGxhdGUpKTsKICAgIH0pLCBhLm9uKCJjb2x1bW5TaG93IiwgZnVuY3Rpb24gKGIsIGMpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLmV4cGFuZENvbGxhcHNlUm93cy5wcml2YXRlLnVwZGF0ZURldGFpbHNDb2xTcGFuKGEpOwogICAgfSksIGEub24oImNvbHVtbkhpZGUiLCBmdW5jdGlvbiAoYiwgYykgewogICAgICBnai5ncmlkLnBsdWdpbnMuZXhwYW5kQ29sbGFwc2VSb3dzLnByaXZhdGUudXBkYXRlRGV0YWlsc0NvbFNwYW4oYSk7CiAgICB9KSwgYS5vbigicm93UmVtb3ZpbmciLCBmdW5jdGlvbiAoYiwgYywgZCwgZSkgewogICAgICBnai5ncmlkLnBsdWdpbnMuZXhwYW5kQ29sbGFwc2VSb3dzLnByaXZhdGUuY29sbGFwc2VEZXRhaWwoYSwgYy5jaGlsZHJlbigidGQiKS5maXJzdCgpLCBkKTsKICAgIH0pLCBhLm9uKCJkYXRhQmluZGluZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgYS5jb2xsYXBzZUFsbCgpOwogICAgfSksIGEub24oInBhZ2VDaGFuZ2luZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgYS5jb2xsYXBzZUFsbCgpOwogICAgfSksIGEub24oImRhdGFCb3VuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGIsCiAgICAgICAgICBjLAogICAgICAgICAgZCwKICAgICAgICAgIGUsCiAgICAgICAgICBmID0gYS5kYXRhKCk7CiAgICAgIGlmIChmLmtlZXBFeHBhbmRlZFJvd3MgJiYgJC5pc0FycmF5KGYuZXhwYW5kZWRSb3dzKSkgZm9yIChiID0gMDsgYiA8IGYuZXhwYW5kZWRSb3dzLmxlbmd0aDsgYisrKSB7CiAgICAgICAgKGQgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Um93QnlJZChhLCBmLmV4cGFuZGVkUm93c1tiXSkpICYmIGQubGVuZ3RoICYmIChlID0gZ2ouZ3JpZC5tZXRob2RzLmdldENvbHVtblBvc2l0aW9uQnlSb2xlKGEsICJleHBhbmRlciIpLCAoYyA9IGQuY2hpbGRyZW4oInRkOmVxKCIgKyBlICsgIikiKSkgJiYgYy5sZW5ndGggJiYgZ2ouZ3JpZC5wbHVnaW5zLmV4cGFuZENvbGxhcHNlUm93cy5wcml2YXRlLmV4cGFuZERldGFpbChhLCBjKSk7CiAgICAgIH0KICAgIH0pKTsKICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nID0gewogIHJlbmRlcmVyczogewogICAgZWRpdE1hbmFnZXI6IGZ1bmN0aW9uIGVkaXRNYW5hZ2VyKGEsIGIsIGMsIGQsIGUsIGYpIHsKICAgICAgdmFyIGcgPSBmLmRhdGEoKSwKICAgICAgICAgIGggPSAkKGcuaW5saW5lRWRpdGluZy5lZGl0QnV0dG9uKS5hdHRyKCJrZXkiLCBlKSwKICAgICAgICAgIGkgPSAkKGcuaW5saW5lRWRpdGluZy5kZWxldGVCdXR0b24pLmF0dHIoImtleSIsIGUpLAogICAgICAgICAgaiA9ICQoZy5pbmxpbmVFZGl0aW5nLnVwZGF0ZUJ1dHRvbikuYXR0cigia2V5IiwgZSkuaGlkZSgpLAogICAgICAgICAgayA9ICQoZy5pbmxpbmVFZGl0aW5nLmNhbmNlbEJ1dHRvbikuYXR0cigia2V5IiwgZSkuaGlkZSgpOwogICAgICBoLm9uKCJjbGljayIsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgZi5lZGl0KCQodGhpcykuYXR0cigia2V5IikpOwogICAgICB9KSwgaS5vbigiY2xpY2siLCBmdW5jdGlvbiAoYSkgewogICAgICAgIGYucmVtb3ZlUm93KCQodGhpcykuYXR0cigia2V5IikpOwogICAgICB9KSwgai5vbigiY2xpY2siLCBmdW5jdGlvbiAoYSkgewogICAgICAgIGYudXBkYXRlKCQodGhpcykuYXR0cigia2V5IikpOwogICAgICB9KSwgay5vbigiY2xpY2siLCBmdW5jdGlvbiAoYSkgewogICAgICAgIGYuY2FuY2VsKCQodGhpcykuYXR0cigia2V5IikpOwogICAgICB9KSwgZC5lbXB0eSgpLmFwcGVuZChoKS5hcHBlbmQoaSkuYXBwZW5kKGopLmFwcGVuZChrKTsKICAgIH0KICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLmNvbmZpZyA9IHsKICBiYXNlOiB7CiAgICBkZWZhdWx0Q29sdW1uU2V0dGluZ3M6IHsKICAgICAgZWRpdG9yOiB2b2lkIDAsCiAgICAgIGVkaXRGaWVsZDogdm9pZCAwLAogICAgICBtb2RlOiAicmVhZEVkaXQiCiAgICB9LAogICAgaW5saW5lRWRpdGluZzogewogICAgICBtb2RlOiAiY2xpY2siLAogICAgICBtYW5hZ2VtZW50Q29sdW1uOiAhMCwKICAgICAgbWFuYWdlbWVudENvbHVtbkNvbmZpZzogewogICAgICAgIHdpZHRoOiAzMDAsCiAgICAgICAgcm9sZTogIm1hbmFnZW1lbnRDb2x1bW4iLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICByZW5kZXJlcjogZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcucmVuZGVyZXJzLmVkaXRNYW5hZ2VyLAogICAgICAgIGNzc0NsYXNzOiAiZ2otZ3JpZC1tYW5hZ2VtZW50LWNvbHVtbiIKICAgICAgfQogICAgfQogIH0sCiAgYm9vdHN0cmFwOiB7CiAgICBpbmxpbmVFZGl0aW5nOiB7CiAgICAgIG1hbmFnZW1lbnRDb2x1bW5Db25maWc6IHsKICAgICAgICB3aWR0aDogMjAwLAogICAgICAgIHJvbGU6ICJtYW5hZ2VtZW50Q29sdW1uIiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgcmVuZGVyZXI6IGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLnJlbmRlcmVycy5lZGl0TWFuYWdlciwKICAgICAgICBjc3NDbGFzczogImdqLWdyaWQtbWFuYWdlbWVudC1jb2x1bW4iCiAgICAgIH0KICAgIH0KICB9LAogIGJvb3RzdHJhcDQ6IHsKICAgIGlubGluZUVkaXRpbmc6IHsKICAgICAgbWFuYWdlbWVudENvbHVtbkNvbmZpZzogewogICAgICAgIHdpZHRoOiAyODAsCiAgICAgICAgcm9sZTogIm1hbmFnZW1lbnRDb2x1bW4iLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICByZW5kZXJlcjogZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcucmVuZGVyZXJzLmVkaXRNYW5hZ2VyLAogICAgICAgIGNzc0NsYXNzOiAiZ2otZ3JpZC1tYW5hZ2VtZW50LWNvbHVtbiIKICAgICAgfQogICAgfQogIH0KfSwgZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcucHJpdmF0ZSA9IHsKICBsb2NhbGl6YXRpb246IGZ1bmN0aW9uIGxvY2FsaXphdGlvbihhKSB7CiAgICAiYm9vdHN0cmFwIiA9PT0gYS51aUxpYnJhcnkgPyAoYS5pbmxpbmVFZGl0aW5nLmVkaXRCdXR0b24gPSAnPGJ1dHRvbiByb2xlPSJlZGl0IiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tcGVuY2lsIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9zcGFuPiAnICsgZ2ouZ3JpZC5tZXNzYWdlc1thLmxvY2FsZV0uRWRpdCArICI8L2J1dHRvbj4iLCBhLmlubGluZUVkaXRpbmcuZGVsZXRlQnV0dG9uID0gJzxidXR0b24gcm9sZT0iZGVsZXRlIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBnai1tYXJnaW4tbGVmdC0xMCI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9zcGFuPiAnICsgZ2ouZ3JpZC5tZXNzYWdlc1thLmxvY2FsZV0uRGVsZXRlICsgIjwvYnV0dG9uPiIsIGEuaW5saW5lRWRpdGluZy51cGRhdGVCdXR0b24gPSAnPGJ1dHRvbiByb2xlPSJ1cGRhdGUiIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1vayIgYXJpYS1oaWRkZW49InRydWUiPjwvc3Bhbj4gJyArIGdqLmdyaWQubWVzc2FnZXNbYS5sb2NhbGVdLlVwZGF0ZSArICI8L2J1dHRvbj4iLCBhLmlubGluZUVkaXRpbmcuY2FuY2VsQnV0dG9uID0gJzxidXR0b24gcm9sZT0iY2FuY2VsIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBnai1tYXJnaW4tbGVmdC0xMCI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tYmFuLWNpcmNsZSIgYXJpYS1oaWRkZW49InRydWUiPjwvc3Bhbj4gJyArIGdqLmdyaWQubWVzc2FnZXNbYS5sb2NhbGVdLkNhbmNlbCArICI8L2J1dHRvbj4iKSA6IChhLmlubGluZUVkaXRpbmcuZWRpdEJ1dHRvbiA9ICc8YnV0dG9uIHJvbGU9ImVkaXQiIGNsYXNzPSJnai1idXR0b24tbWQiPjxpIGNsYXNzPSJnai1pY29uIHBlbmNpbCIgLz4gJyArIGdqLmdyaWQubWVzc2FnZXNbYS5sb2NhbGVdLkVkaXQudG9VcHBlckNhc2UoKSArICI8L2J1dHRvbj4iLCBhLmlubGluZUVkaXRpbmcuZGVsZXRlQnV0dG9uID0gJzxidXR0b24gcm9sZT0iZGVsZXRlIiBjbGFzcz0iZ2otYnV0dG9uLW1kIj48aSBjbGFzcz0iZ2otaWNvbiBkZWxldGUiIC8+ICcgKyBnai5ncmlkLm1lc3NhZ2VzW2EubG9jYWxlXS5EZWxldGUudG9VcHBlckNhc2UoKSArICI8L2J1dHRvbj4iLCBhLmlubGluZUVkaXRpbmcudXBkYXRlQnV0dG9uID0gJzxidXR0b24gcm9sZT0idXBkYXRlIiBjbGFzcz0iZ2otYnV0dG9uLW1kIj48aSBjbGFzcz0iZ2otaWNvbiBjaGVjay1jaXJjbGUiIC8+ICcgKyBnai5ncmlkLm1lc3NhZ2VzW2EubG9jYWxlXS5VcGRhdGUudG9VcHBlckNhc2UoKSArICI8L2J1dHRvbj4iLCBhLmlubGluZUVkaXRpbmcuY2FuY2VsQnV0dG9uID0gJzxidXR0b24gcm9sZT0iY2FuY2VsIiBjbGFzcz0iZ2otYnV0dG9uLW1kIj48aSBjbGFzcz0iZ2otaWNvbiBjYW5jZWwiIC8+ICcgKyBnai5ncmlkLm1lc3NhZ2VzW2EubG9jYWxlXS5DYW5jZWwudG9VcHBlckNhc2UoKSArICI8L2J1dHRvbj4iKTsKICB9LAogIGVkaXRNb2RlOiBmdW5jdGlvbiBlZGl0TW9kZShhLCBiLCBjLCBkKSB7CiAgICB2YXIgZSwKICAgICAgICBmLAogICAgICAgIGcsCiAgICAgICAgaCwKICAgICAgICBpLAogICAgICAgIGogPSBhLmRhdGEoKTsKICAgIGlmICgiZWRpdCIgIT09IGIuYXR0cigiZGF0YS1tb2RlIikpIGlmIChjLmVkaXRvcikgewogICAgICBpZiAoZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcucHJpdmF0ZS51cGRhdGVPdGhlckNlbGxzKGEsIGMubW9kZSksIGUgPSBiLmZpbmQoJ2RpdltkYXRhLXJvbGU9ImRpc3BsYXkiXScpLmhpZGUoKSwgZiA9IGIuZmluZCgnZGl2W2RhdGEtcm9sZT0iZWRpdCJdJykuc2hvdygpLCAwID09PSBmLmxlbmd0aCAmJiAoZiA9ICQoJzxkaXYgZGF0YS1yb2xlPSJlZGl0IiAvPicpLCBiLmFwcGVuZChmKSksIGggPSBkW2MuZWRpdEZpZWxkIHx8IGMuZmllbGRdLCBnID0gZi5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSIpLmZpcnN0KCksIGcubGVuZ3RoKSBzd2l0Y2ggKGMudHlwZSkgewogICAgICAgIGNhc2UgImNoZWNrYm94IjoKICAgICAgICAgIGcucHJvcCgiY2hlY2tlZCIsIGgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImRyb3Bkb3duIjoKICAgICAgICAgIGcgPSBnLmRyb3Bkb3duKCJ2YWx1ZSIsIGgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBnLnZhbChoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5lZGl0b3IpIGMuZWRpdG9yKGYsIGgsIGQpLCBnID0gZi5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSIpLmZpcnN0KCk7ZWxzZSBpZiAoaSA9ICJvYmplY3QiID09IF90eXBlb2YoYy5lZGl0b3IpID8gYy5lZGl0b3IgOiB7fSwgaS51aUxpYnJhcnkgPSBqLnVpTGlicmFyeSwgaS5pY29uc0xpYnJhcnkgPSBqLmljb25zTGlicmFyeSwgaS5mb250U2l6ZSA9IGEuY3NzKCJmb250LXNpemUiKSwgaS5zaG93T25Gb2N1cyA9ICExLCAiY2hlY2tib3giID09PSBjLnR5cGUgJiYgZ2ouY2hlY2tib3gpIGcgPSAkKCc8aW5wdXQgdHlwZT0iY2hlY2tib3giIC8+JykucHJvcCgiY2hlY2tlZCIsIGgpLCBmLmFwcGVuZChnKSwgZy5jaGVja2JveChpKTtlbHNlIGlmICgiZGF0ZSIgPT09IGMudHlwZSAmJiBnai5kYXRlcGlja2VyIHx8ICJ0aW1lIiA9PT0gYy50eXBlICYmIGdqLnRpbWVwaWNrZXIgfHwgImRhdGV0aW1lIiA9PT0gYy50eXBlICYmIGdqLmRhdGV0aW1lcGlja2VyKSB7CiAgICAgICAgICBzd2l0Y2ggKGcgPSAkKCc8aW5wdXQgdHlwZT0idGV4dCIgd2lkdGg9IjEwMCUiLz4nKSwgZi5hcHBlbmQoZyksIGMuZm9ybWF0ICYmIChpLmZvcm1hdCA9IGMuZm9ybWF0KSwgYy50eXBlKSB7CiAgICAgICAgICAgIGNhc2UgImRhdGUiOgogICAgICAgICAgICAgIGcgPSBnLmRhdGVwaWNrZXIoaSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJ0aW1lIjoKICAgICAgICAgICAgICBnID0gZy50aW1lcGlja2VyKGkpOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAiZGF0ZXRpbWUiOgogICAgICAgICAgICAgIGcgPSBnLmRhdGV0aW1lcGlja2VyKGkpOwogICAgICAgICAgfQoKICAgICAgICAgIGcudmFsdWUgJiYgZy52YWx1ZShlLmh0bWwoKSk7CiAgICAgICAgfSBlbHNlICJkcm9wZG93biIgPT09IGMudHlwZSAmJiBnai5kcm9wZG93biA/IChnID0gJCgnPHNlbGVjdCB0eXBlPSJ0ZXh0IiB3aWR0aD0iMTAwJSIvPicpLCBmLmFwcGVuZChnKSwgaS5kYXRhQm91bmQgPSBmdW5jdGlvbiAoYSkgewogICAgICAgICAgdmFyIGIgPSAkKHRoaXMpLmRyb3Bkb3duKCk7CiAgICAgICAgICBjLmVkaXRGaWVsZCA/IGIudmFsdWUoZFtjLmVkaXRGaWVsZF0pIDogYi52YWx1ZShkW2MuZmllbGRdKTsKICAgICAgICB9LCBnID0gZy5kcm9wZG93bihpKSkgOiAoZyA9ICQoJzxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0iJyArIGggKyAnIiBjbGFzcz0iZ2otd2lkdGgtZnVsbCIvPicpLCAibWF0ZXJpYWxkZXNpZ24iID09PSBqLnVpTGlicmFyeSAmJiBnLmFkZENsYXNzKCJnai10ZXh0Ym94LW1kIikuY3NzKCJmb250LXNpemUiLCBhLmNzcygiZm9udC1zaXplIikpLCBmLmFwcGVuZChnKSk7CiAgICAgICAgImNvbW1hbmQiICE9PSBqLmlubGluZUVkaXRpbmcubW9kZSAmJiAiZWRpdE9ubHkiICE9PSBjLm1vZGUgJiYgKGcgPSBmLmZpbmQoImlucHV0LCBzZWxlY3QsIHRleHRhcmVhIikuZmlyc3QoKSwgZy5vbigia2V5dXAiLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgMTMgIT09IGQua2V5Q29kZSAmJiAyNyAhPT0gZC5rZXlDb2RlIHx8IGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLnByaXZhdGUuZGlzcGxheU1vZGUoYSwgYiwgYyk7CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgICJJTlBVVCIgPT09IGcucHJvcCgidGFnTmFtZSIpLnRvVXBwZXJDYXNlKCkgJiYgIlRFWFQiID09PSBnLnByb3AoInR5cGUiKS50b1VwcGVyQ2FzZSgpID8gZ2ouY29yZS5zZXRDYXJldEF0RW5kKGdbMF0pIDogZy5mb2N1cygpLCBiLmF0dHIoImRhdGEtbW9kZSIsICJlZGl0Iik7CiAgICB9IGVsc2UgIm1hbmFnZW1lbnRDb2x1bW4iID09PSBjLnJvbGUgJiYgKGIuZmluZCgnW3JvbGU9ImVkaXQiXScpLmhpZGUoKSwgYi5maW5kKCdbcm9sZT0iZGVsZXRlIl0nKS5oaWRlKCksIGIuZmluZCgnW3JvbGU9InVwZGF0ZSJdJykuc2hvdygpLCBiLmZpbmQoJ1tyb2xlPSJjYW5jZWwiXScpLnNob3coKSk7CiAgfSwKICBkaXNwbGF5TW9kZTogZnVuY3Rpb24gZGlzcGxheU1vZGUoYSwgYiwgYywgZCkgewogICAgdmFyIGUsIGYsIGcsIGgsIGksIGosIGs7CiAgICAiZWRpdE9ubHkiICE9PSBjLm1vZGUgJiYgKCJlZGl0IiA9PT0gYi5hdHRyKCJkYXRhLW1vZGUiKSAmJiAoZSA9IGIuZmluZCgnZGl2W2RhdGEtcm9sZT0iZWRpdCJdJyksIGYgPSBiLmZpbmQoJ2RpdltkYXRhLXJvbGU9ImRpc3BsYXkiXScpLCBnID0gZS5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSIpLmZpcnN0KCksICJTRUxFQ1QiID09PSBnWzBdLnRhZ05hbWUudG9VcHBlckNhc2UoKSAmJiBnWzBdLnNlbGVjdGVkSW5kZXggPiAtMSA/IChoID0gZ1swXS5vcHRpb25zW2dbMF0uc2VsZWN0ZWRJbmRleF0uaW5uZXJIVE1MLCBpID0gZ1swXS52YWx1ZSkgOiBoID0gIklOUFVUIiA9PT0gZ1swXS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgJiYgIkNIRUNLQk9YIiA9PT0gZ1swXS50eXBlLnRvVXBwZXJDYXNlKCkgPyBnWzBdLmNoZWNrZWQgOiBnLnZhbCgpLCBrID0gYi5wYXJlbnQoKS5kYXRhKCJwb3NpdGlvbiIpLCBqID0gYS5nZXQoayksICEwICE9PSBkICYmIGggIT09IGpbYy5maWVsZF0gJiYgKGpbYy5maWVsZF0gPSAiZGF0ZSIgPT09IGMudHlwZSA/IGdqLmNvcmUucGFyc2VEYXRlKGgsIGMuZm9ybWF0KSA6IGgsIGMuZWRpdEZpZWxkICYmIChqW2MuZWRpdEZpZWxkXSA9IGkgfHwgaCksICJlZGl0T25seSIgIT09IGMubW9kZSAmJiAoZ2ouZ3JpZC5tZXRob2RzLnJlbmRlckRpc3BsYXlFbGVtZW50KGEsIGYsIGMsIGosIGdqLmdyaWQubWV0aG9kcy5nZXRJZChqLCBhLmRhdGEoInByaW1hcnlLZXkiKSwgayksICJ1cGRhdGUiKSwgMCA9PT0gYi5maW5kKCJzcGFuLmdqLWRpcnR5IikubGVuZ3RoICYmIGIucHJlcGVuZCgkKCc8c3BhbiBjbGFzcz0iZ2otZGlydHkiIC8+JykpKSwgZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcuZXZlbnRzLmNlbGxEYXRhQ2hhbmdlZChhLCBiLCBjLCBqLCBoKSwgZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcucHJpdmF0ZS51cGRhdGVDaGFuZ2VzKGEsIGMsIGosIGgpKSwgZS5oaWRlKCksIGYuc2hvdygpLCBiLmF0dHIoImRhdGEtbW9kZSIsICJkaXNwbGF5IikpLCAibWFuYWdlbWVudENvbHVtbiIgPT09IGMucm9sZSAmJiAoYi5maW5kKCdbcm9sZT0idXBkYXRlIl0nKS5oaWRlKCksIGIuZmluZCgnW3JvbGU9ImNhbmNlbCJdJykuaGlkZSgpLCBiLmZpbmQoJ1tyb2xlPSJlZGl0Il0nKS5zaG93KCksIGIuZmluZCgnW3JvbGU9ImRlbGV0ZSJdJykuc2hvdygpKSk7CiAgfSwKICB1cGRhdGVPdGhlckNlbGxzOiBmdW5jdGlvbiB1cGRhdGVPdGhlckNlbGxzKGEsIGIpIHsKICAgIHZhciBjID0gYS5kYXRhKCk7CiAgICAiY29tbWFuZCIgIT09IGMuaW5saW5lRWRpdGluZy5tb2RlICYmICJlZGl0T25seSIgIT09IGIgJiYgYS5maW5kKCdkaXZbZGF0YS1yb2xlPSJlZGl0Il06dmlzaWJsZScpLnBhcmVudCgidGQiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGIgPSAkKHRoaXMpLAogICAgICAgICAgZCA9IGMuY29sdW1uc1tiLmluZGV4KCldOwogICAgICBnai5ncmlkLnBsdWdpbnMuaW5saW5lRWRpdGluZy5wcml2YXRlLmRpc3BsYXlNb2RlKGEsIGIsIGQpOwogICAgfSk7CiAgfSwKICB1cGRhdGVDaGFuZ2VzOiBmdW5jdGlvbiB1cGRhdGVDaGFuZ2VzKGEsIGIsIGMsIGQpIHsKICAgIHZhciBlLAogICAgICAgIGYsCiAgICAgICAgZywKICAgICAgICBoID0gYS5kYXRhKCk7CiAgICBoLmd1aWQgfHwgKGguZ3VpZCA9IGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLnByaXZhdGUuZ2VuZXJhdGVHVUlEKCkpLCBoLnByaW1hcnlLZXkgJiYgKGUgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImdqLmdyaWQuIiArIGguZ3VpZCkpLCBlID8gZiA9IGUuZmlsdGVyKGZ1bmN0aW9uIChhKSB7CiAgICAgIHJldHVybiBhW2gucHJpbWFyeUtleV0gPT09IGNbaC5wcmltYXJ5S2V5XTsKICAgIH0pIDogZSA9IFtdLCBmICYmIDEgPT09IGYubGVuZ3RoID8gZlswXVtiLmZpZWxkXSA9IGQgOiAoZyA9IHt9LCBnW2gucHJpbWFyeUtleV0gPSBjW2gucHJpbWFyeUtleV0sIGgucHJpbWFyeUtleSAhPT0gYi5maWVsZCAmJiAoZ1tiLmZpZWxkXSA9IGQpLCBlLnB1c2goZykpLCBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJnai5ncmlkLiIgKyBoLmd1aWQsIEpTT04uc3RyaW5naWZ5KGUpKSk7CiAgfSwKICBnZW5lcmF0ZUdVSUQ6IGZ1bmN0aW9uIGdlbmVyYXRlR1VJRCgpIHsKICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKDY1NTM2ICogKDEgKyBNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTsKICAgIH0KCiAgICByZXR1cm4gYSgpICsgYSgpICsgIi0iICsgYSgpICsgIi0iICsgYSgpICsgIi0iICsgYSgpICsgIi0iICsgYSgpICsgYSgpICsgYSgpOwogIH0KfSwgZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcucHVibGljID0gewogIGdldENoYW5nZXM6IGZ1bmN0aW9uIGdldENoYW5nZXMoKSB7CiAgICByZXR1cm4gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJnai5ncmlkLiIgKyB0aGlzLmRhdGEoKS5ndWlkKSk7CiAgfSwKICBlZGl0OiBmdW5jdGlvbiBlZGl0KGEpIHsKICAgIHZhciBiLAogICAgICAgIGMgPSB0aGlzLmdldEJ5SWQoYSksCiAgICAgICAgZCA9IGdqLmdyaWQubWV0aG9kcy5nZXRSb3dCeUlkKHRoaXMsIGEpLmNoaWxkcmVuKCJ0ZCIpLAogICAgICAgIGUgPSB0aGlzLmRhdGEoImNvbHVtbnMiKTsKCiAgICBmb3IgKGIgPSAwOyBiIDwgZC5sZW5ndGg7IGIrKykgewogICAgICBnai5ncmlkLnBsdWdpbnMuaW5saW5lRWRpdGluZy5wcml2YXRlLmVkaXRNb2RlKHRoaXMsICQoZFtiXSksIGVbYl0sIGMpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0sCiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IHRoaXMuZ2V0QnlJZChhKSwKICAgICAgICBkID0gZ2ouZ3JpZC5tZXRob2RzLmdldFJvd0J5SWQodGhpcywgYSkuY2hpbGRyZW4oInRkIiksCiAgICAgICAgZSA9IHRoaXMuZGF0YSgiY29sdW1ucyIpOwoKICAgIGZvciAoYiA9IDA7IGIgPCBkLmxlbmd0aDsgYisrKSB7CiAgICAgIGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLnByaXZhdGUuZGlzcGxheU1vZGUodGhpcywgJChkW2JdKSwgZVtiXSwgITEpOwogICAgfQoKICAgIHJldHVybiBnai5ncmlkLnBsdWdpbnMuaW5saW5lRWRpdGluZy5ldmVudHMucm93RGF0YUNoYW5nZWQodGhpcywgYSwgYyksIHRoaXM7CiAgfSwKICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChhKSB7CiAgICB2YXIgYiwKICAgICAgICBjID0gKHRoaXMuZ2V0QnlJZChhKSwgZ2ouZ3JpZC5tZXRob2RzLmdldFJvd0J5SWQodGhpcywgYSkuY2hpbGRyZW4oInRkIikpLAogICAgICAgIGQgPSB0aGlzLmRhdGEoImNvbHVtbnMiKTsKCiAgICBmb3IgKGIgPSAwOyBiIDwgYy5sZW5ndGg7IGIrKykgewogICAgICBnai5ncmlkLnBsdWdpbnMuaW5saW5lRWRpdGluZy5wcml2YXRlLmRpc3BsYXlNb2RlKHRoaXMsICQoY1tiXSksIGRbYl0sICEwKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLmV2ZW50cyA9IHsKICBjZWxsRGF0YUNoYW5nZWQ6IGZ1bmN0aW9uIGNlbGxEYXRhQ2hhbmdlZChhLCBiLCBjLCBkLCBlLCBmKSB7CiAgICBhLnRyaWdnZXJIYW5kbGVyKCJjZWxsRGF0YUNoYW5nZWQiLCBbYiwgYywgZCwgZSwgZl0pOwogIH0sCiAgcm93RGF0YUNoYW5nZWQ6IGZ1bmN0aW9uIHJvd0RhdGFDaGFuZ2VkKGEsIGIsIGMpIHsKICAgIGEudHJpZ2dlckhhbmRsZXIoInJvd0RhdGFDaGFuZ2VkIiwgW2IsIGNdKTsKICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgdmFyIGQgPSBhLmRhdGEoKTsKICAkLmV4dGVuZCghMCwgYSwgZ2ouZ3JpZC5wbHVnaW5zLmlubGluZUVkaXRpbmcucHVibGljKSwgYy5pbmxpbmVFZGl0aW5nICYmIChhLm9uKCJkYXRhQm91bmQiLCBmdW5jdGlvbiAoKSB7CiAgICBhLmZpbmQoInNwYW4uZ2otZGlydHkiKS5yZW1vdmUoKTsKICB9KSwgYS5vbigicm93RGF0YUJvdW5kIiwgZnVuY3Rpb24gKGIsIGMsIGQsIGUpIHsKICAgIGEuY2FuY2VsKGQpOwogIH0pKSwgImNvbW1hbmQiID09PSBkLmlubGluZUVkaXRpbmcubW9kZSA/IChnai5ncmlkLnBsdWdpbnMuaW5saW5lRWRpdGluZy5wcml2YXRlLmxvY2FsaXphdGlvbihkKSwgYi5pbmxpbmVFZGl0aW5nLm1hbmFnZW1lbnRDb2x1bW4gJiYgZC5jb2x1bW5zLnB1c2goYi5pbmxpbmVFZGl0aW5nLm1hbmFnZW1lbnRDb2x1bW5Db25maWcpKSA6IGEub24oImNlbGxEYXRhQm91bmQiLCBmdW5jdGlvbiAoYiwgYywgZSwgZiwgZykgewogICAgZi5lZGl0b3IgJiYgKCJlZGl0T25seSIgPT09IGYubW9kZSA/IGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLnByaXZhdGUuZWRpdE1vZGUoYSwgYy5wYXJlbnQoKSwgZiwgZykgOiBjLnBhcmVudCgidGQiKS5vbigiZGJsY2xpY2siID09PSBkLmlubGluZUVkaXRpbmcubW9kZSA/ICJkYmxjbGljayIgOiAiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLmdyaWQucGx1Z2lucy5pbmxpbmVFZGl0aW5nLnByaXZhdGUuZWRpdE1vZGUoYSwgYy5wYXJlbnQoKSwgZiwgZyk7CiAgICB9KSk7CiAgfSk7Cn0sIGdqLmdyaWQucGx1Z2lucy5vcHRpbWlzdGljUGVyc2lzdGVuY2UgPSB7CiAgY29uZmlnOiB7CiAgICBiYXNlOiB7CiAgICAgIG9wdGltaXN0aWNQZXJzaXN0ZW5jZTogewogICAgICAgIGxvY2FsU3RvcmFnZTogdm9pZCAwLAogICAgICAgIHNlc3Npb25TdG9yYWdlOiB2b2lkIDAKICAgICAgfQogICAgfQogIH0sCiAgcHJpdmF0ZTogewogICAgYXBwbHlQYXJhbXM6IGZ1bmN0aW9uIGFwcGx5UGFyYW1zKGEpIHsKICAgICAgdmFyIGIsCiAgICAgICAgICBjID0gYS5kYXRhKCksCiAgICAgICAgICBkID0ge307CiAgICAgIGIgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImdqLmdyaWQuIiArIGMuZ3VpZCkpLCBiICYmIGIub3B0aW1pc3RpY1BlcnNpc3RlbmNlICYmICQuZXh0ZW5kKGQsIGIub3B0aW1pc3RpY1BlcnNpc3RlbmNlKSwgYiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImdqLmdyaWQuIiArIGMuZ3VpZCkpLCBiICYmIGIub3B0aW1pc3RpY1BlcnNpc3RlbmNlICYmICQuZXh0ZW5kKGQsIGIub3B0aW1pc3RpY1BlcnNpc3RlbmNlKSwgJC5leHRlbmQoYy5wYXJhbXMsIGQpOwogICAgfSwKICAgIHNhdmVQYXJhbXM6IGZ1bmN0aW9uIHNhdmVQYXJhbXMoYSkgewogICAgICB2YXIgYiwKICAgICAgICAgIGMsCiAgICAgICAgICBkID0gYS5kYXRhKCksCiAgICAgICAgICBlID0gewogICAgICAgIG9wdGltaXN0aWNQZXJzaXN0ZW5jZToge30KICAgICAgfTsKCiAgICAgIGlmIChkLm9wdGltaXN0aWNQZXJzaXN0ZW5jZS5zZXNzaW9uU3RvcmFnZSkgewogICAgICAgIGZvciAoYiA9IDA7IGIgPCBkLm9wdGltaXN0aWNQZXJzaXN0ZW5jZS5zZXNzaW9uU3RvcmFnZS5sZW5ndGg7IGIrKykgewogICAgICAgICAgYyA9IGQub3B0aW1pc3RpY1BlcnNpc3RlbmNlLnNlc3Npb25TdG9yYWdlW2JdLCBlLm9wdGltaXN0aWNQZXJzaXN0ZW5jZVtjXSA9IGQucGFyYW1zW2NdOwogICAgICAgIH0KCiAgICAgICAgZSA9ICQuZXh0ZW5kKCEwLCBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImdqLmdyaWQuIiArIGQuZ3VpZCkpLCBlKSwgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiZ2ouZ3JpZC4iICsgZC5ndWlkLCBKU09OLnN0cmluZ2lmeShlKSk7CiAgICAgIH0KCiAgICAgIGlmIChkLm9wdGltaXN0aWNQZXJzaXN0ZW5jZS5sb2NhbFN0b3JhZ2UpIHsKICAgICAgICBmb3IgKGUgPSB7CiAgICAgICAgICBvcHRpbWlzdGljUGVyc2lzdGVuY2U6IHt9CiAgICAgICAgfSwgYiA9IDA7IGIgPCBkLm9wdGltaXN0aWNQZXJzaXN0ZW5jZS5sb2NhbFN0b3JhZ2UubGVuZ3RoOyBiKyspIHsKICAgICAgICAgIGMgPSBkLm9wdGltaXN0aWNQZXJzaXN0ZW5jZS5sb2NhbFN0b3JhZ2VbYl0sIGUub3B0aW1pc3RpY1BlcnNpc3RlbmNlW2NdID0gZC5wYXJhbXNbY107CiAgICAgICAgfQoKICAgICAgICBlID0gJC5leHRlbmQoITAsIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImdqLmdyaWQuIiArIGQuZ3VpZCkpLCBlKSwgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImdqLmdyaWQuIiArIGQuZ3VpZCwgSlNPTi5zdHJpbmdpZnkoZSkpOwogICAgICB9CiAgICB9CiAgfSwKICBjb25maWd1cmU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShhLCBiLCBjKSB7CiAgICBiLmd1aWQgJiYgKGIub3B0aW1pc3RpY1BlcnNpc3RlbmNlLmxvY2FsU3RvcmFnZSB8fCBiLm9wdGltaXN0aWNQZXJzaXN0ZW5jZS5zZXNzaW9uU3RvcmFnZSkgJiYgKGdqLmdyaWQucGx1Z2lucy5vcHRpbWlzdGljUGVyc2lzdGVuY2UucHJpdmF0ZS5hcHBseVBhcmFtcyhhKSwgYS5vbigiZGF0YUJvdW5kIiwgZnVuY3Rpb24gKGIpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLm9wdGltaXN0aWNQZXJzaXN0ZW5jZS5wcml2YXRlLnNhdmVQYXJhbXMoYSk7CiAgICB9KSk7CiAgfQp9LCBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbiA9IHsKICBjb25maWc6IHsKICAgIGJhc2U6IHsKICAgICAgc3R5bGU6IHsKICAgICAgICBwYWdlcjogewogICAgICAgICAgcGFuZWw6ICIiLAogICAgICAgICAgc3RhdGVEaXNhYmxlZDogIiIsCiAgICAgICAgICBhY3RpdmVCdXR0b246ICIiCiAgICAgICAgfQogICAgICB9LAogICAgICBwYXJhbU5hbWVzOiB7CiAgICAgICAgcGFnZTogInBhZ2UiLAogICAgICAgIGxpbWl0OiAibGltaXQiCiAgICAgIH0sCiAgICAgIHBhZ2VyOiB7CiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIHNpemVzOiBbNSwgMTAsIDIwLCAxMDBdLAogICAgICAgIGxlZnRDb250cm9sczogdm9pZCAwLAogICAgICAgIHJpZ2h0Q29udHJvbHM6IHZvaWQgMAogICAgICB9CiAgICB9LAogICAgYm9vdHN0cmFwOiB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgcGFnZXI6IHsKICAgICAgICAgIHBhbmVsOiAiIiwKICAgICAgICAgIHN0YXRlRGlzYWJsZWQ6ICIiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYm9vdHN0cmFwNDogewogICAgICBzdHlsZTogewogICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICBwYW5lbDogImJ0bi10b29sYmFyIiwKICAgICAgICAgIHN0YXRlRGlzYWJsZWQ6ICIiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2x5cGhpY29uczogewogICAgICBpY29uczogewogICAgICAgIGZpcnN0OiAnPHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tc3RlcC1iYWNrd2FyZCI+PC9zcGFuPicsCiAgICAgICAgcHJldmlvdXM6ICc8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1iYWNrd2FyZCI+PC9zcGFuPicsCiAgICAgICAgbmV4dDogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWZvcndhcmQiPjwvc3Bhbj4nLAogICAgICAgIGxhc3Q6ICc8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1zdGVwLWZvcndhcmQiPjwvc3Bhbj4nLAogICAgICAgIHJlZnJlc2g6ICc8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1yZWZyZXNoIj48L3NwYW4+JwogICAgICB9CiAgICB9LAogICAgbWF0ZXJpYWxpY29uczogewogICAgICBpY29uczogewogICAgICAgIGZpcnN0OiAnPGkgY2xhc3M9ImdqLWljb24gZmlyc3QtcGFnZSIgLz4nLAogICAgICAgIHByZXZpb3VzOiAnPGkgY2xhc3M9ImdqLWljb24gY2hldnJvbi1sZWZ0IiAvPicsCiAgICAgICAgbmV4dDogJzxpIGNsYXNzPSJnai1pY29uIGNoZXZyb24tcmlnaHQiIC8+JywKICAgICAgICBsYXN0OiAnPGkgY2xhc3M9ImdqLWljb24gbGFzdC1wYWdlIiAvPicsCiAgICAgICAgcmVmcmVzaDogJzxpIGNsYXNzPSJnai1pY29uIHJlZnJlc2giIC8+JwogICAgICB9CiAgICB9LAogICAgZm9udGF3ZXNvbWU6IHsKICAgICAgaWNvbnM6IHsKICAgICAgICBmaXJzdDogJzxpIGNsYXNzPSJmYSBmYS1mYXN0LWJhY2t3YXJkIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgICAgcHJldmlvdXM6ICc8aSBjbGFzcz0iZmEgZmEtYmFja3dhcmQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+JywKICAgICAgICBuZXh0OiAnPGkgY2xhc3M9ImZhIGZhLWZvcndhcmQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+JywKICAgICAgICBsYXN0OiAnPGkgY2xhc3M9ImZhIGZhLWZhc3QtZm9yd2FyZCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nLAogICAgICAgIHJlZnJlc2g6ICc8aSBjbGFzcz0iZmEgZmEtcmVmcmVzaCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nCiAgICAgIH0KICAgIH0KICB9LAogIHByaXZhdGU6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgICB2YXIgYiwgYywgZCwgZSwgZiwgZywgaCwgaSwgaiwgazsKICAgICAgaWYgKGQgPSBhLmRhdGEoKSwgZC5wYWdlcikgZm9yIChkLnBhcmFtc1tkLnBhcmFtTmFtZXMucGFnZV0gfHwgKGQucGFyYW1zW2QucGFyYW1OYW1lcy5wYWdlXSA9IDEpLCBkLnBhcmFtc1tkLnBhcmFtTmFtZXMubGltaXRdIHx8IChkLnBhcmFtc1tkLnBhcmFtTmFtZXMubGltaXRdID0gZC5wYWdlci5saW1pdCksIGdqLmdyaWQucGx1Z2lucy5wYWdpbmF0aW9uLnByaXZhdGUubG9jYWxpemF0aW9uKGQpLCBiID0gJCgnPHRyIGRhdGEtcm9sZT0icGFnZXIiLz4nKSwgYyA9ICQoIjx0aC8+IiksIGIuYXBwZW5kKGMpLCBmID0gJCgnPGRpdiBkYXRhLXJvbGU9ImRpc3BsYXkiIC8+JykuYWRkQ2xhc3MoZC5zdHlsZS5wYWdlci5wYW5lbCkuY3NzKHsKICAgICAgICBmbG9hdDogImxlZnQiCiAgICAgIH0pLCBnID0gJCgnPGRpdiBkYXRhLXJvbGU9ImRpc3BsYXkiIC8+JykuYWRkQ2xhc3MoZC5zdHlsZS5wYWdlci5wYW5lbCkuY3NzKHsKICAgICAgICBmbG9hdDogInJpZ2h0IgogICAgICB9KSwgYy5hcHBlbmQoZikuYXBwZW5kKGcpLCBoID0gJCgiPHRmb290IC8+IikuYXBwZW5kKGIpLCBhLmFwcGVuZChoKSwgZ2ouZ3JpZC5wbHVnaW5zLnBhZ2luYXRpb24ucHJpdmF0ZS51cGRhdGVQYWdlckNvbFNwYW4oYSksIGkgPSBnai5ncmlkLm1ldGhvZHMuY2xvbmUoZC5wYWdlci5sZWZ0Q29udHJvbHMpLCAkLmVhY2goaSwgZnVuY3Rpb24gKCkgewogICAgICAgIGYuYXBwZW5kKHRoaXMpOwogICAgICB9KSwgaiA9IGdqLmdyaWQubWV0aG9kcy5jbG9uZShkLnBhZ2VyLnJpZ2h0Q29udHJvbHMpLCAkLmVhY2goaiwgZnVuY3Rpb24gKCkgewogICAgICAgIGcuYXBwZW5kKHRoaXMpOwogICAgICB9KSwgZSA9IGEuZmluZCgidGZvb3QgW2RhdGEtcm9sZV0iKSwgayA9IDA7IGsgPCBlLmxlbmd0aDsgaysrKSB7CiAgICAgICAgZ2ouZ3JpZC5wbHVnaW5zLnBhZ2luYXRpb24ucHJpdmF0ZS5pbml0UGFnZXJDb250cm9sKCQoZVtrXSksIGEpOwogICAgICB9CiAgICB9LAogICAgbG9jYWxpemF0aW9uOiBmdW5jdGlvbiBsb2NhbGl6YXRpb24oYSkgewogICAgICAiYm9vdHN0cmFwIiA9PT0gYS51aUxpYnJhcnkgPyBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmxvY2FsaXphdGlvbkJvb3RzdHJhcChhKSA6ICJib290c3RyYXA0IiA9PT0gYS51aUxpYnJhcnkgPyBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmxvY2FsaXphdGlvbkJvb3RzdHJhcDQoYSkgOiBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmxvY2FsaXphdGlvbk1hdGVyaWFsRGVzaWduKGEpOwogICAgfSwKICAgIGxvY2FsaXphdGlvbkJvb3RzdHJhcDogZnVuY3Rpb24gbG9jYWxpemF0aW9uQm9vdHN0cmFwKGEpIHsKICAgICAgdmFyIGIgPSBnai5ncmlkLm1lc3NhZ2VzW2EubG9jYWxlXTsKICAgICAgdm9pZCAwID09PSBhLnBhZ2VyLmxlZnRDb250cm9scyAmJiAoYS5wYWdlci5sZWZ0Q29udHJvbHMgPSBbJCgnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIj4nICsgKGEuaWNvbnMuZmlyc3QgfHwgYi5GaXJzdCkgKyAiPC9idXR0b24+IikuYXR0cigidGl0bGUiLCBiLkZpcnN0UGFnZVRvb2x0aXApLmF0dHIoImRhdGEtcm9sZSIsICJwYWdlLWZpcnN0IiksICQoJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSI+JyArIChhLmljb25zLnByZXZpb3VzIHx8IGIuUHJldmlvdXMpICsgIjwvYnV0dG9uPiIpLmF0dHIoInRpdGxlIiwgYi5QcmV2aW91c1BhZ2VUb29sdGlwKS5hdHRyKCJkYXRhLXJvbGUiLCAicGFnZS1wcmV2aW91cyIpLCAkKCI8ZGl2PiIgKyBiLlBhZ2UgKyAiPC9kaXY+IiksICQoJzxpbnB1dCBkYXRhLXJvbGU9InBhZ2UtbnVtYmVyIiBjbGFzcz0iZm9ybS1jb250cm9sIGlucHV0LXNtIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0iMCI+JyksICQoIjxkaXY+IiArIGIuT2YgKyAiPC9kaXY+IiksICQoJzxkaXYgZGF0YS1yb2xlPSJwYWdlLWxhYmVsLWxhc3QiPjA8L2Rpdj4nKSwgJCgnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIj4nICsgKGEuaWNvbnMubmV4dCB8fCBiLk5leHQpICsgIjwvYnV0dG9uPiIpLmF0dHIoInRpdGxlIiwgYi5OZXh0UGFnZVRvb2x0aXApLmF0dHIoImRhdGEtcm9sZSIsICJwYWdlLW5leHQiKSwgJCgnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIj4nICsgKGEuaWNvbnMubGFzdCB8fCBiLkxhc3QpICsgIjwvYnV0dG9uPiIpLmF0dHIoInRpdGxlIiwgYi5MYXN0UGFnZVRvb2x0aXApLmF0dHIoImRhdGEtcm9sZSIsICJwYWdlLWxhc3QiKSwgJCgnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIj4nICsgKGEuaWNvbnMucmVmcmVzaCB8fCBiLlJlZnJlc2gpICsgIjwvYnV0dG9uPiIpLmF0dHIoInRpdGxlIiwgYi5SZWZyZXNoKS5hdHRyKCJkYXRhLXJvbGUiLCAicGFnZS1yZWZyZXNoIiksICQoJzxzZWxlY3QgZGF0YS1yb2xlPSJwYWdlLXNpemUiIGNsYXNzPSJmb3JtLWNvbnRyb2wgaW5wdXQtc20iIHdpZHRoPSI2MCI+PC9zZWxlY3Q+JyldKSwgdm9pZCAwID09PSBhLnBhZ2VyLnJpZ2h0Q29udHJvbHMgJiYgKGEucGFnZXIucmlnaHRDb250cm9scyA9IFskKCI8ZGl2PiIgKyBiLkRpc3BsYXlpbmdSZWNvcmRzICsgIjwvZGl2PiIpLCAkKCc8ZGl2IGRhdGEtcm9sZT0icmVjb3JkLWZpcnN0Ij4wPC9kaXY+JyksICQoIjxkaXY+LTwvZGl2PiIpLCAkKCc8ZGl2IGRhdGEtcm9sZT0icmVjb3JkLWxhc3QiPjA8L2Rpdj4nKSwgJCgiPGRpdj4iICsgYi5PZiArICI8L2Rpdj4iKSwgJCgnPGRpdiBkYXRhLXJvbGU9InJlY29yZC10b3RhbCI+MDwvZGl2PicpXSk7CiAgICB9LAogICAgbG9jYWxpemF0aW9uQm9vdHN0cmFwNDogZnVuY3Rpb24gbG9jYWxpemF0aW9uQm9vdHN0cmFwNChhKSB7CiAgICAgIHZhciBiID0gZ2ouZ3JpZC5tZXNzYWdlc1thLmxvY2FsZV07CiAgICAgIHZvaWQgMCA9PT0gYS5wYWdlci5sZWZ0Q29udHJvbHMgJiYgKGEucGFnZXIubGVmdENvbnRyb2xzID0gWyQoJzxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gZ2otY3Vyc29yLXBvaW50ZXIiPicgKyAoYS5pY29ucy5maXJzdCB8fCBiLkZpcnN0KSArICI8L2J1dHRvbj4iKS5hdHRyKCJ0aXRsZSIsIGIuRmlyc3RQYWdlVG9vbHRpcCkuYXR0cigiZGF0YS1yb2xlIiwgInBhZ2UtZmlyc3QiKSwgJCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBnai1jdXJzb3ItcG9pbnRlciI+JyArIChhLmljb25zLnByZXZpb3VzIHx8IGIuUHJldmlvdXMpICsgIjwvYnV0dG9uPiIpLmF0dHIoInRpdGxlIiwgYi5QcmV2aW91c1BhZ2VUb29sdGlwKS5hdHRyKCJkYXRhLXJvbGUiLCAicGFnZS1wcmV2aW91cyIpLCAkKCI8ZGl2PiIgKyBiLlBhZ2UgKyAiPC9kaXY+IiksICQoJzxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIj48aW5wdXQgZGF0YS1yb2xlPSJwYWdlLW51bWJlciIgY2xhc3M9ImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtc20iIHR5cGU9InRleHQiIHZhbHVlPSIwIj48L2Rpdj4nKSwgJCgiPGRpdj4iICsgYi5PZiArICI8L2Rpdj4iKSwgJCgnPGRpdiBkYXRhLXJvbGU9InBhZ2UtbGFiZWwtbGFzdCI+MDwvZGl2PicpLCAkKCc8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGdqLWN1cnNvci1wb2ludGVyIj4nICsgKGEuaWNvbnMubmV4dCB8fCBiLk5leHQpICsgIjwvYnV0dG9uPiIpLmF0dHIoInRpdGxlIiwgYi5OZXh0UGFnZVRvb2x0aXApLmF0dHIoImRhdGEtcm9sZSIsICJwYWdlLW5leHQiKSwgJCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBnai1jdXJzb3ItcG9pbnRlciI+JyArIChhLmljb25zLmxhc3QgfHwgYi5MYXN0KSArICI8L2J1dHRvbj4iKS5hdHRyKCJ0aXRsZSIsIGIuTGFzdFBhZ2VUb29sdGlwKS5hdHRyKCJkYXRhLXJvbGUiLCAicGFnZS1sYXN0IiksICQoJzxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gZ2otY3Vyc29yLXBvaW50ZXIiPicgKyAoYS5pY29ucy5yZWZyZXNoIHx8IGIuUmVmcmVzaCkgKyAiPC9idXR0b24+IikuYXR0cigidGl0bGUiLCBiLlJlZnJlc2gpLmF0dHIoImRhdGEtcm9sZSIsICJwYWdlLXJlZnJlc2giKSwgJCgnPHNlbGVjdCBkYXRhLXJvbGU9InBhZ2Utc2l6ZSIgY2xhc3M9ImZvcm0tY29udHJvbCBpbnB1dC1zbSIgd2lkdGg9IjYwIj48L3NlbGVjdD4nKV0pLCB2b2lkIDAgPT09IGEucGFnZXIucmlnaHRDb250cm9scyAmJiAoYS5wYWdlci5yaWdodENvbnRyb2xzID0gWyQoIjxkaXY+IiArIGIuRGlzcGxheWluZ1JlY29yZHMgKyAiJm5ic3A7PC9kaXY+IiksICQoJzxkaXYgZGF0YS1yb2xlPSJyZWNvcmQtZmlyc3QiPjA8L2Rpdj4nKSwgJCgiPGRpdj4tPC9kaXY+IiksICQoJzxkaXYgZGF0YS1yb2xlPSJyZWNvcmQtbGFzdCI+MDwvZGl2PicpLCAkKCI8ZGl2PiIgKyBiLk9mICsgIjwvZGl2PiIpLCAkKCc8ZGl2IGRhdGEtcm9sZT0icmVjb3JkLXRvdGFsIj4wPC9kaXY+JyldKTsKICAgIH0sCiAgICBsb2NhbGl6YXRpb25NYXRlcmlhbERlc2lnbjogZnVuY3Rpb24gbG9jYWxpemF0aW9uTWF0ZXJpYWxEZXNpZ24oYSkgewogICAgICB2YXIgYiA9IGdqLmdyaWQubWVzc2FnZXNbYS5sb2NhbGVdOwogICAgICB2b2lkIDAgPT09IGEucGFnZXIubGVmdENvbnRyb2xzICYmIChhLnBhZ2VyLmxlZnRDb250cm9scyA9IFtdKSwgdm9pZCAwID09PSBhLnBhZ2VyLnJpZ2h0Q29udHJvbHMgJiYgKGEucGFnZXIucmlnaHRDb250cm9scyA9IFskKCc8c3BhbiBjbGFzcz0iIj4nICsgYi5Sb3dzUGVyUGFnZSArICI8L3NwYW4+IiksICQoJzxzZWxlY3QgZGF0YS1yb2xlPSJwYWdlLXNpemUiIGNsYXNzPSJnai1ncmlkLW1kLWxpbWl0LXNlbGVjdCIgd2lkdGg9IjUyIj48L3NlbGVjdD48L2Rpdj4nKSwgJCgnPHNwYW4gY2xhc3M9ImdqLW1kLXNwYWNlci0zMiI+Jm5ic3A7PC9zcGFuPicpLCAkKCc8c3BhbiBkYXRhLXJvbGU9InJlY29yZC1maXJzdCIgY2xhc3M9IiI+MDwvc3Bhbj4nKSwgJCgnPHNwYW4gY2xhc3M9IiI+LTwvc3Bhbj4nKSwgJCgnPHNwYW4gZGF0YS1yb2xlPSJyZWNvcmQtbGFzdCIgY2xhc3M9IiI+MDwvc3Bhbj4nKSwgJCgnPHNwYW4gY2xhc3M9ImdqLWdyaWQtbWRsLXBhZ2VyLWxhYmVsIj4nICsgYi5PZiArICI8L3NwYW4+IiksICQoJzxzcGFuIGRhdGEtcm9sZT0icmVjb3JkLXRvdGFsIiBjbGFzcz0iIj4wPC9zcGFuPicpLCAkKCc8c3BhbiBjbGFzcz0iZ2otbWQtc3BhY2VyLTMyIj4mbmJzcDs8L3NwYW4+JyksICQoJzxidXR0b24gY2xhc3M9ImdqLWJ1dHRvbi1tZCI+JyArIChhLmljb25zLnByZXZpb3VzIHx8IGIuUHJldmlvdXMpICsgIjwvYnV0dG9uPiIpLmF0dHIoInRpdGxlIiwgYi5QcmV2aW91c1BhZ2VUb29sdGlwKS5hdHRyKCJkYXRhLXJvbGUiLCAicGFnZS1wcmV2aW91cyIpLmFkZENsYXNzKGEuaWNvbnMuZmlyc3QgPyAiZ2otYnV0dG9uLW1kLWljb24iIDogIiIpLCAkKCc8c3BhbiBjbGFzcz0iZ2otbWQtc3BhY2VyLTI0Ij4mbmJzcDs8L3NwYW4+JyksICQoJzxidXR0b24gY2xhc3M9ImdqLWJ1dHRvbi1tZCI+JyArIChhLmljb25zLm5leHQgfHwgYi5OZXh0KSArICI8L2J1dHRvbj4iKS5hdHRyKCJ0aXRsZSIsIGIuTmV4dFBhZ2VUb29sdGlwKS5hdHRyKCJkYXRhLXJvbGUiLCAicGFnZS1uZXh0IikuYWRkQ2xhc3MoYS5pY29ucy5maXJzdCA/ICJnai1idXR0b24tbWQtaWNvbiIgOiAiIildKTsKICAgIH0sCiAgICBpbml0UGFnZXJDb250cm9sOiBmdW5jdGlvbiBpbml0UGFnZXJDb250cm9sKGEsIGIpIHsKICAgICAgdmFyIGMgPSBiLmRhdGEoKTsKCiAgICAgIHN3aXRjaCAoYS5kYXRhKCJyb2xlIikpIHsKICAgICAgICBjYXNlICJwYWdlLXNpemUiOgogICAgICAgICAgYy5wYWdlci5zaXplcyAmJiAwIDwgYy5wYWdlci5zaXplcy5sZW5ndGggPyAoYS5zaG93KCksICQuZWFjaChjLnBhZ2VyLnNpemVzLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGEuYXBwZW5kKCQoIjxvcHRpb24vPiIpLmF0dHIoInZhbHVlIiwgdGhpcy50b1N0cmluZygpKS50ZXh0KHRoaXMudG9TdHJpbmcoKSkpOwogICAgICAgICAgfSksIGEuY2hhbmdlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGEgPSBwYXJzZUludCh0aGlzLnZhbHVlLCAxMCk7CiAgICAgICAgICAgIGMucGFyYW1zW2MucGFyYW1OYW1lcy5saW1pdF0gPSBhLCBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmNoYW5nZVBhZ2UoYiwgMSksIGdqLmdyaWQucGx1Z2lucy5wYWdpbmF0aW9uLmV2ZW50cy5wYWdlU2l6ZUNoYW5nZShiLCBhKTsKICAgICAgICAgIH0pLCBhLnZhbChjLnBhcmFtc1tjLnBhcmFtTmFtZXMubGltaXRdKSwgZ2ouZHJvcGRvd24gJiYgYS5kcm9wZG93bih7CiAgICAgICAgICAgIHVpTGlicmFyeTogYy51aUxpYnJhcnksCiAgICAgICAgICAgIGljb25zTGlicmFyeTogYy5pY29uc0xpYnJhcnksCiAgICAgICAgICAgIGZvbnRTaXplOiBhLmNzcygiZm9udC1zaXplIiksCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgcHJlc2VudGVyOiAiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIKICAgICAgICAgICAgfQogICAgICAgICAgfSkpIDogYS5oaWRlKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicGFnZS1yZWZyZXNoIjoKICAgICAgICAgIGEub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBiLnJlbG9hZCgpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZWxvYWRQYWdlcjogZnVuY3Rpb24gcmVsb2FkUGFnZXIoYSwgYikgewogICAgICB2YXIgYywgZCwgZSwgZiwgZywgaCwgaSwgajsKCiAgICAgIGlmIChoID0gYS5kYXRhKCksIGgucGFnZXIpIHsKICAgICAgICBmb3IgKGMgPSAwID09PSBiID8gMCA6IHBhcnNlSW50KGgucGFyYW1zW2gucGFyYW1OYW1lcy5wYWdlXSwgMTApLCBkID0gcGFyc2VJbnQoaC5wYXJhbXNbaC5wYXJhbU5hbWVzLmxpbWl0XSwgMTApLCBlID0gTWF0aC5jZWlsKGIgLyBkKSwgZiA9IDAgPT09IGMgPyAwIDogZCAqIChjIC0gMSkgKyAxLCBnID0gZiArIGQgPiBiID8gYiA6IGYgKyBkIC0gMSwgaSA9IGEuZmluZCgiVEZPT1QgW2RhdGEtcm9sZV0iKSwgaiA9IDA7IGogPCBpLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLnJlbG9hZFBhZ2VyQ29udHJvbCgkKGlbal0pLCBhLCBjLCBlLCBmLCBnLCBiKTsKICAgICAgICB9CgogICAgICAgIGdqLmdyaWQucGx1Z2lucy5wYWdpbmF0aW9uLnByaXZhdGUudXBkYXRlUGFnZXJDb2xTcGFuKGEpOwogICAgICB9CiAgICB9LAogICAgcmVsb2FkUGFnZXJDb250cm9sOiBmdW5jdGlvbiByZWxvYWRQYWdlckNvbnRyb2woYSwgYiwgYywgZCwgZSwgZiwgZykgewogICAgICB2YXIgaDsKCiAgICAgIHN3aXRjaCAoYS5kYXRhKCJyb2xlIikpIHsKICAgICAgICBjYXNlICJwYWdlLWZpcnN0IjoKICAgICAgICAgIGdqLmdyaWQucGx1Z2lucy5wYWdpbmF0aW9uLnByaXZhdGUuYXNzaWduUGFnZUhhbmRsZXIoYiwgYSwgMSwgYyA8IDIpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInBhZ2UtcHJldmlvdXMiOgogICAgICAgICAgZ2ouZ3JpZC5wbHVnaW5zLnBhZ2luYXRpb24ucHJpdmF0ZS5hc3NpZ25QYWdlSGFuZGxlcihiLCBhLCBjIC0gMSwgYyA8IDIpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInBhZ2UtbnVtYmVyIjoKICAgICAgICAgIGEudmFsKGMpLm9mZigiY2hhbmdlIikub24oImNoYW5nZSIsIGdqLmdyaWQucGx1Z2lucy5wYWdpbmF0aW9uLnByaXZhdGUuY3JlYXRlQ2hhbmdlUGFnZUhhbmRsZXIoYiwgYykpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInBhZ2UtbGFiZWwtbGFzdCI6CiAgICAgICAgICBhLnRleHQoZCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicGFnZS1uZXh0IjoKICAgICAgICAgIGdqLmdyaWQucGx1Z2lucy5wYWdpbmF0aW9uLnByaXZhdGUuYXNzaWduUGFnZUhhbmRsZXIoYiwgYSwgYyArIDEsIGQgPT09IGMpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInBhZ2UtbGFzdCI6CiAgICAgICAgICBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmFzc2lnblBhZ2VIYW5kbGVyKGIsIGEsIGQsIGQgPT09IGMpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInBhZ2UtYnV0dG9uLW9uZSI6CiAgICAgICAgICBoID0gMSA9PT0gYyA/IDEgOiBjID09IGQgPyBjIC0gMiA6IGMgLSAxLCBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmFzc2lnbkJ1dHRvbkhhbmRsZXIoYiwgYSwgYywgaCwgZCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicGFnZS1idXR0b24tdHdvIjoKICAgICAgICAgIGggPSAxID09PSBjID8gMiA6IGMgPT0gZCA/IGQgLSAxIDogYywgZ2ouZ3JpZC5wbHVnaW5zLnBhZ2luYXRpb24ucHJpdmF0ZS5hc3NpZ25CdXR0b25IYW5kbGVyKGIsIGEsIGMsIGgsIGQpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInBhZ2UtYnV0dG9uLXRocmVlIjoKICAgICAgICAgIGggPSAxID09PSBjID8gYyArIDIgOiBjID09IGQgPyBjIDogYyArIDEsIGdqLmdyaWQucGx1Z2lucy5wYWdpbmF0aW9uLnByaXZhdGUuYXNzaWduQnV0dG9uSGFuZGxlcihiLCBhLCBjLCBoLCBkKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJyZWNvcmQtZmlyc3QiOgogICAgICAgICAgYS50ZXh0KGUpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInJlY29yZC1sYXN0IjoKICAgICAgICAgIGEudGV4dChmKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJyZWNvcmQtdG90YWwiOgogICAgICAgICAgYS50ZXh0KGcpOwogICAgICB9CiAgICB9LAogICAgYXNzaWduUGFnZUhhbmRsZXI6IGZ1bmN0aW9uIGFzc2lnblBhZ2VIYW5kbGVyKGEsIGIsIGMsIGQpIHsKICAgICAgdmFyIGUgPSBhLmRhdGEoKS5zdHlsZS5wYWdlcjsKICAgICAgZCA/IGIuYWRkQ2xhc3MoZS5zdGF0ZURpc2FibGVkKS5wcm9wKCJkaXNhYmxlZCIsICEwKS5vZmYoImNsaWNrIikgOiBiLnJlbW92ZUNsYXNzKGUuc3RhdGVEaXNhYmxlZCkucHJvcCgiZGlzYWJsZWQiLCAhMSkub2ZmKCJjbGljayIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmNoYW5nZVBhZ2UoYSwgYyk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzc2lnbkJ1dHRvbkhhbmRsZXI6IGZ1bmN0aW9uIGFzc2lnbkJ1dHRvbkhhbmRsZXIoYSwgYiwgYywgZCwgZSkgewogICAgICB2YXIgZiA9IGEuZGF0YSgpLnN0eWxlLnBhZ2VyOwogICAgICBkIDwgMSB8fCBkID4gZSA/IGIuaGlkZSgpIDogKGIuc2hvdygpLm9mZigiY2xpY2siKS50ZXh0KGQpLCBkID09PSBjID8gYi5hZGRDbGFzcyhmLmFjdGl2ZUJ1dHRvbikgOiBiLnJlbW92ZUNsYXNzKGYuYWN0aXZlQnV0dG9uKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZ2ouZ3JpZC5wbHVnaW5zLnBhZ2luYXRpb24ucHJpdmF0ZS5jaGFuZ2VQYWdlKGEsIGQpOwogICAgICB9KSk7CiAgICB9LAogICAgY3JlYXRlQ2hhbmdlUGFnZUhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZUNoYW5nZVBhZ2VIYW5kbGVyKGEsIGIpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYiA9IChhLmRhdGEoKSwgcGFyc2VJbnQodGhpcy52YWx1ZSwgMTApKTsKICAgICAgICBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmNoYW5nZVBhZ2UoYSwgYik7CiAgICAgIH07CiAgICB9LAogICAgY2hhbmdlUGFnZTogZnVuY3Rpb24gY2hhbmdlUGFnZShhLCBiKSB7CiAgICAgIHZhciBjID0gYS5kYXRhKCk7CiAgICAgICExID09PSBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5ldmVudHMucGFnZUNoYW5naW5nKGEsIGIpIHx8IGlzTmFOKGIpIHx8IChhLmZpbmQoJ1RGT09UIFtkYXRhLXJvbGU9InBhZ2UtbnVtYmVyIl0nKS52YWwoYiksIGMucGFyYW1zW2MucGFyYW1OYW1lcy5wYWdlXSA9IGIpLCBhLnJlbG9hZCgpOwogICAgfSwKICAgIHVwZGF0ZVBhZ2VyQ29sU3BhbjogZnVuY3Rpb24gdXBkYXRlUGFnZXJDb2xTcGFuKGEpIHsKICAgICAgdmFyIGIgPSBhLmZpbmQoJ3Rmb290ID4gdHJbZGF0YS1yb2xlPSJwYWdlciJdID4gdGgnKTsKICAgICAgYiAmJiBiLmxlbmd0aCAmJiBiLmF0dHIoImNvbHNwYW4iLCBnai5ncmlkLm1ldGhvZHMuY291bnRWaXNpYmxlQ29sdW1ucyhhKSk7CiAgICB9LAogICAgaXNMYXN0UmVjb3JkVmlzaWJsZTogZnVuY3Rpb24gaXNMYXN0UmVjb3JkVmlzaWJsZShhKSB7CiAgICAgIHZhciBiID0gITAsCiAgICAgICAgICBjID0gYS5kYXRhKCksCiAgICAgICAgICBkID0gcGFyc2VJbnQoYy5wYXJhbXNbYy5wYXJhbU5hbWVzLmxpbWl0XSwgMTApLAogICAgICAgICAgZSA9IHBhcnNlSW50KGMucGFyYW1zW2MucGFyYW1OYW1lcy5wYWdlXSwgMTApLAogICAgICAgICAgZiA9IGEuY291bnQoKTsKICAgICAgcmV0dXJuIGQgJiYgZSAmJiAoYiA9IChlIC0gMSkgKiBkICsgZiA9PT0gYy50b3RhbFJlY29yZHMpLCBiOwogICAgfQogIH0sCiAgcHVibGljOiB7CiAgICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChhKSB7CiAgICAgIHZhciBiLAogICAgICAgICAgYywKICAgICAgICAgIGQsCiAgICAgICAgICBlID0gdGhpcy5kYXRhKCk7CiAgICAgIHJldHVybiAkLmlzQXJyYXkoZS5kYXRhU291cmNlKSA/IGEgPyBlLmRhdGFTb3VyY2UgOiBlLnBhcmFtc1tlLnBhcmFtTmFtZXMubGltaXRdICYmIGUucGFyYW1zW2UucGFyYW1OYW1lcy5wYWdlXSA/IChiID0gcGFyc2VJbnQoZS5wYXJhbXNbZS5wYXJhbU5hbWVzLmxpbWl0XSwgMTApLCBjID0gcGFyc2VJbnQoZS5wYXJhbXNbZS5wYXJhbU5hbWVzLnBhZ2VdLCAxMCksIGQgPSAoYyAtIDEpICogYiwgZS5yZWNvcmRzLnNsaWNlKGQsIGQgKyBiKSkgOiBlLnJlY29yZHMgOiBlLnJlY29yZHM7CiAgICB9CiAgfSwKICBldmVudHM6IHsKICAgIHBhZ2VTaXplQ2hhbmdlOiBmdW5jdGlvbiBwYWdlU2l6ZUNoYW5nZShhLCBiKSB7CiAgICAgIGEudHJpZ2dlckhhbmRsZXIoInBhZ2VTaXplQ2hhbmdlIiwgW2JdKTsKICAgIH0sCiAgICBwYWdlQ2hhbmdpbmc6IGZ1bmN0aW9uIHBhZ2VDaGFuZ2luZyhhLCBiKSB7CiAgICAgIGEudHJpZ2dlckhhbmRsZXIoInBhZ2VDaGFuZ2luZyIsIFtiXSk7CiAgICB9CiAgfSwKICBjb25maWd1cmU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShhLCBiLCBjKSB7CiAgICAkLmV4dGVuZCghMCwgYSwgZ2ouZ3JpZC5wbHVnaW5zLnBhZ2luYXRpb24ucHVibGljKTsKICAgIGEuZGF0YSgpOwogICAgYy5wYWdlciAmJiAoZ2ouZ3JpZC5tZXRob2RzLmlzTGFzdFJlY29yZFZpc2libGUgPSBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmlzTGFzdFJlY29yZFZpc2libGUsIGEub24oImluaXRpYWxpemVkIiwgZnVuY3Rpb24gKCkgewogICAgICBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLmluaXQoYSk7CiAgICB9KSwgYS5vbigiZGF0YUJvdW5kIiwgZnVuY3Rpb24gKGIsIGMsIGQpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLnBhZ2luYXRpb24ucHJpdmF0ZS5yZWxvYWRQYWdlcihhLCBkKTsKICAgIH0pLCBhLm9uKCJjb2x1bW5TaG93IiwgZnVuY3Rpb24gKCkgewogICAgICBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLnVwZGF0ZVBhZ2VyQ29sU3BhbihhKTsKICAgIH0pLCBhLm9uKCJjb2x1bW5IaWRlIiwgZnVuY3Rpb24gKCkgewogICAgICBnai5ncmlkLnBsdWdpbnMucGFnaW5hdGlvbi5wcml2YXRlLnVwZGF0ZVBhZ2VyQ29sU3BhbihhKTsKICAgIH0pKTsKICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5yZXNwb25zaXZlRGVzaWduID0gewogIGNvbmZpZzogewogICAgYmFzZTogewogICAgICByZXNpemVDaGVja0ludGVydmFsOiA1MDAsCiAgICAgIHJlc3BvbnNpdmU6ICExLAogICAgICBzaG93SGlkZGVuQ29sdW1uc0FzRGV0YWlsczogITEsCiAgICAgIGRlZmF1bHRDb2x1bW46IHsKICAgICAgICBwcmlvcml0eTogdm9pZCAwLAogICAgICAgIG1pbldpZHRoOiAyNTAKICAgICAgfSwKICAgICAgc3R5bGU6IHsKICAgICAgICByb3dEZXRhaWxJdGVtOiAiIgogICAgICB9CiAgICB9LAogICAgYm9vdHN0cmFwOiB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgcm93RGV0YWlsSXRlbTogImNvbC1sZy00IgogICAgICB9CiAgICB9CiAgfSwKICBwcml2YXRlOiB7CiAgICBvcmRlckNvbHVtbnM6IGZ1bmN0aW9uIG9yZGVyQ29sdW1ucyhhKSB7CiAgICAgIHZhciBiID0gW107CgogICAgICBpZiAoYS5jb2x1bW5zICYmIGEuY29sdW1ucy5sZW5ndGgpIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYS5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBiLnB1c2goewogICAgICAgICAgICBwb3NpdGlvbjogaSwKICAgICAgICAgICAgZmllbGQ6IGEuY29sdW1uc1tpXS5maWVsZCwKICAgICAgICAgICAgbWluV2lkdGg6IGEuY29sdW1uc1tpXS53aWR0aCB8fCBhLmNvbHVtbnNbaV0ubWluV2lkdGggfHwgYS5kZWZhdWx0Q29sdW1uLm1pbldpZHRoLAogICAgICAgICAgICBwcmlvcml0eTogYS5jb2x1bW5zW2ldLnByaW9yaXR5IHx8IDAKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICB2YXIgYyA9IDA7CiAgICAgICAgICByZXR1cm4gYS5wcmlvcml0eSA8IGIucHJpb3JpdHkgPyBjID0gLTEgOiBhLnByaW9yaXR5ID4gYi5wcmlvcml0eSAmJiAoYyA9IDEpLCBjOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gYjsKICAgIH0sCiAgICB1cGRhdGVEZXRhaWxzOiBmdW5jdGlvbiB1cGRhdGVEZXRhaWxzKGEpIHsKICAgICAgdmFyIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGksIGo7CgogICAgICBmb3IgKGIgPSBhLmZpbmQoJ3Rib2R5ID4gdHJbZGF0YS1yb2xlPSJyb3ciXScpLCBjID0gYS5kYXRhKCksIGQgPSAwOyBkIDwgYi5sZW5ndGg7IGQrKykgewogICAgICAgIGZvciAoZiA9ICQoYltkXSksIGcgPSBmLmRhdGEoImRldGFpbHMiKSwgZSA9IDA7IGUgPCBjLmNvbHVtbnMubGVuZ3RoOyBlKyspIHsKICAgICAgICAgIGkgPSBjLmNvbHVtbnNbZV0sIGggPSBnICYmIGcuZmluZCgnZGl2W2RhdGEtaWQ9IicgKyBpLmZpZWxkICsgJyJdJyksIGMuY29sdW1uc1tlXS5oaWRkZW4gPyAoaiA9ICI8Yj4iICsgKGkudGl0bGUgfHwgaS5maWVsZCkgKyAiPC9iPjogeyIgKyBpLmZpZWxkICsgIn0iLCBoICYmIGgubGVuZ3RoID8gaC5lbXB0eSgpLmh0bWwoaikgOiAoaCA9ICQoJzxkaXYgZGF0YS1pZD0iJyArIGkuZmllbGQgKyAnIi8+JykuaHRtbChqKSwgaC5hZGRDbGFzcyhjLnN0eWxlLnJvd0RldGFpbEl0ZW0pLCBnICYmIGcubGVuZ3RoIHx8IChnID0gJCgnPGRpdiBjbGFzcz0icm93Ii8+JykpLCBnLmFwcGVuZChoKSkpIDogaCAmJiBoLmxlbmd0aCAmJiBoLnJlbW92ZSgpOwogICAgICAgIH0KCiAgICAgICAgYS51cGRhdGVEZXRhaWxzKGYpOwogICAgICB9CiAgICB9CiAgfSwKICBwdWJsaWM6IHsKICAgIG9sZFdpZHRoOiB2b2lkIDAsCiAgICByZXNpemVDaGVja0ludGVydmFsSWQ6IHZvaWQgMCwKICAgIG1ha2VSZXNwb25zaXZlOiBmdW5jdGlvbiBtYWtlUmVzcG9uc2l2ZSgpIHsKICAgICAgdmFyIGEsCiAgICAgICAgICBiLAogICAgICAgICAgYyA9IDAsCiAgICAgICAgICBkID0gdGhpcy5kYXRhKCksCiAgICAgICAgICBlID0gZ2ouZ3JpZC5wbHVnaW5zLnJlc3BvbnNpdmVEZXNpZ24ucHJpdmF0ZS5vcmRlckNvbHVtbnMoZCk7CgogICAgICBmb3IgKGEgPSAwOyBhIDwgZS5sZW5ndGg7IGErKykgewogICAgICAgIGIgPSB0aGlzLmZpbmQoInRoZWFkPnRyPnRoOmVxKCIgKyBlW2FdLnBvc2l0aW9uICsgIikiKSwgYi5pcygiOnZpc2libGUiKSAmJiBlW2FdLm1pbldpZHRoIDwgYi53aWR0aCgpICYmIChjICs9IGIud2lkdGgoKSAtIGVbYV0ubWluV2lkdGgpOwogICAgICB9CgogICAgICBpZiAoYykgZm9yIChhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIHsKICAgICAgICBiID0gdGhpcy5maW5kKCJ0aGVhZD50cj50aDplcSgiICsgZVthXS5wb3NpdGlvbiArICIpIiksICFiLmlzKCI6dmlzaWJsZSIpICYmIGVbYV0ubWluV2lkdGggPD0gYyAmJiAodGhpcy5zaG93Q29sdW1uKGVbYV0uZmllbGQpLCBjIC09IGIud2lkdGgoKSk7CiAgICAgIH0KCiAgICAgIGZvciAoYSA9IGUubGVuZ3RoIC0gMTsgYSA+PSAwOyBhLS0pIHsKICAgICAgICBiID0gdGhpcy5maW5kKCJ0aGVhZD50cj50aDplcSgiICsgZVthXS5wb3NpdGlvbiArICIpIiksIGIuaXMoIjp2aXNpYmxlIikgJiYgZVthXS5wcmlvcml0eSAmJiBlW2FdLm1pbldpZHRoID4gYi5vdXRlcldpZHRoKCkgJiYgdGhpcy5oaWRlQ29sdW1uKGVbYV0uZmllbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LAogIGV2ZW50czogewogICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoYSwgYiwgYykgewogICAgICBhLnRyaWdnZXJIYW5kbGVyKCJyZXNpemUiLCBbYiwgY10pOwogICAgfQogIH0sCiAgY29uZmlndXJlOiBmdW5jdGlvbiBjb25maWd1cmUoYSwgYiwgYykgewogICAgJC5leHRlbmQoITAsIGEsIGdqLmdyaWQucGx1Z2lucy5yZXNwb25zaXZlRGVzaWduLnB1YmxpYyksIGIucmVzcG9uc2l2ZSAmJiAoYS5vbigiaW5pdGlhbGl6ZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGEubWFrZVJlc3BvbnNpdmUoKSwgYS5vbGRXaWR0aCA9IGEud2lkdGgoKSwgYS5yZXNpemVDaGVja0ludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGIgPSBhLndpZHRoKCk7CiAgICAgICAgYiAhPT0gYS5vbGRXaWR0aCAmJiBnai5ncmlkLnBsdWdpbnMucmVzcG9uc2l2ZURlc2lnbi5ldmVudHMucmVzaXplKGEsIGIsIGEub2xkV2lkdGgpLCBhLm9sZFdpZHRoID0gYjsKICAgICAgfSwgYi5yZXNpemVDaGVja0ludGVydmFsKTsKICAgIH0pLCBhLm9uKCJkZXN0cm95IiwgZnVuY3Rpb24gKCkgewogICAgICBhLnJlc2l6ZUNoZWNrSW50ZXJ2YWxJZCAmJiBjbGVhckludGVydmFsKGEucmVzaXplQ2hlY2tJbnRlcnZhbElkKTsKICAgIH0pLCBhLm9uKCJyZXNpemUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGEubWFrZVJlc3BvbnNpdmUoKTsKICAgIH0pKSwgYi5zaG93SGlkZGVuQ29sdW1uc0FzRGV0YWlscyAmJiBnai5ncmlkLnBsdWdpbnMuZXhwYW5kQ29sbGFwc2VSb3dzICYmIChhLm9uKCJkYXRhQm91bmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLmdyaWQucGx1Z2lucy5yZXNwb25zaXZlRGVzaWduLnByaXZhdGUudXBkYXRlRGV0YWlscyhhKTsKICAgIH0pLCBhLm9uKCJjb2x1bW5IaWRlIiwgZnVuY3Rpb24gKCkgewogICAgICBnai5ncmlkLnBsdWdpbnMucmVzcG9uc2l2ZURlc2lnbi5wcml2YXRlLnVwZGF0ZURldGFpbHMoYSk7CiAgICB9KSwgYS5vbigiY29sdW1uU2hvdyIsIGZ1bmN0aW9uICgpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLnJlc3BvbnNpdmVEZXNpZ24ucHJpdmF0ZS51cGRhdGVEZXRhaWxzKGEpOwogICAgfSksIGEub24oInJvd0RhdGFCb3VuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLnJlc3BvbnNpdmVEZXNpZ24ucHJpdmF0ZS51cGRhdGVEZXRhaWxzKGEpOwogICAgfSkpOwogIH0KfSwgZ2ouZ3JpZC5wbHVnaW5zLnRvb2xiYXIgPSB7CiAgY29uZmlnOiB7CiAgICBiYXNlOiB7CiAgICAgIHRvb2xiYXJUZW1wbGF0ZTogdm9pZCAwLAogICAgICB0aXRsZTogdm9pZCAwLAogICAgICBzdHlsZTogewogICAgICAgIHRvb2xiYXI6ICJnai1ncmlkLW1kLXRvb2xiYXIiCiAgICAgIH0KICAgIH0sCiAgICBib290c3RyYXA6IHsKICAgICAgc3R5bGU6IHsKICAgICAgICB0b29sYmFyOiAiZ2otZ3JpZC1ib290c3RyYXAtdG9vbGJhciIKICAgICAgfQogICAgfSwKICAgIGJvb3RzdHJhcDQ6IHsKICAgICAgc3R5bGU6IHsKICAgICAgICB0b29sYmFyOiAiZ2otZ3JpZC1ib290c3RyYXAtNC10b29sYmFyIgogICAgICB9CiAgICB9CiAgfSwKICBwcml2YXRlOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGEpIHsKICAgICAgdmFyIGIsIGMsIGQ7CiAgICAgIGIgPSBhLmRhdGEoKSwgYyA9IGEucHJldignZGl2W2RhdGEtcm9sZT0idG9vbGJhciJdJyksICh2b2lkIDAgIT09IGIudG9vbGJhclRlbXBsYXRlIHx8IHZvaWQgMCAhPT0gYi50aXRsZSB8fCBjLmxlbmd0aCA+IDApICYmICgwID09PSBjLmxlbmd0aCAmJiAoYyA9ICQoJzxkaXYgZGF0YS1yb2xlPSJ0b29sYmFyIj48L2Rpdj4nKSwgYS5iZWZvcmUoYykpLCBjLmFkZENsYXNzKGIuc3R5bGUudG9vbGJhciksIDAgPT09IGMuY2hpbGRyZW4oKS5sZW5ndGggJiYgYi50b29sYmFyVGVtcGxhdGUgJiYgYy5hcHBlbmQoYi50b29sYmFyVGVtcGxhdGUpLCBkID0gYy5maW5kKCdbZGF0YS1yb2xlPSJ0aXRsZSJdJyksIDAgPT09IGQubGVuZ3RoICYmIChkID0gJCgnPGRpdiBkYXRhLXJvbGU9InRpdGxlIi8+JyksIGMucHJlcGVuZChkKSksIGIudGl0bGUgJiYgZC50ZXh0KGIudGl0bGUpLCBiLm1pbldpZHRoICYmIGMuY3NzKCJtaW4td2lkdGgiLCBiLm1pbldpZHRoKSk7CiAgICB9CiAgfSwKICBwdWJsaWM6IHsKICAgIHRpdGxlOiBmdW5jdGlvbiB0aXRsZShhKSB7CiAgICAgIHZhciBiID0gdGhpcy5wYXJlbnQoKS5maW5kKCdkaXZbZGF0YS1yb2xlPSJ0b29sYmFyIl0gW2RhdGEtcm9sZT0idGl0bGUiXScpOwogICAgICByZXR1cm4gdm9pZCAwICE9PSBhID8gKGIudGV4dChhKSwgdGhpcykgOiBiLnRleHQoKTsKICAgIH0KICB9LAogIGNvbmZpZ3VyZTogZnVuY3Rpb24gY29uZmlndXJlKGEpIHsKICAgICQuZXh0ZW5kKCEwLCBhLCBnai5ncmlkLnBsdWdpbnMudG9vbGJhci5wdWJsaWMpLCBhLm9uKCJpbml0aWFsaXplZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLnRvb2xiYXIucHJpdmF0ZS5pbml0KGEpOwogICAgfSksIGEub24oImRlc3Ryb3lpbmciLCBmdW5jdGlvbiAoKSB7CiAgICAgIGEucHJldignW2RhdGEtcm9sZT0idG9vbGJhciJdJykucmVtb3ZlKCk7CiAgICB9KTsKICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5yZXNpemFibGVDb2x1bW5zID0gewogIGNvbmZpZzogewogICAgYmFzZTogewogICAgICByZXNpemFibGVDb2x1bW5zOiAhMQogICAgfQogIH0sCiAgcHJpdmF0ZTogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChhLCBiKSB7CiAgICAgIHZhciBjLCBkLCBlLCBmLCBnLCBoOwoKICAgICAgaWYgKGMgPSBhLmZpbmQoJ3RoZWFkIHRyW2RhdGEtcm9sZT0iY2FwdGlvbiJdIHRoJyksIGMubGVuZ3RoKSB7CiAgICAgICAgZm9yIChlID0gMDsgZSA8IGMubGVuZ3RoIC0gMTsgZSsrKSB7CiAgICAgICAgICBkID0gJChjW2VdKSwgZiA9ICQoJzxkaXYgY2xhc3M9ImdqLWdyaWQtY29sdW1uLXJlc2l6ZXItd3JhcHBlciIgLz4nKSwgaCA9IHBhcnNlSW50KGQuY3NzKCJwYWRkaW5nLXJpZ2h0IiksIDEwKSArIDMsIGcgPSAkKCc8c3BhbiBjbGFzcz0iZ2otZ3JpZC1jb2x1bW4tcmVzaXplciIgLz4nKS5jc3MoIm1hcmdpbi1yaWdodCIsICItIiArIGggKyAicHgiKSwgZy5kcmFnZ2FibGUoewogICAgICAgICAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgICAgICAgICAgYS5hZGRDbGFzcygiZ2otdW5zZWxlY3RhYmxlIiksIGEuYWRkQ2xhc3MoImdqLWdyaWQtcmVzaXplLWN1cnNvciIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICAgICAgICAgIGEucmVtb3ZlQ2xhc3MoImdqLXVuc2VsZWN0YWJsZSIpLCBhLnJlbW92ZUNsYXNzKCJnai1ncmlkLXJlc2l6ZS1jdXJzb3IiKSwgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgidG9wIiksIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoImxlZnQiKSwgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgicG9zaXRpb24iKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZHJhZzogZ2ouZ3JpZC5wbHVnaW5zLnJlc2l6YWJsZUNvbHVtbnMucHJpdmF0ZS5jcmVhdGVSZXNpemVIYW5kbGUoYSwgZCwgYi5jb2x1bW5zW2VdKQogICAgICAgICAgfSksIGQuYXBwZW5kKGYuYXBwZW5kKGcpKTsKICAgICAgICB9CgogICAgICAgIGZvciAoZSA9IDA7IGUgPCBjLmxlbmd0aDsgZSsrKSB7CiAgICAgICAgICBkID0gJChjW2VdKSwgZC5hdHRyKCJ3aWR0aCIpIHx8IGQuYXR0cigid2lkdGgiLCBkLm91dGVyV2lkdGgoKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY3JlYXRlUmVzaXplSGFuZGxlOiBmdW5jdGlvbiBjcmVhdGVSZXNpemVIYW5kbGUoYSwgYiwgYykgewogICAgICB2YXIgZCA9IGEuZGF0YSgpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIGYpIHsKICAgICAgICB2YXIgZywKICAgICAgICAgICAgaCwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgaiwKICAgICAgICAgICAgaywKICAgICAgICAgICAgbCwKICAgICAgICAgICAgbSA9IHBhcnNlSW50KGIuYXR0cigid2lkdGgiKSwgMTApLAogICAgICAgICAgICBuID0gZ2ouY29yZS5wb3NpdGlvbih0aGlzKSwKICAgICAgICAgICAgbyA9IHsKICAgICAgICAgIHRvcDogZi50b3AgLSBuLnRvcCwKICAgICAgICAgIGxlZnQ6IGYubGVmdCAtIG4ubGVmdAogICAgICAgIH07CiAgICAgICAgaWYgKG0gfHwgKG0gPSBiLm91dGVyV2lkdGgoKSksIG8ubGVmdCAmJiAoayA9IG0gKyBvLmxlZnQsIGMud2lkdGggPSBrLCBiLmF0dHIoIndpZHRoIiwgayksIGggPSBiWzBdLmNlbGxJbmRleCwgaiA9IGJbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbltoICsgMV0sIGwgPSBwYXJzZUludCgkKGopLmF0dHIoIndpZHRoIiksIDEwKSAtIG8ubGVmdCwgai5zZXRBdHRyaWJ1dGUoIndpZHRoIiwgbCksIGQucmVzaXphYmxlQ29sdW1ucykpIGZvciAoaSA9IGFbMF0udEJvZGllc1swXS5jaGlsZHJlbiwgZyA9IDA7IGcgPCBpLmxlbmd0aDsgZysrKSB7CiAgICAgICAgICBpW2ddLmNlbGxzW2hdLnNldEF0dHJpYnV0ZSgid2lkdGgiLCBrKSwgaiA9IGlbZ10uY2VsbHNbaCArIDFdLCBqLnNldEF0dHJpYnV0ZSgid2lkdGgiLCBsKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSwKICBwdWJsaWM6IHt9LAogIGNvbmZpZ3VyZTogZnVuY3Rpb24gY29uZmlndXJlKGEsIGIsIGMpIHsKICAgICQuZXh0ZW5kKCEwLCBhLCBnai5ncmlkLnBsdWdpbnMucmVzaXphYmxlQ29sdW1ucy5wdWJsaWMpLCBiLnJlc2l6YWJsZUNvbHVtbnMgJiYgZ2ouZHJhZ2dhYmxlICYmIGEub24oImluaXRpYWxpemVkIiwgZnVuY3Rpb24gKCkgewogICAgICBnai5ncmlkLnBsdWdpbnMucmVzaXphYmxlQ29sdW1ucy5wcml2YXRlLmluaXQoYSwgYik7CiAgICB9KTsKICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5yb3dSZW9yZGVyID0gewogIGNvbmZpZzogewogICAgYmFzZTogewogICAgICByb3dSZW9yZGVyOiAhMSwKICAgICAgcm93UmVvcmRlckNvbHVtbjogdm9pZCAwLAogICAgICBvcmRlck51bWJlckZpZWxkOiB2b2lkIDAsCiAgICAgIHN0eWxlOiB7CiAgICAgICAgdGFyZ2V0Um93SW5kaWNhdG9yVG9wOiAiZ2otZ3JpZC1yb3ctcmVvcmRlci1pbmRpY2F0b3ItdG9wIiwKICAgICAgICB0YXJnZXRSb3dJbmRpY2F0b3JCb3R0b206ICJnai1ncmlkLXJvdy1yZW9yZGVyLWluZGljYXRvci1ib3R0b20iCiAgICAgIH0KICAgIH0KICB9LAogIHByaXZhdGU6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgICB2YXIgYiwKICAgICAgICAgIGMsCiAgICAgICAgICBkLAogICAgICAgICAgZSA9IGEuZmluZCgndGJvZHkgdHJbZGF0YS1yb2xlPSJyb3ciXScpOwoKICAgICAgZm9yIChhLmRhdGEoInJvd1Jlb3JkZXJDb2x1bW4iKSAmJiAoYyA9IGdqLmdyaWQubWV0aG9kcy5nZXRDb2x1bW5Qb3NpdGlvbihhLmRhdGEoImNvbHVtbnMiKSwgYS5kYXRhKCJyb3dSZW9yZGVyQ29sdW1uIikpKSwgYiA9IDA7IGIgPCBlLmxlbmd0aDsgYisrKSB7CiAgICAgICAgZCA9ICQoZVtiXSksIHZvaWQgMCAhPT0gYyA/IGQuZmluZCgidGQ6ZXEoIiArIGMgKyAiKSIpLm9uKCJtb3VzZWRvd24iLCBnai5ncmlkLnBsdWdpbnMucm93UmVvcmRlci5wcml2YXRlLmNyZWF0ZVJvd01vdXNlRG93bkhhbmRsZXIoYSwgZCkpIDogZC5vbigibW91c2Vkb3duIiwgZ2ouZ3JpZC5wbHVnaW5zLnJvd1Jlb3JkZXIucHJpdmF0ZS5jcmVhdGVSb3dNb3VzZURvd25IYW5kbGVyKGEsIGQpKTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZVJvd01vdXNlRG93bkhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZVJvd01vdXNlRG93bkhhbmRsZXIoYSwgYikgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgZCwKICAgICAgICAgICAgZSwKICAgICAgICAgICAgZiA9IGEuY2xvbmUoKSwKICAgICAgICAgICAgZyA9IGEuZGF0YSgiY29sdW1ucyIpOwoKICAgICAgICBmb3IgKGEuYWRkQ2xhc3MoImdqLXVuc2VsZWN0YWJsZSIpLCAkKCJib2R5IikuYXBwZW5kKGYpLCBmLmF0dHIoImRhdGEtcm9sZSIsICJkcmFnZ2FibGUtY2xvbmUiKS5jc3MoImN1cnNvciIsICJtb3ZlIiksIGYuY2hpbGRyZW4oInRoZWFkIikucmVtb3ZlKCkuY2hpbGRyZW4oInRmb290IikucmVtb3ZlKCksIGYuZmluZCgndGJvZHkgdHI6bm90KFtkYXRhLXBvc2l0aW9uPSInICsgYi5kYXRhKCJwb3NpdGlvbiIpICsgJyJdKScpLnJlbW92ZSgpLCBlID0gZi5maW5kKCJ0Ym9keSB0ciB0ZCIpLCBkID0gMDsgZCA8IGUubGVuZ3RoOyBkKyspIHsKICAgICAgICAgIGdbZF0ud2lkdGggJiYgZVtkXS5zZXRBdHRyaWJ1dGUoIndpZHRoIiwgZ1tkXS53aWR0aCk7CiAgICAgICAgfQoKICAgICAgICBmLmRyYWdnYWJsZSh7CiAgICAgICAgICBzdG9wOiBnai5ncmlkLnBsdWdpbnMucm93UmVvcmRlci5wcml2YXRlLmNyZWF0ZURyYWdTdG9wSGFuZGxlcihhLCBiKQogICAgICAgIH0pLCBmLmNzcyh7CiAgICAgICAgICBwb3NpdGlvbjogImFic29sdXRlIiwKICAgICAgICAgIHRvcDogYi5vZmZzZXQoKS50b3AsCiAgICAgICAgICBsZWZ0OiBiLm9mZnNldCgpLmxlZnQsCiAgICAgICAgICB3aWR0aDogYi53aWR0aCgpLAogICAgICAgICAgekluZGV4OiAxCiAgICAgICAgfSksICJ0cnVlIiA9PT0gYi5hdHRyKCJkYXRhLWRyb3BwYWJsZSIpICYmIGIuZHJvcHBhYmxlKCJkZXN0cm95IiksIGIuc2libGluZ3MoJ3RyW2RhdGEtcm9sZT0icm93Il0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhID0gJCh0aGlzKTsKICAgICAgICAgICJ0cnVlIiA9PT0gYS5hdHRyKCJkYXRhLWRyb3BwYWJsZSIpICYmIGEuZHJvcHBhYmxlKCJkZXN0cm95IiksIGEuZHJvcHBhYmxlKHsKICAgICAgICAgICAgb3ZlcjogZ2ouZ3JpZC5wbHVnaW5zLnJvd1Jlb3JkZXIucHJpdmF0ZS5jcmVhdGVEcm9wcGFibGVPdmVySGFuZGxlcihiKSwKICAgICAgICAgICAgb3V0OiBnai5ncmlkLnBsdWdpbnMucm93UmVvcmRlci5wcml2YXRlLmRyb3BwYWJsZU91dAogICAgICAgICAgfSk7CiAgICAgICAgfSksIGYudHJpZ2dlcigibW91c2Vkb3duIik7CiAgICAgIH07CiAgICB9LAogICAgY3JlYXRlRHJhZ1N0b3BIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVEcmFnU3RvcEhhbmRsZXIoYSwgYikgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGMsIGQpIHsKICAgICAgICAkKCd0YWJsZVtkYXRhLXJvbGU9ImRyYWdnYWJsZS1jbG9uZSJdJykuZHJhZ2dhYmxlKCJkZXN0cm95IikucmVtb3ZlKCksIGEucmVtb3ZlQ2xhc3MoImdqLXVuc2VsZWN0YWJsZSIpLCBiLnNpYmxpbmdzKCd0cltkYXRhLXJvbGU9InJvdyJdJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgYywKICAgICAgICAgICAgICBlLAogICAgICAgICAgICAgIGYsCiAgICAgICAgICAgICAgZywKICAgICAgICAgICAgICBoLAogICAgICAgICAgICAgIGkgPSAkKHRoaXMpLAogICAgICAgICAgICAgIGogPSBpLmRhdGEoInBvc2l0aW9uIiksCiAgICAgICAgICAgICAgayA9IGIuZGF0YSgicG9zaXRpb24iKSwKICAgICAgICAgICAgICBsID0gYS5kYXRhKCk7CgogICAgICAgICAgaWYgKGkuZHJvcHBhYmxlKCJpc092ZXIiLCBkKSkgewogICAgICAgICAgICBmb3IgKGogPCBrID8gaS5iZWZvcmUoYikgOiBpLmFmdGVyKGIpLCBsLnJlY29yZHMuc3BsaWNlKGogLSAxLCAwLCBsLnJlY29yZHMuc3BsaWNlKGsgLSAxLCAxKVswXSksIGMgPSBpLnBhcmVudCgpLmZpbmQoJ3RyW2RhdGEtcm9sZT0icm93Il0nKSwgZiA9IDA7IGYgPCBjLmxlbmd0aDsgZisrKSB7CiAgICAgICAgICAgICAgJChjW2ZdKS5hdHRyKCJkYXRhLXBvc2l0aW9uIiwgZiArIDEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobC5vcmRlck51bWJlckZpZWxkKSB7CiAgICAgICAgICAgICAgZm9yIChmID0gMDsgZiA8IGwucmVjb3Jkcy5sZW5ndGg7IGYrKykgewogICAgICAgICAgICAgICAgbC5yZWNvcmRzW2ZdW2wub3JkZXJOdW1iZXJGaWVsZF0gPSBmICsgMTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvciAoZiA9IDA7IGYgPCBjLmxlbmd0aDsgZisrKSB7CiAgICAgICAgICAgICAgICBlID0gJChjW2ZdKSwgaCA9IGdqLmdyaWQubWV0aG9kcy5nZXRJZChlLCBsLnByaW1hcnlLZXksIGUuYXR0cigiZGF0YS1wb3NpdGlvbiIpKSwgZyA9IGdqLmdyaWQubWV0aG9kcy5nZXRCeVBvc2l0aW9uKGEsIGUuYXR0cigiZGF0YS1wb3NpdGlvbiIpKSwgYS5zZXRDZWxsQ29udGVudChoLCBsLm9yZGVyTnVtYmVyRmllbGQsIGdbbC5vcmRlck51bWJlckZpZWxkXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaS5yZW1vdmVDbGFzcygiZ2otZ3JpZC10b3AtYm9yZGVyIiksIGkucmVtb3ZlQ2xhc3MoImdqLWdyaWQtYm90dG9tLWJvcmRlciIpLCBpLmRyb3BwYWJsZSgiZGVzdHJveSIpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZURyb3BwYWJsZU92ZXJIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVEcm9wcGFibGVPdmVySGFuZGxlcihhKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICAgIHZhciBjID0gJCh0aGlzKTsKICAgICAgICBjLmRhdGEoInBvc2l0aW9uIikgPCBhLmRhdGEoInBvc2l0aW9uIikgPyBjLmFkZENsYXNzKCJnai1ncmlkLXRvcC1ib3JkZXIiKSA6IGMuYWRkQ2xhc3MoImdqLWdyaWQtYm90dG9tLWJvcmRlciIpOwogICAgICB9OwogICAgfSwKICAgIGRyb3BwYWJsZU91dDogZnVuY3Rpb24gZHJvcHBhYmxlT3V0KCkgewogICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCJnai1ncmlkLXRvcC1ib3JkZXIiKSwgJCh0aGlzKS5yZW1vdmVDbGFzcygiZ2otZ3JpZC1ib3R0b20tYm9yZGVyIik7CiAgICB9CiAgfSwKICBwdWJsaWM6IHt9LAogIGNvbmZpZ3VyZTogZnVuY3Rpb24gY29uZmlndXJlKGEsIGIsIGMpIHsKICAgICQuZXh0ZW5kKCEwLCBhLCBnai5ncmlkLnBsdWdpbnMucm93UmVvcmRlci5wdWJsaWMpLCBiLnJvd1Jlb3JkZXIgJiYgZ2ouZHJhZ2dhYmxlICYmIGdqLmRyb3BwYWJsZSAmJiBhLm9uKCJkYXRhQm91bmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLmdyaWQucGx1Z2lucy5yb3dSZW9yZGVyLnByaXZhdGUuaW5pdChhKTsKICAgIH0pOwogIH0KfSwgZ2ouZ3JpZC5wbHVnaW5zLmV4cG9ydCA9IHsKICBjb25maWc6IHsKICAgIGJhc2U6IHt9CiAgfSwKICBwdWJsaWM6IHsKICAgIGdldENTVjogZnVuY3Rpb24gZ2V0Q1NWKGEpIHsKICAgICAgdmFyIGIsCiAgICAgICAgICBjLAogICAgICAgICAgZCA9ICIiLAogICAgICAgICAgZSA9ICIiLAogICAgICAgICAgZiA9IHRoaXMuZGF0YSgpLmNvbHVtbnMsCiAgICAgICAgICBnID0gdGhpcy5nZXRBbGwoYSk7CgogICAgICBpZiAoZy5sZW5ndGgpIHsKICAgICAgICBmb3IgKGIgPSAwOyBiIDwgZi5sZW5ndGg7IGIrKykgewogICAgICAgICAgZ2ouZ3JpZC5wbHVnaW5zLmV4cG9ydC5wdWJsaWMuaXNDb2x1bW5BcHBsaWNhYmxlKGZbYl0pICYmIChkICs9ICciJyArIChmW2JdLnRpdGxlIHx8IGZbYl0uZmllbGQpLnJlcGxhY2UoLzxbXj5dKz4vZywgIiAiKSArICciLCcpOwogICAgICAgIH0KCiAgICAgICAgZm9yIChlICs9IGQuc2xpY2UoMCwgZC5sZW5ndGggLSAxKSArICJcclxuIiwgYiA9IDA7IGIgPCBnLmxlbmd0aDsgYisrKSB7CiAgICAgICAgICBmb3IgKGQgPSAiIiwgYyA9IDA7IGMgPCBmLmxlbmd0aDsgYysrKSB7CiAgICAgICAgICAgIGdqLmdyaWQucGx1Z2lucy5leHBvcnQucHVibGljLmlzQ29sdW1uQXBwbGljYWJsZShmW2NdKSAmJiAoZCArPSAnIicgKyBnW2JdW2ZbY10uZmllbGRdICsgJyIsJyk7CiAgICAgICAgICB9CgogICAgICAgICAgZSArPSBkLnNsaWNlKDAsIGQubGVuZ3RoIC0gMSkgKyAiXHJcbiI7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZTsKICAgIH0sCiAgICBkb3dubG9hZENTVjogZnVuY3Rpb24gZG93bmxvYWRDU1YoYSwgYikgewogICAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYyksIGMuZG93bmxvYWQgPSBhIHx8ICJncmlkZGF0YS5jc3YiLCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJFZGdlIikgPiAtMSA/IGMuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3RoaXMuZ2V0Q1NWKGIpXSwgewogICAgICAgIHR5cGU6ICJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OyIKICAgICAgfSkpIDogYy5ocmVmID0gImRhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwiICsgZXNjYXBlKHRoaXMuZ2V0Q1NWKGIpKSwgYy5jbGljaygpLCBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGMpLCB0aGlzOwogICAgfSwKICAgIGlzQ29sdW1uQXBwbGljYWJsZTogZnVuY3Rpb24gaXNDb2x1bW5BcHBsaWNhYmxlKGEpIHsKICAgICAgcmV0dXJuICEwICE9PSBhLmhpZGRlbiAmJiAhYS5yb2xlOwogICAgfQogIH0sCiAgY29uZmlndXJlOiBmdW5jdGlvbiBjb25maWd1cmUoYSkgewogICAgJC5leHRlbmQoITAsIGEsIGdqLmdyaWQucGx1Z2lucy5leHBvcnQucHVibGljKTsKICB9Cn0sIGdqLmdyaWQucGx1Z2lucy5jb2x1bW5SZW9yZGVyID0gewogIGNvbmZpZzogewogICAgYmFzZTogewogICAgICBjb2x1bW5SZW9yZGVyOiAhMSwKICAgICAgZHJhZ1JlYWR5OiAhMSwKICAgICAgc3R5bGU6IHsKICAgICAgICB0YXJnZXRSb3dJbmRpY2F0b3JUb3A6ICJnai1ncmlkLXJvdy1yZW9yZGVyLWluZGljYXRvci10b3AiLAogICAgICAgIHRhcmdldFJvd0luZGljYXRvckJvdHRvbTogImdqLWdyaWQtcm93LXJlb3JkZXItaW5kaWNhdG9yLWJvdHRvbSIKICAgICAgfQogICAgfQogIH0sCiAgcHJpdmF0ZTogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChhKSB7CiAgICAgIHZhciBiLAogICAgICAgICAgYywKICAgICAgICAgIGQgPSBhLmZpbmQoInRoZWFkIHRyIHRoIik7CgogICAgICBmb3IgKGIgPSAwOyBiIDwgZC5sZW5ndGg7IGIrKykgewogICAgICAgIGMgPSAkKGRbYl0pLCBjLm9uKCJtb3VzZWRvd24iLCBnai5ncmlkLnBsdWdpbnMuY29sdW1uUmVvcmRlci5wcml2YXRlLmNyZWF0ZU1vdXNlRG93bkhhbmRsZXIoYSwgYykpLCBjLm9uKCJtb3VzZW1vdmUiLCBnai5ncmlkLnBsdWdpbnMuY29sdW1uUmVvcmRlci5wcml2YXRlLmNyZWF0ZU1vdXNlTW92ZUhhbmRsZXIoYSwgYykpLCBjLm9uKCJtb3VzZXVwIiwgZ2ouZ3JpZC5wbHVnaW5zLmNvbHVtblJlb3JkZXIucHJpdmF0ZS5jcmVhdGVNb3VzZVVwSGFuZGxlcihhLCBjKSk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVNb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVNb3VzZURvd25IYW5kbGVyKGEpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChiKSB7CiAgICAgICAgYS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBhLmRhdGEoImRyYWdSZWFkeSIsICEwKTsKICAgICAgICB9LCAxMDApOwogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZU1vdXNlVXBIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVNb3VzZVVwSGFuZGxlcihhKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICAgIGNsZWFyVGltZW91dChhLnRpbWVvdXQpLCBhLmRhdGEoImRyYWdSZWFkeSIsICExKTsKICAgICAgfTsKICAgIH0sCiAgICBjcmVhdGVNb3VzZU1vdmVIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVNb3VzZU1vdmVIYW5kbGVyKGEsIGIpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgdmFyIGQsIGU7CiAgICAgICAgYS5kYXRhKCJkcmFnUmVhZHkiKSAmJiAoYS5kYXRhKCJkcmFnUmVhZHkiLCAhMSksIGQgPSBhLmNsb25lKCksIGUgPSBiLmluZGV4KCksIGEuYWRkQ2xhc3MoImdqLXVuc2VsZWN0YWJsZSIpLCAkKCJib2R5IikuYXBwZW5kKGQpLCBkLmF0dHIoImRhdGEtcm9sZSIsICJkcmFnZ2FibGUtY2xvbmUiKS5jc3MoImN1cnNvciIsICJtb3ZlIiksIGQuZmluZCgidGhlYWQgdHIgdGg6ZXEoIiArIGUgKyAiKSIpLnNpYmxpbmdzKCkucmVtb3ZlKCksIGQuZmluZCgndGJvZHkgdHJbZGF0YS1yb2xlICE9ICJyb3ciXScpLnJlbW92ZSgpLCBkLmZpbmQoInRib2R5IHRyIHRkOm50aC1jaGlsZCgiICsgKGUgKyAxKSArICIpIikuc2libGluZ3MoKS5yZW1vdmUoKSwgZC5maW5kKCJ0Zm9vdCIpLnJlbW92ZSgpLCBkLmRyYWdnYWJsZSh7CiAgICAgICAgICBzdG9wOiBnai5ncmlkLnBsdWdpbnMuY29sdW1uUmVvcmRlci5wcml2YXRlLmNyZWF0ZURyYWdTdG9wSGFuZGxlcihhLCBiKQogICAgICAgIH0pLCBkLmNzcyh7CiAgICAgICAgICBwb3NpdGlvbjogImFic29sdXRlIiwKICAgICAgICAgIHRvcDogYi5vZmZzZXQoKS50b3AsCiAgICAgICAgICBsZWZ0OiBiLm9mZnNldCgpLmxlZnQsCiAgICAgICAgICB3aWR0aDogYi53aWR0aCgpLAogICAgICAgICAgekluZGV4OiAxCiAgICAgICAgfSksICJ0cnVlIiA9PT0gYi5hdHRyKCJkYXRhLWRyb3BwYWJsZSIpICYmIGIuZHJvcHBhYmxlKCJkZXN0cm95IiksIGIuc2libGluZ3MoInRoIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgYyA9ICQodGhpcyk7CiAgICAgICAgICAidHJ1ZSIgPT09IGMuYXR0cigiZGF0YS1kcm9wcGFibGUiKSAmJiBjLmRyb3BwYWJsZSgiZGVzdHJveSIpLCBjLmRyb3BwYWJsZSh7CiAgICAgICAgICAgIG92ZXI6IGdqLmdyaWQucGx1Z2lucy5jb2x1bW5SZW9yZGVyLnByaXZhdGUuY3JlYXRlRHJvcHBhYmxlT3ZlckhhbmRsZXIoYSwgYiksCiAgICAgICAgICAgIG91dDogZ2ouZ3JpZC5wbHVnaW5zLmNvbHVtblJlb3JkZXIucHJpdmF0ZS5kcm9wcGFibGVPdXQKICAgICAgICAgIH0pOwogICAgICAgIH0pLCBkLnRyaWdnZXIoIm1vdXNlZG93biIpKTsKICAgICAgfTsKICAgIH0sCiAgICBjcmVhdGVEcmFnU3RvcEhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZURyYWdTdG9wSGFuZGxlcihhLCBiKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYywgZCkgewogICAgICAgICQoJ3RhYmxlW2RhdGEtcm9sZT0iZHJhZ2dhYmxlLWNsb25lIl0nKS5kcmFnZ2FibGUoImRlc3Ryb3kiKS5yZW1vdmUoKSwgYS5yZW1vdmVDbGFzcygiZ2otdW5zZWxlY3RhYmxlIiksIGIuc2libGluZ3MoInRoIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgYyA9ICQodGhpcyksCiAgICAgICAgICAgICAgZSA9IGEuZGF0YSgpLAogICAgICAgICAgICAgIGYgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q29sdW1uUG9zaXRpb24oZS5jb2x1bW5zLCBjLmRhdGEoImZpZWxkIikpLAogICAgICAgICAgICAgIGcgPSBnai5ncmlkLm1ldGhvZHMuZ2V0Q29sdW1uUG9zaXRpb24oZS5jb2x1bW5zLCBiLmRhdGEoImZpZWxkIikpOwogICAgICAgICAgYy5yZW1vdmVDbGFzcygiZ2otZ3JpZC1sZWZ0LWJvcmRlciIpLnJlbW92ZUNsYXNzKCJnai1ncmlkLXJpZ2h0LWJvcmRlciIpLCBjLmNsb3Nlc3QoInRhYmxlIikuZmluZCgndGJvZHkgdHJbZGF0YS1yb2xlPSJyb3ciXSB0ZDpudGgtY2hpbGQoJyArIChjLmluZGV4KCkgKyAxKSArICIpIikucmVtb3ZlQ2xhc3MoImdqLWdyaWQtbGVmdC1ib3JkZXIiKS5yZW1vdmVDbGFzcygiZ2otZ3JpZC1yaWdodC1ib3JkZXIiKSwgYy5kcm9wcGFibGUoImlzT3ZlciIsIGQpICYmIChmIDwgZyA/IGMuYmVmb3JlKGIpIDogYy5hZnRlcihiKSwgZ2ouZ3JpZC5wbHVnaW5zLmNvbHVtblJlb3JkZXIucHJpdmF0ZS5tb3ZlUm93Q2VsbHMoYSwgZywgZiksIGUuY29sdW1ucy5zcGxpY2UoZiwgMCwgZS5jb2x1bW5zLnNwbGljZShnLCAxKVswXSkpLCBjLmRyb3BwYWJsZSgiZGVzdHJveSIpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIG1vdmVSb3dDZWxsczogZnVuY3Rpb24gbW92ZVJvd0NlbGxzKGEsIGIsIGMpIHsKICAgICAgdmFyIGQsCiAgICAgICAgICBlLAogICAgICAgICAgZiA9IGEuZmluZCgndGJvZHkgdHJbZGF0YS1yb2xlPSJyb3ciXScpOwoKICAgICAgZm9yIChkID0gMDsgZCA8IGYubGVuZ3RoOyBkKyspIHsKICAgICAgICBlID0gJChmW2RdKSwgYyA8IGIgPyBlLmZpbmQoInRkOmVxKCIgKyBjICsgIikiKS5iZWZvcmUoZS5maW5kKCJ0ZDplcSgiICsgYiArICIpIikpIDogZS5maW5kKCJ0ZDplcSgiICsgYyArICIpIikuYWZ0ZXIoZS5maW5kKCJ0ZDplcSgiICsgYiArICIpIikpOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlRHJvcHBhYmxlT3ZlckhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZURyb3BwYWJsZU92ZXJIYW5kbGVyKGEsIGIpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgdmFyIGQgPSAkKHRoaXMpLAogICAgICAgICAgICBlID0gYS5kYXRhKCk7CiAgICAgICAgZ2ouZ3JpZC5tZXRob2RzLmdldENvbHVtblBvc2l0aW9uKGUuY29sdW1ucywgZC5kYXRhKCJmaWVsZCIpKSA8IGdqLmdyaWQubWV0aG9kcy5nZXRDb2x1bW5Qb3NpdGlvbihlLmNvbHVtbnMsIGIuZGF0YSgiZmllbGQiKSkgPyAoZC5hZGRDbGFzcygiZ2otZ3JpZC1sZWZ0LWJvcmRlciIpLCBhLmZpbmQoJ3Rib2R5IHRyW2RhdGEtcm9sZT0icm93Il0gdGQ6bnRoLWNoaWxkKCcgKyAoZC5pbmRleCgpICsgMSkgKyAiKSIpLmFkZENsYXNzKCJnai1ncmlkLWxlZnQtYm9yZGVyIikpIDogKGQuYWRkQ2xhc3MoImdqLWdyaWQtcmlnaHQtYm9yZGVyIiksIGEuZmluZCgndGJvZHkgdHJbZGF0YS1yb2xlPSJyb3ciXSB0ZDpudGgtY2hpbGQoJyArIChkLmluZGV4KCkgKyAxKSArICIpIikuYWRkQ2xhc3MoImdqLWdyaWQtcmlnaHQtYm9yZGVyIikpOwogICAgICB9OwogICAgfSwKICAgIGRyb3BwYWJsZU91dDogZnVuY3Rpb24gZHJvcHBhYmxlT3V0KCkgewogICAgICB2YXIgYSA9ICQodGhpcyk7CiAgICAgIGEucmVtb3ZlQ2xhc3MoImdqLWdyaWQtbGVmdC1ib3JkZXIiKS5yZW1vdmVDbGFzcygiZ2otZ3JpZC1yaWdodC1ib3JkZXIiKSwgYS5jbG9zZXN0KCJ0YWJsZSIpLmZpbmQoJ3Rib2R5IHRyW2RhdGEtcm9sZT0icm93Il0gdGQ6bnRoLWNoaWxkKCcgKyAoYS5pbmRleCgpICsgMSkgKyAiKSIpLnJlbW92ZUNsYXNzKCJnai1ncmlkLWxlZnQtYm9yZGVyIikucmVtb3ZlQ2xhc3MoImdqLWdyaWQtcmlnaHQtYm9yZGVyIik7CiAgICB9CiAgfSwKICBwdWJsaWM6IHt9LAogIGNvbmZpZ3VyZTogZnVuY3Rpb24gY29uZmlndXJlKGEsIGIsIGMpIHsKICAgICQuZXh0ZW5kKCEwLCBhLCBnai5ncmlkLnBsdWdpbnMuY29sdW1uUmVvcmRlci5wdWJsaWMpLCBiLmNvbHVtblJlb3JkZXIgJiYgYS5vbigiaW5pdGlhbGl6ZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLmdyaWQucGx1Z2lucy5jb2x1bW5SZW9yZGVyLnByaXZhdGUuaW5pdChhKTsKICAgIH0pOwogIH0KfSwgZ2ouZ3JpZC5wbHVnaW5zLmhlYWRlckZpbHRlciA9IHsKICBjb25maWc6IHsKICAgIGJhc2U6IHsKICAgICAgZGVmYXVsdENvbHVtblNldHRpbmdzOiB7CiAgICAgICAgZmlsdGVyYWJsZTogITAKICAgICAgfSwKICAgICAgaGVhZGVyRmlsdGVyOiB7CiAgICAgICAgdHlwZTogIm9uZW50ZXJrZXlwcmVzcyIKICAgICAgfQogICAgfQogIH0sCiAgcHJpdmF0ZTogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChhKSB7CiAgICAgIHZhciBiLAogICAgICAgICAgYywKICAgICAgICAgIGQsCiAgICAgICAgICBlID0gYS5kYXRhKCksCiAgICAgICAgICBmID0gJCgnPHRyIGRhdGEtcm9sZT0iZmlsdGVyIi8+Jyk7CgogICAgICBmb3IgKGIgPSAwOyBiIDwgZS5jb2x1bW5zLmxlbmd0aDsgYisrKSB7CiAgICAgICAgYyA9ICQoIjx0aC8+IiksIGUuY29sdW1uc1tiXS5maWx0ZXJhYmxlICYmIChkID0gJCgnPGlucHV0IGRhdGEtZmllbGQ9IicgKyBlLmNvbHVtbnNbYl0uZmllbGQgKyAnIiBjbGFzcz0iZ2otd2lkdGgtZnVsbCIgLz4nKSwgIm9uY2hhbmdlIiA9PT0gZS5oZWFkZXJGaWx0ZXIudHlwZSA/IGQub24oImlucHV0IHByb3BlcnR5Y2hhbmdlIiwgZnVuY3Rpb24gKGIpIHsKICAgICAgICAgIGdqLmdyaWQucGx1Z2lucy5oZWFkZXJGaWx0ZXIucHJpdmF0ZS5yZWxvYWQoYSwgJCh0aGlzKSk7CiAgICAgICAgfSkgOiAoZC5vbigia2V5cHJlc3MiLCBmdW5jdGlvbiAoYikgewogICAgICAgICAgMTMgPT0gYi53aGljaCAmJiBnai5ncmlkLnBsdWdpbnMuaGVhZGVyRmlsdGVyLnByaXZhdGUucmVsb2FkKGEsICQodGhpcykpOwogICAgICAgIH0pLCBkLm9uKCJibHVyIiwgZnVuY3Rpb24gKGIpIHsKICAgICAgICAgIGdqLmdyaWQucGx1Z2lucy5oZWFkZXJGaWx0ZXIucHJpdmF0ZS5yZWxvYWQoYSwgJCh0aGlzKSk7CiAgICAgICAgfSkpLCBjLmFwcGVuZChkKSksIGUuY29sdW1uc1tiXS5oaWRkZW4gJiYgYy5oaWRlKCksIGYuYXBwZW5kKGMpOwogICAgICB9CgogICAgICBhLmNoaWxkcmVuKCJ0aGVhZCIpLmFwcGVuZChmKTsKICAgIH0sCiAgICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZChhLCBiKSB7CiAgICAgIHZhciBjID0ge307CiAgICAgIGNbYi5kYXRhKCJmaWVsZCIpXSA9IGIudmFsKCksIGEucmVsb2FkKGMpOwogICAgfQogIH0sCiAgcHVibGljOiB7fSwKICBldmVudHM6IHt9LAogIGNvbmZpZ3VyZTogZnVuY3Rpb24gY29uZmlndXJlKGEsIGIsIGMpIHsKICAgICQuZXh0ZW5kKCEwLCBhLCBnai5ncmlkLnBsdWdpbnMuaGVhZGVyRmlsdGVyLnB1YmxpYyk7CiAgICBhLmRhdGEoKTsKICAgIGMuaGVhZGVyRmlsdGVyICYmIGEub24oImluaXRpYWxpemVkIiwgZnVuY3Rpb24gKCkgewogICAgICBnai5ncmlkLnBsdWdpbnMuaGVhZGVyRmlsdGVyLnByaXZhdGUuaW5pdChhKTsKICAgIH0pOwogIH0KfSwgZ2ouZ3JpZC5wbHVnaW5zLmdyb3VwaW5nID0gewogIGNvbmZpZzogewogICAgYmFzZTogewogICAgICBwYXJhbU5hbWVzOiB7CiAgICAgICAgZ3JvdXBCeTogImdyb3VwQnkiLAogICAgICAgIGdyb3VwQnlEaXJlY3Rpb246ICJncm91cEJ5RGlyZWN0aW9uIgogICAgICB9LAogICAgICBncm91cGluZzogewogICAgICAgIGdyb3VwQnk6IHZvaWQgMCwKICAgICAgICBkaXJlY3Rpb246ICJhc2MiCiAgICAgIH0sCiAgICAgIGljb25zOiB7CiAgICAgICAgZXhwYW5kR3JvdXA6ICc8aSBjbGFzcz0iZ2otaWNvbiBwbHVzIiAvPicsCiAgICAgICAgY29sbGFwc2VHcm91cDogJzxpIGNsYXNzPSJnai1pY29uIG1pbnVzIiAvPicKICAgICAgfQogICAgfSwKICAgIGZvbnRhd2Vzb21lOiB7CiAgICAgIGljb25zOiB7CiAgICAgICAgZXhwYW5kR3JvdXA6ICc8aSBjbGFzcz0iZmEgZmEtcGx1cyIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nLAogICAgICAgIGNvbGxhcHNlR3JvdXA6ICc8aSBjbGFzcz0iZmEgZmEtbWludXMiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+JwogICAgICB9CiAgICB9LAogICAgZ2x5cGhpY29uczogewogICAgICBpY29uczogewogICAgICAgIGV4cGFuZEdyb3VwOiAnPHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tcGx1cyIgLz4nLAogICAgICAgIGNvbGxhcHNlR3JvdXA6ICc8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1taW51cyIgLz4nCiAgICAgIH0KICAgIH0KICB9LAogIHByaXZhdGU6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgICB2YXIgYiwKICAgICAgICAgIGMgPSBhLmRhdGEoKTsKICAgICAgYiA9IHZvaWQgMCwgYS5vbigicm93RGF0YUJvdW5kIiwgZnVuY3Rpb24gKGQsIGUsIGYsIGcpIHsKICAgICAgICBpZiAoYiAhPT0gZ1tjLmdyb3VwaW5nLmdyb3VwQnldIHx8IDEgPT09IGVbMF0ucm93SW5kZXgpIHsKICAgICAgICAgIHZhciBoID0gZ2ouZ3JpZC5tZXRob2RzLmNvdW50VmlzaWJsZUNvbHVtbnMoYSkgLSAxLAogICAgICAgICAgICAgIGkgPSAkKCc8dHIgcm9sZT0iZ3JvdXAiIC8+JyksCiAgICAgICAgICAgICAgaiA9ICQoJzx0ZCBjbGFzcz0iZ2otdGV4dC1hbGlnbi1jZW50ZXIgZ2otdW5zZWxlY3RhYmxlIGdqLWN1cnNvci1wb2ludGVyIiAvPicpOwogICAgICAgICAgai5hcHBlbmQoJzxkaXYgZGF0YS1yb2xlPSJkaXNwbGF5Ij4nICsgYy5pY29ucy5jb2xsYXBzZUdyb3VwICsgIjwvZGl2PiIpLCBqLm9uKCJjbGljayIsIGdqLmdyaWQucGx1Z2lucy5ncm91cGluZy5wcml2YXRlLmNyZWF0ZUV4cGFuZENvbGxhcHNlSGFuZGxlcihjKSksIGkuYXBwZW5kKGopLCBpLmFwcGVuZCgnPHRkIGNvbHNwYW49IicgKyBoICsgJyI+PGRpdiBkYXRhLXJvbGU9ImRpc3BsYXkiPicgKyBjLmdyb3VwaW5nLmdyb3VwQnkgKyAiOiAiICsgZ1tjLmdyb3VwaW5nLmdyb3VwQnldICsgIjwvZGl2PjwvdGQ+IiksIGkuaW5zZXJ0QmVmb3JlKGUpLCBiID0gZ1tjLmdyb3VwaW5nLmdyb3VwQnldOwogICAgICAgIH0KCiAgICAgICAgZS5zaG93KCk7CiAgICAgIH0pLCBjLnBhcmFtc1tjLnBhcmFtTmFtZXMuZ3JvdXBCeV0gPSBjLmdyb3VwaW5nLmdyb3VwQnksIGMucGFyYW1zW2MucGFyYW1OYW1lcy5ncm91cEJ5RGlyZWN0aW9uXSA9IGMuZ3JvdXBpbmcuZGlyZWN0aW9uOwogICAgfSwKICAgIGdyb3VwaW5nOiBmdW5jdGlvbiBncm91cGluZyhhLCBiKSB7CiAgICAgIHZhciBjID0gYS5kYXRhKCk7CiAgICAgIGIuc29ydChnai5ncmlkLm1ldGhvZHMuY3JlYXRlRGVmYXVsdFNvcnRlcihjLmdyb3VwaW5nLmRpcmVjdGlvbiwgYy5ncm91cGluZy5ncm91cEJ5KSk7CiAgICB9LAogICAgY3JlYXRlRXhwYW5kQ29sbGFwc2VIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVFeHBhbmRDb2xsYXBzZUhhbmRsZXIoYSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHsKICAgICAgICB2YXIgYyA9ICQodGhpcyksCiAgICAgICAgICAgIGQgPSBnai5ncmlkLnBsdWdpbnMuZ3JvdXBpbmcucHJpdmF0ZTsKICAgICAgICAicm93IiA9PT0gYy5jbG9zZXN0KCJ0ciIpLm5leHQoIjp2aXNpYmxlIikuZGF0YSgicm9sZSIpID8gZC5jb2xsYXBzZUdyb3VwKGEsIGMpIDogZC5leHBhbmRHcm91cChhLCBjKTsKICAgICAgfTsKICAgIH0sCiAgICBjb2xsYXBzZUdyb3VwOiBmdW5jdGlvbiBjb2xsYXBzZUdyb3VwKGEsIGIpIHsKICAgICAgdmFyIGMgPSBiLmNoaWxkcmVuKCdkaXZbZGF0YS1yb2xlPSJkaXNwbGF5Il0nKTsKICAgICAgYi5jbG9zZXN0KCJ0ciIpLm5leHRVbnRpbCgnW3JvbGU9Imdyb3VwIl0nKS5oaWRlKCksIGMuZW1wdHkoKS5hcHBlbmQoYS5pY29ucy5leHBhbmRHcm91cCk7CiAgICB9LAogICAgZXhwYW5kR3JvdXA6IGZ1bmN0aW9uIGV4cGFuZEdyb3VwKGEsIGIpIHsKICAgICAgdmFyIGMgPSBiLmNoaWxkcmVuKCdkaXZbZGF0YS1yb2xlPSJkaXNwbGF5Il0nKTsKICAgICAgYi5jbG9zZXN0KCJ0ciIpLm5leHRVbnRpbCgnW3JvbGU9Imdyb3VwIl0nKS5zaG93KCksIGMuZW1wdHkoKS5hcHBlbmQoYS5pY29ucy5jb2xsYXBzZUdyb3VwKTsKICAgIH0KICB9LAogIHB1YmxpYzoge30sCiAgY29uZmlndXJlOiBmdW5jdGlvbiBjb25maWd1cmUoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IGEuZGF0YSgpOwogICAgJC5leHRlbmQoITAsIGEsIGdqLmdyaWQucGx1Z2lucy5ncm91cGluZy5wdWJsaWMpLCBjLmdyb3VwaW5nICYmIGMuZ3JvdXBpbmcuZ3JvdXBCeSAmJiAoYiA9IHsKICAgICAgdGl0bGU6ICIiLAogICAgICB3aWR0aDogYy5kZWZhdWx0SWNvbkNvbHVtbldpZHRoLAogICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgIHN0b3BQcm9wYWdhdGlvbjogITAsCiAgICAgIGNzc0NsYXNzOiAiZ2otY3Vyc29yLXBvaW50ZXIgZ2otdW5zZWxlY3RhYmxlIgogICAgfSwgYy5jb2x1bW5zID0gW2JdLmNvbmNhdChjLmNvbHVtbnMpLCBhLm9uKCJpbml0aWFsaXplZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgZ2ouZ3JpZC5wbHVnaW5zLmdyb3VwaW5nLnByaXZhdGUuaW5pdChhKTsKICAgIH0pLCBhLm9uKCJkYXRhRmlsdGVyZWQiLCBmdW5jdGlvbiAoYiwgYykgewogICAgICBnai5ncmlkLnBsdWdpbnMuZ3JvdXBpbmcucHJpdmF0ZS5ncm91cGluZyhhLCBjKTsKICAgIH0pKTsKICB9Cn0sIGdqLmdyaWQubWVzc2FnZXNbImVuLXVzIl0gPSB7CiAgRmlyc3Q6ICJGaXJzdCIsCiAgUHJldmlvdXM6ICJQcmV2aW91cyIsCiAgTmV4dDogIk5leHQiLAogIExhc3Q6ICJMYXN0IiwKICBQYWdlOiAiUGFnZSIsCiAgRmlyc3RQYWdlVG9vbHRpcDogIkZpcnN0IFBhZ2UiLAogIFByZXZpb3VzUGFnZVRvb2x0aXA6ICJQcmV2aW91cyBQYWdlIiwKICBOZXh0UGFnZVRvb2x0aXA6ICJOZXh0IFBhZ2UiLAogIExhc3RQYWdlVG9vbHRpcDogIkxhc3QgUGFnZSIsCiAgUmVmcmVzaDogIlJlZnJlc2giLAogIE9mOiAib2YiLAogIERpc3BsYXlpbmdSZWNvcmRzOiAiRGlzcGxheWluZyByZWNvcmRzIiwKICBSb3dzUGVyUGFnZTogIlJvd3MgcGVyIHBhZ2U6IiwKICBFZGl0OiAiRWRpdCIsCiAgRGVsZXRlOiAiRGVsZXRlIiwKICBVcGRhdGU6ICJVcGRhdGUiLAogIENhbmNlbDogIkNhbmNlbCIsCiAgTm9SZWNvcmRzRm91bmQ6ICJObyByZWNvcmRzIGZvdW5kLiIsCiAgTG9hZGluZzogIkxvYWRpbmcuLi4iCn0sIGdqLnRyZWUgPSB7CiAgcGx1Z2luczoge30KfSwgZ2oudHJlZS5jb25maWcgPSB7CiAgYmFzZTogewogICAgcGFyYW1zOiB7fSwKICAgIGF1dG9Mb2FkOiAhMCwKICAgIHNlbGVjdGlvblR5cGU6ICJzaW5nbGUiLAogICAgY2FzY2FkZVNlbGVjdGlvbjogITEsCiAgICBkYXRhU291cmNlOiB2b2lkIDAsCiAgICBwcmltYXJ5S2V5OiB2b2lkIDAsCiAgICB0ZXh0RmllbGQ6ICJ0ZXh0IiwKICAgIGNoaWxkcmVuRmllbGQ6ICJjaGlsZHJlbiIsCiAgICBoYXNDaGlsZHJlbkZpZWxkOiAiaGFzQ2hpbGRyZW4iLAogICAgaW1hZ2VDc3NDbGFzc0ZpZWxkOiAiaW1hZ2VDc3NDbGFzcyIsCiAgICBpbWFnZVVybEZpZWxkOiAiaW1hZ2VVcmwiLAogICAgaW1hZ2VIdG1sRmllbGQ6ICJpbWFnZUh0bWwiLAogICAgZGlzYWJsZWRGaWVsZDogImRpc2FibGVkIiwKICAgIHdpZHRoOiB2b2lkIDAsCiAgICBib3JkZXI6ICExLAogICAgdWlMaWJyYXJ5OiAibWF0ZXJpYWxkZXNpZ24iLAogICAgaWNvbnNMaWJyYXJ5OiAibWF0ZXJpYWxpY29ucyIsCiAgICBhdXRvR2VuSWQ6IDEsCiAgICBhdXRvR2VuRmllbGROYW1lOiAiYXV0b0lkX2I1NDk3Y2M1LTdlZjMtNDlmNS1hN2RjLTRhOTMyZTFhZWU0YSIsCiAgICBpbmRlbnRhdGlvbjogMjQsCiAgICBzdHlsZTogewogICAgICB3cmFwcGVyOiAiZ2otdW5zZWxlY3RhYmxlIiwKICAgICAgbGlzdDogImdqLWxpc3QgZ2otbGlzdC1tZCIsCiAgICAgIGl0ZW06IHZvaWQgMCwKICAgICAgYWN0aXZlOiAiZ2otbGlzdC1tZC1hY3RpdmUiLAogICAgICBsZWFmSWNvbjogdm9pZCAwLAogICAgICBib3JkZXI6ICJnai10cmVlLW1kLWJvcmRlciIKICAgIH0sCiAgICBpY29uczogewogICAgICBleHBhbmQ6ICc8aSBjbGFzcz0iZ2otaWNvbiBjaGV2cm9uLXJpZ2h0IiAvPicsCiAgICAgIGNvbGxhcHNlOiAnPGkgY2xhc3M9ImdqLWljb24gY2hldnJvbi1kb3duIiAvPicKICAgIH0KICB9LAogIGJvb3RzdHJhcDogewogICAgc3R5bGU6IHsKICAgICAgd3JhcHBlcjogImdqLXVuc2VsZWN0YWJsZSBnai10cmVlLWJvb3RzdHJhcC0zIiwKICAgICAgbGlzdDogImdqLWxpc3QgZ2otbGlzdC1ib290c3RyYXAgbGlzdC1ncm91cCIsCiAgICAgIGl0ZW06ICJsaXN0LWdyb3VwLWl0ZW0iLAogICAgICBhY3RpdmU6ICJhY3RpdmUiLAogICAgICBib3JkZXI6ICJnai10cmVlLWJvb3RzdHJhcC1ib3JkZXIiCiAgICB9LAogICAgaWNvbnNMaWJyYXJ5OiAiZ2x5cGhpY29ucyIKICB9LAogIGJvb3RzdHJhcDQ6IHsKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai11bnNlbGVjdGFibGUgZ2otdHJlZS1ib290c3RyYXAtNCIsCiAgICAgIGxpc3Q6ICJnai1saXN0IGdqLWxpc3QtYm9vdHN0cmFwIiwKICAgICAgaXRlbTogImxpc3QtZ3JvdXAtaXRlbSIsCiAgICAgIGFjdGl2ZTogImFjdGl2ZSIsCiAgICAgIGJvcmRlcjogImdqLXRyZWUtYm9vdHN0cmFwLWJvcmRlciIKICAgIH0sCiAgICBpY29uczogewogICAgICBleHBhbmQ6ICc8aSBjbGFzcz0iZ2otaWNvbiBwbHVzIiAvPicsCiAgICAgIGNvbGxhcHNlOiAnPGkgY2xhc3M9ImdqLWljb24gbWludXMiIC8+JwogICAgfQogIH0sCiAgbWF0ZXJpYWxpY29uczogewogICAgc3R5bGU6IHsKICAgICAgZXhwYW5kZXI6ICJnai10cmVlLW1hdGVyaWFsLWljb25zLWV4cGFuZGVyIgogICAgfQogIH0sCiAgZm9udGF3ZXNvbWU6IHsKICAgIHN0eWxlOiB7CiAgICAgIGV4cGFuZGVyOiAiZ2otdHJlZS1mb250LWF3ZXNvbWUtZXhwYW5kZXIiCiAgICB9LAogICAgaWNvbnM6IHsKICAgICAgZXhwYW5kOiAnPGkgY2xhc3M9ImZhIGZhLXBsdXMiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+JywKICAgICAgY29sbGFwc2U6ICc8aSBjbGFzcz0iZmEgZmEtbWludXMiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+JwogICAgfQogIH0sCiAgZ2x5cGhpY29uczogewogICAgc3R5bGU6IHsKICAgICAgZXhwYW5kZXI6ICJnai10cmVlLWdseXBoaWNvbnMtZXhwYW5kZXIiCiAgICB9LAogICAgaWNvbnM6IHsKICAgICAgZXhwYW5kOiAnPHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tcGx1cyIgLz4nLAogICAgICBjb2xsYXBzZTogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLW1pbnVzIiAvPicKICAgIH0KICB9Cn0sIGdqLnRyZWUuZXZlbnRzID0gewogIGluaXRpYWxpemVkOiBmdW5jdGlvbiBpbml0aWFsaXplZChhKSB7CiAgICBhLnRyaWdnZXJIYW5kbGVyKCJpbml0aWFsaXplZCIpOwogIH0sCiAgZGF0YUJpbmRpbmc6IGZ1bmN0aW9uIGRhdGFCaW5kaW5nKGEpIHsKICAgIGEudHJpZ2dlckhhbmRsZXIoImRhdGFCaW5kaW5nIik7CiAgfSwKICBkYXRhQm91bmQ6IGZ1bmN0aW9uIGRhdGFCb3VuZChhKSB7CiAgICBhLnRyaWdnZXJIYW5kbGVyKCJkYXRhQm91bmQiKTsKICB9LAogIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGEsIGIsIGMpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJzZWxlY3QiLCBbYiwgY10pOwogIH0sCiAgdW5zZWxlY3Q6IGZ1bmN0aW9uIHVuc2VsZWN0KGEsIGIsIGMpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJ1bnNlbGVjdCIsIFtiLCBjXSk7CiAgfSwKICBleHBhbmQ6IGZ1bmN0aW9uIGV4cGFuZChhLCBiLCBjKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiZXhwYW5kIiwgW2IsIGNdKTsKICB9LAogIGNvbGxhcHNlOiBmdW5jdGlvbiBjb2xsYXBzZShhLCBiLCBjKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiY29sbGFwc2UiLCBbYiwgY10pOwogIH0sCiAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoYSwgYikgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoImVuYWJsZSIsIFtiXSk7CiAgfSwKICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKGEsIGIpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJkaXNhYmxlIiwgW2JdKTsKICB9LAogIGRlc3Ryb3lpbmc6IGZ1bmN0aW9uIGRlc3Ryb3lpbmcoYSkgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoImRlc3Ryb3lpbmciKTsKICB9LAogIG5vZGVEYXRhQm91bmQ6IGZ1bmN0aW9uIG5vZGVEYXRhQm91bmQoYSwgYiwgYywgZCkgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoIm5vZGVEYXRhQm91bmQiLCBbYiwgYywgZF0pOwogIH0KfSwgZ2oudHJlZS5tZXRob2RzID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgcmV0dXJuIGdqLndpZGdldC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIGEsICJ0cmVlIiksIGdqLnRyZWUubWV0aG9kcy5pbml0aWFsaXplLmNhbGwodGhpcyksIHRoaXMuZGF0YSgiYXV0b0xvYWQiKSAmJiB0aGlzLnJlbG9hZCgpLCB0aGlzOwogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICAgIHZhciBhID0gdGhpcy5kYXRhKCksCiAgICAgICAgYiA9ICQoJzx1bCBjbGFzcz0iJyArIGEuc3R5bGUubGlzdCArICciLz4nKTsKICAgIHRoaXMuZW1wdHkoKS5hZGRDbGFzcyhhLnN0eWxlLndyYXBwZXIpLmFwcGVuZChiKSwgYS53aWR0aCAmJiB0aGlzLndpZHRoKGEud2lkdGgpLCBhLmJvcmRlciAmJiB0aGlzLmFkZENsYXNzKGEuc3R5bGUuYm9yZGVyKSwgZ2oudHJlZS5ldmVudHMuaW5pdGlhbGl6ZWQodGhpcyk7CiAgfSwKICB1c2VIdG1sRGF0YVNvdXJjZTogZnVuY3Rpb24gdXNlSHRtbERhdGFTb3VyY2UoYSwgYikgewogICAgYi5kYXRhU291cmNlID0gW107CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihhLCBiKSB7CiAgICB2YXIgYzsKICAgIHJldHVybiBiICYmICgic3RyaW5nIiA9PSB0eXBlb2YgYiAmJiBKU09OICYmIChiID0gSlNPTi5wYXJzZShiKSksIGMgPSBhLmRhdGEoKSwgYy5yZWNvcmRzID0gYiwgYy5wcmltYXJ5S2V5IHx8IGdqLnRyZWUubWV0aG9kcy5nZW5BdXRvSWQoYywgYy5yZWNvcmRzKSwgZ2oudHJlZS5tZXRob2RzLmxvYWREYXRhKGEpKSwgYTsKICB9LAogIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGEpIHsKICAgIHJldHVybiBhLmRhdGEoKS5kYXRhU291cmNlOwogIH0sCiAgZ2VuQXV0b0lkOiBmdW5jdGlvbiBnZW5BdXRvSWQoYSwgYikgewogICAgdmFyIGM7CgogICAgZm9yIChjID0gMDsgYyA8IGIubGVuZ3RoOyBjKyspIHsKICAgICAgYltjXVthLmF1dG9HZW5GaWVsZE5hbWVdID0gYS5hdXRvR2VuSWQrKywgYltjXVthLmNoaWxkcmVuRmllbGRdICYmIGJbY11bYS5jaGlsZHJlbkZpZWxkXS5sZW5ndGggJiYgZ2oudHJlZS5tZXRob2RzLmdlbkF1dG9JZChhLCBiW2NdW2EuY2hpbGRyZW5GaWVsZF0pOwogICAgfQogIH0sCiAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMgPSBhLmRhdGEoInJlY29yZHMiKSwKICAgICAgICBkID0gYS5jaGlsZHJlbigidWwiKTsKCiAgICBmb3IgKGdqLnRyZWUuZXZlbnRzLmRhdGFCaW5kaW5nKGEpLCBkLm9mZigpLmVtcHR5KCksIGIgPSAwOyBiIDwgYy5sZW5ndGg7IGIrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuYXBwZW5kTm9kZShhLCBkLCBjW2JdLCAxKTsKICAgIH0KCiAgICBnai50cmVlLmV2ZW50cy5kYXRhQm91bmQoYSk7CiAgfSwKICBhcHBlbmROb2RlOiBmdW5jdGlvbiBhcHBlbmROb2RlKGEsIGIsIGMsIGQsIGUpIHsKICAgIHZhciBmLAogICAgICAgIGcsCiAgICAgICAgaCwKICAgICAgICBpLAogICAgICAgIGosCiAgICAgICAgayA9IGEuZGF0YSgpLAogICAgICAgIGwgPSBrLnByaW1hcnlLZXkgPyBjW2sucHJpbWFyeUtleV0gOiBjW2suYXV0b0dlbkZpZWxkTmFtZV07CgogICAgaWYgKGcgPSAkKCc8bGkgZGF0YS1pZD0iJyArIGwgKyAnIiBkYXRhLXJvbGU9Im5vZGUiIC8+JykuYWRkQ2xhc3Moay5zdHlsZS5pdGVtKSwgJHdyYXBwZXIgPSAkKCc8ZGl2IGRhdGEtcm9sZT0id3JhcHBlciIgLz4nKSwgJGV4cGFuZGVyID0gJCgnPHNwYW4gZGF0YS1yb2xlPSJleHBhbmRlciIgZGF0YS1tb2RlPSJjbG9zZSI+PC9zcGFuPicpLmFkZENsYXNzKGsuc3R5bGUuZXhwYW5kZXIpLCAkZGlzcGxheSA9ICQoJzxzcGFuIGRhdGEtcm9sZT0iZGlzcGxheSI+JyArIGNbay50ZXh0RmllbGRdICsgIjwvc3Bhbj4iKSwgaGFzQ2hpbGRyZW4gPSB2b2lkIDAgIT09IGNbay5oYXNDaGlsZHJlbkZpZWxkXSAmJiAidHJ1ZSIgPT09IGNbay5oYXNDaGlsZHJlbkZpZWxkXS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCksIGRpc2FibGVkID0gdm9pZCAwICE9PSBjW2suZGlzYWJsZWRGaWVsZF0gJiYgInRydWUiID09PSBjW2suZGlzYWJsZWRGaWVsZF0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLCBrLmluZGVudGF0aW9uICYmICR3cmFwcGVyLmFwcGVuZCgnPHNwYW4gZGF0YS1yb2xlPSJzcGFjZXIiIHN0eWxlPSJ3aWR0aDogJyArIGsuaW5kZW50YXRpb24gKiAoZCAtIDEpICsgJ3B4OyI+PC9zcGFuPicpLCBkaXNhYmxlZCA/IGdqLnRyZWUubWV0aG9kcy5kaXNhYmxlTm9kZShhLCBnKSA6ICgkZXhwYW5kZXIub24oImNsaWNrIiwgZ2oudHJlZS5tZXRob2RzLmV4cGFuZGVyQ2xpY2tIYW5kbGVyKGEpKSwgJGRpc3BsYXkub24oImNsaWNrIiwgZ2oudHJlZS5tZXRob2RzLmRpc3BsYXlDbGlja0hhbmRsZXIoYSkpKSwgJHdyYXBwZXIuYXBwZW5kKCRleHBhbmRlciksICR3cmFwcGVyLmFwcGVuZCgkZGlzcGxheSksIGcuYXBwZW5kKCR3cmFwcGVyKSwgZSA/IGIuZmluZCgibGk6ZXEoIiArIChlIC0gMSkgKyAiKSIpLmJlZm9yZShnKSA6IGIuYXBwZW5kKGcpLCBrLmltYWdlQ3NzQ2xhc3NGaWVsZCAmJiBjW2suaW1hZ2VDc3NDbGFzc0ZpZWxkXSA/IChpID0gJCgnPHNwYW4gZGF0YS1yb2xlPSJpbWFnZSI+PHNwYW4gY2xhc3M9IicgKyBjW2suaW1hZ2VDc3NDbGFzc0ZpZWxkXSArICciPjwvc3Bhbj48L3NwYW4+JyksIGkuaW5zZXJ0QmVmb3JlKCRkaXNwbGF5KSkgOiBrLmltYWdlVXJsRmllbGQgJiYgY1trLmltYWdlVXJsRmllbGRdID8gKGkgPSAkKCc8c3BhbiBkYXRhLXJvbGU9ImltYWdlIj48L3NwYW4+JyksIGkuaW5zZXJ0QmVmb3JlKCRkaXNwbGF5KSwgaiA9ICQoJzxpbWcgc3JjPSInICsgY1trLmltYWdlVXJsRmllbGRdICsgJyI+PC9pbWc+JyksIGouYXR0cigid2lkdGgiLCBpLndpZHRoKCkpLmF0dHIoImhlaWdodCIsIGkuaGVpZ2h0KCkpLCBpLmFwcGVuZChqKSkgOiBrLmltYWdlSHRtbEZpZWxkICYmIGNbay5pbWFnZUh0bWxGaWVsZF0gJiYgKGkgPSAkKCc8c3BhbiBkYXRhLXJvbGU9ImltYWdlIj4nICsgY1trLmltYWdlSHRtbEZpZWxkXSArICI8L3NwYW4+IiksIGkuaW5zZXJ0QmVmb3JlKCRkaXNwbGF5KSksIGNbay5jaGlsZHJlbkZpZWxkXSAmJiBjW2suY2hpbGRyZW5GaWVsZF0ubGVuZ3RoIHx8IGhhc0NoaWxkcmVuKSB7CiAgICAgIGlmICgkZXhwYW5kZXIuZW1wdHkoKS5hcHBlbmQoay5pY29ucy5leHBhbmQpLCBoID0gJCgiPHVsIC8+IikuYWRkQ2xhc3Moay5zdHlsZS5saXN0KS5hZGRDbGFzcygiZ2otaGlkZGVuIiksIGcuYXBwZW5kKGgpLCBjW2suY2hpbGRyZW5GaWVsZF0gJiYgY1trLmNoaWxkcmVuRmllbGRdLmxlbmd0aCkgZm9yIChmID0gMDsgZiA8IGNbay5jaGlsZHJlbkZpZWxkXS5sZW5ndGg7IGYrKykgewogICAgICAgIGdqLnRyZWUubWV0aG9kcy5hcHBlbmROb2RlKGEsIGgsIGNbay5jaGlsZHJlbkZpZWxkXVtmXSwgZCArIDEpOwogICAgICB9CiAgICB9IGVsc2Ugay5zdHlsZS5sZWFmSWNvbiA/ICRleHBhbmRlci5hZGRDbGFzcyhrLnN0eWxlLmxlYWZJY29uKSA6ICRleHBhbmRlci5odG1sKCImbmJzcDsiKTsKCiAgICBnai50cmVlLmV2ZW50cy5ub2RlRGF0YUJvdW5kKGEsIGcsIGMuaWQsIGMpOwogIH0sCiAgZXhwYW5kZXJDbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGV4cGFuZGVyQ2xpY2tIYW5kbGVyKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICB2YXIgYyA9ICQodGhpcyksCiAgICAgICAgICBkID0gYy5jbG9zZXN0KCJsaSIpOwogICAgICAiY2xvc2UiID09PSBjLmF0dHIoImRhdGEtbW9kZSIpID8gYS5leHBhbmQoZCkgOiBhLmNvbGxhcHNlKGQpOwogICAgfTsKICB9LAogIGV4cGFuZDogZnVuY3Rpb24gZXhwYW5kKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiA9IGIuZmluZCgnPltkYXRhLXJvbGU9IndyYXBwZXIiXT5bZGF0YS1yb2xlPSJleHBhbmRlciJdJyksCiAgICAgICAgZyA9IGEuZGF0YSgpLAogICAgICAgIGggPSBiLmF0dHIoImRhdGEtaWQiKSwKICAgICAgICBpID0gYi5jaGlsZHJlbigidWwiKTsKICAgIGlmICghMSAhPT0gZ2oudHJlZS5ldmVudHMuZXhwYW5kKGEsIGIsIGgpICYmIGkgJiYgaS5sZW5ndGggJiYgKGkuc2hvdygpLCBmLmF0dHIoImRhdGEtbW9kZSIsICJvcGVuIiksIGYuZW1wdHkoKS5hcHBlbmQoZy5pY29ucy5jb2xsYXBzZSksIGMpKSBmb3IgKGQgPSBiLmZpbmQoInVsPmxpIiksIGUgPSAwOyBlIDwgZC5sZW5ndGg7IGUrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuZXhwYW5kKGEsICQoZFtlXSksIGMpOwogICAgfQogICAgcmV0dXJuIGE7CiAgfSwKICBjb2xsYXBzZTogZnVuY3Rpb24gY29sbGFwc2UoYSwgYiwgYykgewogICAgdmFyIGQsCiAgICAgICAgZSwKICAgICAgICBmID0gYi5maW5kKCc+W2RhdGEtcm9sZT0id3JhcHBlciJdPltkYXRhLXJvbGU9ImV4cGFuZGVyIl0nKSwKICAgICAgICBnID0gYS5kYXRhKCksCiAgICAgICAgaCA9IGIuYXR0cigiZGF0YS1pZCIpLAogICAgICAgIGkgPSBiLmNoaWxkcmVuKCJ1bCIpOwogICAgaWYgKCExICE9PSBnai50cmVlLmV2ZW50cy5jb2xsYXBzZShhLCBiLCBoKSAmJiBpICYmIGkubGVuZ3RoICYmIChpLmhpZGUoKSwgZi5hdHRyKCJkYXRhLW1vZGUiLCAiY2xvc2UiKSwgZi5lbXB0eSgpLmFwcGVuZChnLmljb25zLmV4cGFuZCksIGMpKSBmb3IgKGQgPSBiLmZpbmQoInVsPmxpIiksIGUgPSAwOyBlIDwgZC5sZW5ndGg7IGUrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuY29sbGFwc2UoYSwgJChkW2VdKSwgYyk7CiAgICB9CiAgICByZXR1cm4gYTsKICB9LAogIGV4cGFuZEFsbDogZnVuY3Rpb24gZXhwYW5kQWxsKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMgPSBhLmZpbmQoInVsPmxpIik7CgogICAgZm9yIChiID0gMDsgYiA8IGMubGVuZ3RoOyBiKyspIHsKICAgICAgZ2oudHJlZS5tZXRob2RzLmV4cGFuZChhLCAkKGNbYl0pLCAhMCk7CiAgICB9CgogICAgcmV0dXJuIGE7CiAgfSwKICBjb2xsYXBzZUFsbDogZnVuY3Rpb24gY29sbGFwc2VBbGwoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IGEuZmluZCgidWw+bGkiKTsKCiAgICBmb3IgKGIgPSAwOyBiIDwgYy5sZW5ndGg7IGIrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuY29sbGFwc2UoYSwgJChjW2JdKSwgITApOwogICAgfQoKICAgIHJldHVybiBhOwogIH0sCiAgZGlzcGxheUNsaWNrSGFuZGxlcjogZnVuY3Rpb24gZGlzcGxheUNsaWNrSGFuZGxlcihhKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHsKICAgICAgdmFyIGMgPSAkKHRoaXMpLAogICAgICAgICAgZCA9IGMuY2xvc2VzdCgibGkiKSwKICAgICAgICAgIGUgPSBhLmRhdGEoKS5jYXNjYWRlU2VsZWN0aW9uOwogICAgICAidHJ1ZSIgPT09IGQuYXR0cigiZGF0YS1zZWxlY3RlZCIpID8gZ2oudHJlZS5tZXRob2RzLnVuc2VsZWN0KGEsIGQsIGUpIDogKCJzaW5nbGUiID09PSBhLmRhdGEoInNlbGVjdGlvblR5cGUiKSAmJiBnai50cmVlLm1ldGhvZHMudW5zZWxlY3RBbGwoYSksIGdqLnRyZWUubWV0aG9kcy5zZWxlY3QoYSwgZCwgZSkpOwogICAgfTsKICB9LAogIHNlbGVjdEFsbDogZnVuY3Rpb24gc2VsZWN0QWxsKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMgPSBhLmZpbmQoInVsPmxpIik7CgogICAgZm9yIChiID0gMDsgYiA8IGMubGVuZ3RoOyBiKyspIHsKICAgICAgZ2oudHJlZS5tZXRob2RzLnNlbGVjdChhLCAkKGNbYl0pLCAhMCk7CiAgICB9CgogICAgcmV0dXJuIGE7CiAgfSwKICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChhLCBiLCBjKSB7CiAgICB2YXIgZCwKICAgICAgICBlLAogICAgICAgIGYgPSBhLmRhdGEoKTsKICAgIGlmICgidHJ1ZSIgIT09IGIuYXR0cigiZGF0YS1zZWxlY3RlZCIpICYmICExICE9PSBnai50cmVlLmV2ZW50cy5zZWxlY3QoYSwgYiwgYi5hdHRyKCJkYXRhLWlkIikpICYmIChiLmFkZENsYXNzKGYuc3R5bGUuYWN0aXZlKS5hdHRyKCJkYXRhLXNlbGVjdGVkIiwgInRydWUiKSwgYykpIGZvciAoZSA9IGIuZmluZCgidWw+bGkiKSwgZCA9IDA7IGQgPCBlLmxlbmd0aDsgZCsrKSB7CiAgICAgIGdqLnRyZWUubWV0aG9kcy5zZWxlY3QoYSwgJChlW2RdKSwgYyk7CiAgICB9CiAgfSwKICB1bnNlbGVjdEFsbDogZnVuY3Rpb24gdW5zZWxlY3RBbGwoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IGEuZmluZCgidWw+bGkiKTsKCiAgICBmb3IgKGIgPSAwOyBiIDwgYy5sZW5ndGg7IGIrKykgewogICAgICBnai50cmVlLm1ldGhvZHMudW5zZWxlY3QoYSwgJChjW2JdKSwgITApOwogICAgfQoKICAgIHJldHVybiBhOwogIH0sCiAgdW5zZWxlY3Q6IGZ1bmN0aW9uIHVuc2VsZWN0KGEsIGIsIGMpIHsKICAgIHZhciBkLCBlOwogICAgYS5kYXRhKCk7CiAgICBpZiAoInRydWUiID09PSBiLmF0dHIoImRhdGEtc2VsZWN0ZWQiKSAmJiAhMSAhPT0gZ2oudHJlZS5ldmVudHMudW5zZWxlY3QoYSwgYiwgYi5hdHRyKCJkYXRhLWlkIikpICYmIChiLnJlbW92ZUNsYXNzKGEuZGF0YSgpLnN0eWxlLmFjdGl2ZSkucmVtb3ZlQXR0cigiZGF0YS1zZWxlY3RlZCIpLCBjKSkgZm9yIChlID0gYi5maW5kKCJ1bD5saSIpLCBkID0gMDsgZCA8IGUubGVuZ3RoOyBkKyspIHsKICAgICAgZ2oudHJlZS5tZXRob2RzLnVuc2VsZWN0KGEsICQoZVtkXSksIGMpOwogICAgfQogIH0sCiAgZ2V0U2VsZWN0aW9uczogZnVuY3Rpb24gZ2V0U2VsZWN0aW9ucyhhKSB7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQsCiAgICAgICAgZSA9IFtdLAogICAgICAgIGYgPSBhLmNoaWxkcmVuKCJsaSIpOwogICAgaWYgKGYgJiYgZi5sZW5ndGgpIGZvciAoYiA9IDA7IGIgPCBmLmxlbmd0aDsgYisrKSB7CiAgICAgIGMgPSAkKGZbYl0pLCAidHJ1ZSIgPT09IGMuYXR0cigiZGF0YS1zZWxlY3RlZCIpID8gZS5wdXNoKGMuYXR0cigiZGF0YS1pZCIpKSA6IGMuaGFzKCJ1bCIpICYmIChkID0gZ2oudHJlZS5tZXRob2RzLmdldFNlbGVjdGlvbnMoYy5jaGlsZHJlbigidWwiKSksIGQubGVuZ3RoICYmIChlID0gZS5jb25jYXQoZCkpKTsKICAgIH0KICAgIHJldHVybiBlOwogIH0sCiAgZ2V0RGF0YUJ5SWQ6IGZ1bmN0aW9uIGdldERhdGFCeUlkKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUgPSBhLmRhdGEoKSwKICAgICAgICBmID0gdm9pZCAwOwoKICAgIGZvciAoZCA9IDA7IGQgPCBjLmxlbmd0aDsgZCsrKSB7CiAgICAgIGlmIChlLnByaW1hcnlLZXkgJiYgY1tkXVtlLnByaW1hcnlLZXldID09IGIpIHsKICAgICAgICBmID0gY1tkXTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYgKGNbZF1bZS5hdXRvR2VuRmllbGROYW1lXSA9PSBiKSB7CiAgICAgICAgZiA9IGNbZF07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmIChjW2RdW2UuY2hpbGRyZW5GaWVsZF0gJiYgY1tkXVtlLmNoaWxkcmVuRmllbGRdLmxlbmd0aCAmJiAoZiA9IGdqLnRyZWUubWV0aG9kcy5nZXREYXRhQnlJZChhLCBiLCBjW2RdW2UuY2hpbGRyZW5GaWVsZF0pKSkgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIGY7CiAgfSwKICBnZXREYXRhQnlUZXh0OiBmdW5jdGlvbiBnZXREYXRhQnlUZXh0KGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUgPSB2b2lkIDAsCiAgICAgICAgZiA9IGEuZGF0YSgpOwoKICAgIGZvciAoZCA9IDA7IGQgPCBjLmxlbmd0aDsgZCsrKSB7CiAgICAgIGlmIChiID09PSBjW2RdW2YudGV4dEZpZWxkXSkgewogICAgICAgIGUgPSBjW2RdOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpZiAoY1tkXVtmLmNoaWxkcmVuRmllbGRdICYmIGNbZF1bZi5jaGlsZHJlbkZpZWxkXS5sZW5ndGggJiYgKGUgPSBnai50cmVlLm1ldGhvZHMuZ2V0RGF0YUJ5VGV4dChhLCBiLCBjW2RdW2YuY2hpbGRyZW5GaWVsZF0pKSkgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfSwKICBnZXROb2RlQnlJZDogZnVuY3Rpb24gZ2V0Tm9kZUJ5SWQoYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCwKICAgICAgICBlID0gdm9pZCAwLAogICAgICAgIGYgPSBhLmNoaWxkcmVuKCJsaSIpOwogICAgaWYgKGYgJiYgZi5sZW5ndGgpIGZvciAoYyA9IDA7IGMgPCBmLmxlbmd0aDsgYysrKSB7CiAgICAgIGlmIChkID0gJChmW2NdKSwgYiA9PSBkLmF0dHIoImRhdGEtaWQiKSkgewogICAgICAgIGUgPSBkOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpZiAoZC5oYXMoInVsIikgJiYgKGUgPSBnai50cmVlLm1ldGhvZHMuZ2V0Tm9kZUJ5SWQoZC5jaGlsZHJlbigidWwiKSwgYikpKSBicmVhazsKICAgIH0KICAgIHJldHVybiBlOwogIH0sCiAgZ2V0Tm9kZUJ5VGV4dDogZnVuY3Rpb24gZ2V0Tm9kZUJ5VGV4dChhLCBiKSB7CiAgICB2YXIgYywKICAgICAgICBkLAogICAgICAgIGUgPSB2b2lkIDAsCiAgICAgICAgZiA9IGEuY2hpbGRyZW4oImxpIik7CiAgICBpZiAoZiAmJiBmLmxlbmd0aCkgZm9yIChjID0gMDsgYyA8IGYubGVuZ3RoOyBjKyspIHsKICAgICAgaWYgKGQgPSAkKGZbY10pLCBiID09PSBkLmZpbmQoJz5bZGF0YS1yb2xlPSJ3cmFwcGVyIl0+W2RhdGEtcm9sZT0iZGlzcGxheSJdJykudGV4dCgpKSB7CiAgICAgICAgZSA9IGQ7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmIChkLmhhcygidWwiKSAmJiAoZSA9IGdqLnRyZWUubWV0aG9kcy5nZXROb2RlQnlUZXh0KGQuY2hpbGRyZW4oInVsIiksIGIpKSkgYnJlYWs7CiAgICB9CiAgICByZXR1cm4gZTsKICB9LAogIGFkZE5vZGU6IGZ1bmN0aW9uIGFkZE5vZGUoYSwgYiwgYywgZCkgewogICAgdmFyIGUsCiAgICAgICAgZiwKICAgICAgICBnID0gYS5kYXRhKCk7CiAgICByZXR1cm4gYyAmJiBjLmxlbmd0aCA/ICgibGkiID09PSBjWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAmJiAoMCA9PT0gYy5jaGlsZHJlbigidWwiKS5sZW5ndGggJiYgKGMuZmluZCgnW2RhdGEtcm9sZT0iZXhwYW5kZXIiXScpLmVtcHR5KCkuYXBwZW5kKGcuaWNvbnMuY29sbGFwc2UpLCBjLmFwcGVuZCgkKCI8dWwgLz4iKS5hZGRDbGFzcyhnLnN0eWxlLmxpc3QpKSksIGMgPSBjLmNoaWxkcmVuKCJ1bCIpKSwgZiA9IGEuZ2V0RGF0YUJ5SWQoYy5wYXJlbnQoKS5kYXRhKCJpZCIpKSwgZltnLmNoaWxkcmVuRmllbGRdIHx8IChmW2cuY2hpbGRyZW5GaWVsZF0gPSBbXSksIGZbZy5jaGlsZHJlbkZpZWxkXS5wdXNoKGIpKSA6IChjID0gYS5jaGlsZHJlbigidWwiKSwgYS5kYXRhKCJyZWNvcmRzIikucHVzaChiKSksIGUgPSBjLnBhcmVudHNVbnRpbCgnW2RhdGEtdHlwZT0idHJlZSJdJywgInVsIikubGVuZ3RoICsgMSwgZy5wcmltYXJ5S2V5IHx8IGdqLnRyZWUubWV0aG9kcy5nZW5BdXRvSWQoZywgW2JdKSwgZ2oudHJlZS5tZXRob2RzLmFwcGVuZE5vZGUoYSwgYywgYiwgZSwgZCksIGE7CiAgfSwKICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShhLCBiKSB7CiAgICByZXR1cm4gZ2oudHJlZS5tZXRob2RzLnJlbW92ZURhdGFCeUlkKGEsIGIuYXR0cigiZGF0YS1pZCIpLCBhLmRhdGEoInJlY29yZHMiKSksIGIucmVtb3ZlKCksIGE7CiAgfSwKICByZW1vdmVEYXRhQnlJZDogZnVuY3Rpb24gcmVtb3ZlRGF0YUJ5SWQoYSwgYiwgYykgewogICAgdmFyIGQsCiAgICAgICAgZSA9IGEuZGF0YSgpOwoKICAgIGZvciAoZCA9IDA7IGQgPCBjLmxlbmd0aDsgZCsrKSB7CiAgICAgIGlmIChlLnByaW1hcnlLZXkgJiYgY1tkXVtlLnByaW1hcnlLZXldID09IGIpIHsKICAgICAgICBjLnNwbGljZShkLCAxKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYgKGNbZF1bZS5hdXRvR2VuRmllbGROYW1lXSA9PSBiKSB7CiAgICAgICAgYy5zcGxpY2UoZCwgMSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGNbZF1bZS5jaGlsZHJlbkZpZWxkXSAmJiBjW2RdW2UuY2hpbGRyZW5GaWVsZF0ubGVuZ3RoICYmIGdqLnRyZWUubWV0aG9kcy5yZW1vdmVEYXRhQnlJZChhLCBiLCBjW2RdW2UuY2hpbGRyZW5GaWVsZF0pOwogICAgfQogIH0sCiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoYSwgYiwgYykgewogICAgdmFyIGQgPSBhLmRhdGEoKSwKICAgICAgICBlID0gYS5nZXROb2RlQnlJZChiKTsKICAgIGEuZ2V0RGF0YUJ5SWQoYik7CiAgICByZXR1cm4gYywgZS5maW5kKCc+W2RhdGEtcm9sZT0id3JhcHBlciJdPltkYXRhLXJvbGU9ImRpc3BsYXkiXScpLmh0bWwoY1tkLnRleHRGaWVsZF0pLCBnai50cmVlLmV2ZW50cy5ub2RlRGF0YUJvdW5kKGEsIGUsIGIsIGMpLCBhOwogIH0sCiAgZ2V0Q2hpbGRyZW46IGZ1bmN0aW9uIGdldENoaWxkcmVuKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiA9IFtdLAogICAgICAgIGMgPSB2b2lkIDAgPT09IGMgfHwgYzsKCiAgICBmb3IgKGUgPSBjID8gYi5maW5kKCJ1bCBsaSIpIDogYi5maW5kKCI+dWw+bGkiKSwgZCA9IDA7IGQgPCBlLmxlbmd0aDsgZCsrKSB7CiAgICAgIGYucHVzaCgkKGVbZF0pLmRhdGEoImlkIikpOwogICAgfQoKICAgIHJldHVybiBmOwogIH0sCiAgZW5hYmxlQWxsOiBmdW5jdGlvbiBlbmFibGVBbGwoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IGEuZmluZCgidWw+bGkiKTsKCiAgICBmb3IgKGIgPSAwOyBiIDwgYy5sZW5ndGg7IGIrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuZW5hYmxlTm9kZShhLCAkKGNbYl0pLCAhMCk7CiAgICB9CgogICAgcmV0dXJuIGE7CiAgfSwKICBlbmFibGVOb2RlOiBmdW5jdGlvbiBlbmFibGVOb2RlKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiA9IGIuZmluZCgnPltkYXRhLXJvbGU9IndyYXBwZXIiXT5bZGF0YS1yb2xlPSJleHBhbmRlciJdJyksCiAgICAgICAgZyA9IGIuZmluZCgnPltkYXRhLXJvbGU9IndyYXBwZXIiXT5bZGF0YS1yb2xlPSJkaXNwbGF5Il0nKSwKICAgICAgICBjID0gdm9pZCAwID09PSBjIHx8IGM7CiAgICBpZiAoYi5yZW1vdmVDbGFzcygiZGlzYWJsZWQiKSwgZi5vbigiY2xpY2siLCBnai50cmVlLm1ldGhvZHMuZXhwYW5kZXJDbGlja0hhbmRsZXIoYSkpLCBnLm9uKCJjbGljayIsIGdqLnRyZWUubWV0aG9kcy5kaXNwbGF5Q2xpY2tIYW5kbGVyKGEpKSwgZ2oudHJlZS5ldmVudHMuZW5hYmxlKGEsIGIpLCBjKSBmb3IgKGUgPSBiLmZpbmQoInVsPmxpIiksIGQgPSAwOyBkIDwgZS5sZW5ndGg7IGQrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuZW5hYmxlTm9kZShhLCAkKGVbZF0pLCBjKTsKICAgIH0KICB9LAogIGRpc2FibGVBbGw6IGZ1bmN0aW9uIGRpc2FibGVBbGwoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IGEuZmluZCgidWw+bGkiKTsKCiAgICBmb3IgKGIgPSAwOyBiIDwgYy5sZW5ndGg7IGIrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuZGlzYWJsZU5vZGUoYSwgJChjW2JdKSwgITApOwogICAgfQoKICAgIHJldHVybiBhOwogIH0sCiAgZGlzYWJsZU5vZGU6IGZ1bmN0aW9uIGRpc2FibGVOb2RlKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiA9IGIuZmluZCgnPltkYXRhLXJvbGU9IndyYXBwZXIiXT5bZGF0YS1yb2xlPSJleHBhbmRlciJdJyksCiAgICAgICAgZyA9IGIuZmluZCgnPltkYXRhLXJvbGU9IndyYXBwZXIiXT5bZGF0YS1yb2xlPSJkaXNwbGF5Il0nKSwKICAgICAgICBjID0gdm9pZCAwID09PSBjIHx8IGM7CiAgICBpZiAoYi5hZGRDbGFzcygiZGlzYWJsZWQiKSwgZi5vZmYoImNsaWNrIiksIGcub2ZmKCJjbGljayIpLCBnai50cmVlLmV2ZW50cy5kaXNhYmxlKGEsIGIpLCBjKSBmb3IgKGUgPSBiLmZpbmQoInVsPmxpIiksIGQgPSAwOyBkIDwgZS5sZW5ndGg7IGQrKykgewogICAgICBnai50cmVlLm1ldGhvZHMuZGlzYWJsZU5vZGUoYSwgJChlW2RdKSwgYyk7CiAgICB9CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KGEpIHsKICAgIHJldHVybiBhLmRhdGEoKSAmJiAoZ2oudHJlZS5ldmVudHMuZGVzdHJveWluZyhhKSwgYS54aHIgJiYgYS54aHIuYWJvcnQoKSwgYS5vZmYoKSwgYS5yZW1vdmVEYXRhKCksIGEucmVtb3ZlQXR0cigiZGF0YS10eXBlIiksIGEucmVtb3ZlQ2xhc3MoKS5lbXB0eSgpKSwgYTsKICB9LAogIHBhdGhGaW5kZXI6IGZ1bmN0aW9uIHBhdGhGaW5kZXIoYSwgYiwgYywgZCkgewogICAgdmFyIGUsCiAgICAgICAgZiA9ICExOwoKICAgIGZvciAoZSA9IDA7IGUgPCBiLmxlbmd0aDsgZSsrKSB7CiAgICAgIGlmIChiW2VdLmlkID09IGMpIHsKICAgICAgICBmID0gITA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmIChnai50cmVlLm1ldGhvZHMucGF0aEZpbmRlcihhLCBiW2VdW2EuY2hpbGRyZW5GaWVsZF0sIGMsIGQpKSB7CiAgICAgICAgZC5wdXNoKGJbZV0uZGF0YVthLnRleHRGaWVsZF0pLCBmID0gITA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZjsKICB9Cn0sIGdqLnRyZWUud2lkZ2V0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICB2YXIgYyA9IHRoaXMsCiAgICAgIGQgPSBnai50cmVlLm1ldGhvZHM7CiAgcmV0dXJuIGMucmVsb2FkID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBnai53aWRnZXQucHJvdG90eXBlLnJlbG9hZC5jYWxsKHRoaXMsIGEpOwogIH0sIGMucmVuZGVyID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLnJlbmRlcih0aGlzLCBhKTsKICB9LCBjLmFkZE5vZGUgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgcmV0dXJuIGQuYWRkTm9kZSh0aGlzLCBhLCBiLCBjKTsKICB9LCBjLnJlbW92ZU5vZGUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQucmVtb3ZlKHRoaXMsIGEpOwogIH0sIGMudXBkYXRlTm9kZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gZC51cGRhdGUodGhpcywgYSwgYik7CiAgfSwgYy5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGQuZGVzdHJveSh0aGlzKTsKICB9LCBjLmV4cGFuZCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gZC5leHBhbmQodGhpcywgYSwgYik7CiAgfSwgYy5jb2xsYXBzZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gZC5jb2xsYXBzZSh0aGlzLCBhLCBiKTsKICB9LCBjLmV4cGFuZEFsbCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmV4cGFuZEFsbCh0aGlzKTsKICB9LCBjLmNvbGxhcHNlQWxsID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGQuY29sbGFwc2VBbGwodGhpcyk7CiAgfSwgYy5nZXREYXRhQnlJZCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC5nZXREYXRhQnlJZCh0aGlzLCBhLCB0aGlzLmRhdGEoInJlY29yZHMiKSk7CiAgfSwgYy5nZXREYXRhQnlUZXh0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLmdldERhdGFCeVRleHQodGhpcywgYSwgdGhpcy5kYXRhKCJyZWNvcmRzIikpOwogIH0sIGMuZ2V0Tm9kZUJ5SWQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQuZ2V0Tm9kZUJ5SWQodGhpcy5jaGlsZHJlbigidWwiKSwgYSk7CiAgfSwgYy5nZXROb2RlQnlUZXh0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLmdldE5vZGVCeVRleHQodGhpcy5jaGlsZHJlbigidWwiKSwgYSk7CiAgfSwgYy5nZXRBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5kYXRhKCJyZWNvcmRzIik7CiAgfSwgYy5zZWxlY3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQuc2VsZWN0KHRoaXMsIGEpOwogIH0sIGMudW5zZWxlY3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQudW5zZWxlY3QodGhpcywgYSk7CiAgfSwgYy5zZWxlY3RBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5zZWxlY3RBbGwodGhpcyk7CiAgfSwgYy51bnNlbGVjdEFsbCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLnVuc2VsZWN0QWxsKHRoaXMpOwogIH0sIGMuZ2V0U2VsZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmdldFNlbGVjdGlvbnModGhpcy5jaGlsZHJlbigidWwiKSk7CiAgfSwgYy5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gZC5nZXRDaGlsZHJlbih0aGlzLCBhLCBiKTsKICB9LCBjLnBhcmVudHMgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBbXSwKICAgICAgICBjID0gdGhpcy5kYXRhKCk7CiAgICByZXR1cm4gZC5wYXRoRmluZGVyKGMsIGMucmVjb3JkcywgYSwgYiksIGIucmV2ZXJzZSgpOwogIH0sIGMuZW5hYmxlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBkLmVuYWJsZU5vZGUodGhpcywgYSwgYik7CiAgfSwgYy5lbmFibGVBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5lbmFibGVBbGwodGhpcyk7CiAgfSwgYy5kaXNhYmxlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBkLmRpc2FibGVOb2RlKHRoaXMsIGEsIGIpOwogIH0sIGMuZGlzYWJsZUFsbCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmRpc2FibGVBbGwodGhpcyk7CiAgfSwgJC5leHRlbmQoYSwgYyksICJ0cmVlIiAhPT0gYS5hdHRyKCJkYXRhLXR5cGUiKSAmJiBkLmluaXQuY2FsbChhLCBiKSwgYTsKfSwgZ2oudHJlZS53aWRnZXQucHJvdG90eXBlID0gbmV3IGdqLndpZGdldCgpLCBnai50cmVlLndpZGdldC5jb25zdHJ1Y3RvciA9IGdqLnRyZWUud2lkZ2V0LCBmdW5jdGlvbiAoYSkgewogIGEuZm4udHJlZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYjsKCiAgICBpZiAodGhpcyAmJiB0aGlzLmxlbmd0aCkgewogICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZihhKSAmJiBhKSB7CiAgICAgICAgaWYgKGIgPSBuZXcgZ2oudHJlZS53aWRnZXQodGhpcywgbnVsbCksIGJbYV0pIHJldHVybiBiW2FdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpOwogICAgICAgIHRocm93ICJNZXRob2QgIiArIGEgKyAiIGRvZXMgbm90IGV4aXN0LiI7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgZ2oudHJlZS53aWRnZXQodGhpcywgYSk7CiAgICB9CiAgfTsKfShqUXVlcnkpLCBnai50cmVlLnBsdWdpbnMuY2hlY2tib3hlcyA9IHsKICBjb25maWc6IHsKICAgIGJhc2U6IHsKICAgICAgY2hlY2tib3hlczogdm9pZCAwLAogICAgICBjaGVja2VkRmllbGQ6ICJjaGVja2VkIiwKICAgICAgY2FzY2FkZUNoZWNrOiAhMAogICAgfQogIH0sCiAgcHJpdmF0ZTogewogICAgZGF0YUJvdW5kOiBmdW5jdGlvbiBkYXRhQm91bmQoYSkgewogICAgICB2YXIgYjsKICAgICAgYS5kYXRhKCJjYXNjYWRlQ2hlY2siKSAmJiAoYiA9IGEuZmluZCgnbGlbZGF0YS1yb2xlPSJub2RlIl0nKSwgJC5lYWNoKGIsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYSA9ICQodGhpcyksCiAgICAgICAgICAgIGIgPSBhLmZpbmQoJ1tkYXRhLXJvbGU9ImNoZWNrYm94Il0gaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLmNoZWNrYm94KCJzdGF0ZSIpOwogICAgICAgICJjaGVja2VkIiA9PT0gYiAmJiAoZ2oudHJlZS5wbHVnaW5zLmNoZWNrYm94ZXMucHJpdmF0ZS51cGRhdGVDaGlsZHJlblN0YXRlKGEsIGIpLCBnai50cmVlLnBsdWdpbnMuY2hlY2tib3hlcy5wcml2YXRlLnVwZGF0ZVBhcmVudFN0YXRlKGEsIGIpKTsKICAgICAgfSkpOwogICAgfSwKICAgIG5vZGVEYXRhQm91bmQ6IGZ1bmN0aW9uIG5vZGVEYXRhQm91bmQoYSwgYiwgYywgZCkgewogICAgICB2YXIgZSwgZiwgZywgaCwgaTsKICAgICAgMCA9PT0gYi5maW5kKCc+IFtkYXRhLXJvbGU9IndyYXBwZXIiXSA+IFtkYXRhLXJvbGU9ImNoZWNrYm94Il0nKS5sZW5ndGggJiYgKGUgPSBhLmRhdGEoKSwgZiA9IGIuZmluZCgnPiBbZGF0YS1yb2xlPSJ3cmFwcGVyIl0gPiBbZGF0YS1yb2xlPSJleHBhbmRlciJdJyksIGcgPSAkKCc8aW5wdXQgdHlwZT0iY2hlY2tib3giLz4nKSwgaCA9ICQoJzxzcGFuIGRhdGEtcm9sZT0iY2hlY2tib3giPjwvc3Bhbj4nKS5hcHBlbmQoZyksIGkgPSB2b2lkIDAgIT09IGRbZS5kaXNhYmxlZEZpZWxkXSAmJiAidHJ1ZSIgPT09IGRbZS5kaXNhYmxlZEZpZWxkXS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCksIGcgPSBnLmNoZWNrYm94KHsKICAgICAgICB1aUxpYnJhcnk6IGUudWlMaWJyYXJ5LAogICAgICAgIGljb25zTGlicmFyeTogZS5pY29uc0xpYnJhcnksCiAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoYywgZSkgewogICAgICAgICAgZ2oudHJlZS5wbHVnaW5zLmNoZWNrYm94ZXMuZXZlbnRzLmNoZWNrYm94Q2hhbmdlKGEsIGIsIGQsIGcuc3RhdGUoKSk7CiAgICAgICAgfQogICAgICB9KSwgaSAmJiBnLnByb3AoImRpc2FibGVkIiwgITApLCBkW2UuY2hlY2tlZEZpZWxkXSAmJiBnLnN0YXRlKCJjaGVja2VkIiksIGcub24oImNsaWNrIiwgZnVuY3Rpb24gKGEpIHsKICAgICAgICB2YXIgYiA9IGcuY2xvc2VzdCgibGkiKSwKICAgICAgICAgICAgYyA9IGcuc3RhdGUoKTsKICAgICAgICBlLmNhc2NhZGVDaGVjayAmJiAoZ2oudHJlZS5wbHVnaW5zLmNoZWNrYm94ZXMucHJpdmF0ZS51cGRhdGVDaGlsZHJlblN0YXRlKGIsIGMpLCBnai50cmVlLnBsdWdpbnMuY2hlY2tib3hlcy5wcml2YXRlLnVwZGF0ZVBhcmVudFN0YXRlKGIsIGMpKTsKICAgICAgfSksIGYuYWZ0ZXIoaCkpOwogICAgfSwKICAgIHVwZGF0ZVBhcmVudFN0YXRlOiBmdW5jdGlvbiB1cGRhdGVQYXJlbnRTdGF0ZShhLCBiKSB7CiAgICAgIHZhciBjLCBkLCBlLCBmLCBnLCBoOwogICAgICBjID0gYS5wYXJlbnQoInVsIikucGFyZW50KCJsaSIpLCAxID09PSBjLmxlbmd0aCAmJiAoZCA9IGEucGFyZW50KCJ1bCIpLnBhcmVudCgibGkiKS5maW5kKCc+IFtkYXRhLXJvbGU9IndyYXBwZXIiXSA+IFtkYXRhLXJvbGU9ImNoZWNrYm94Il0gaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLCBlID0gYS5zaWJsaW5ncygpLmZpbmQoJz4gW2RhdGEtcm9sZT0id3JhcHBlciJdID4gc3BhbltkYXRhLXJvbGU9ImNoZWNrYm94Il0gaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLCBmID0gImNoZWNrZWQiID09PSBiLCBnID0gInVuY2hlY2tlZCIgPT09IGIsIGggPSAiaW5kZXRlcm1pbmF0ZSIsICQuZWFjaChlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGEgPSAkKHRoaXMpLmNoZWNrYm94KCJzdGF0ZSIpOwogICAgICAgIGYgJiYgImNoZWNrZWQiICE9PSBhICYmIChmID0gITEpLCBnICYmICJ1bmNoZWNrZWQiICE9PSBhICYmIChnID0gITEpOwogICAgICB9KSwgZiAmJiAhZyAmJiAoaCA9ICJjaGVja2VkIiksICFmICYmIGcgJiYgKGggPSAidW5jaGVja2VkIiksIGQuY2hlY2tib3goInN0YXRlIiwgaCksIGdqLnRyZWUucGx1Z2lucy5jaGVja2JveGVzLnByaXZhdGUudXBkYXRlUGFyZW50U3RhdGUoYywgZC5jaGVja2JveCgic3RhdGUiKSkpOwogICAgfSwKICAgIHVwZGF0ZUNoaWxkcmVuU3RhdGU6IGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuU3RhdGUoYSwgYikgewogICAgICB2YXIgYyA9IGEuZmluZCgndWwgbGkgW2RhdGEtcm9sZT0id3JhcHBlciJdIFtkYXRhLXJvbGU9ImNoZWNrYm94Il0gaW5wdXRbdHlwZT0iY2hlY2tib3giXScpOwogICAgICBjLmxlbmd0aCA+IDAgJiYgJC5lYWNoKGMsIGZ1bmN0aW9uICgpIHsKICAgICAgICAkKHRoaXMpLmNoZWNrYm94KCJzdGF0ZSIsIGIpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShhLCBiLCBjKSB7CiAgICAgIHZhciBkID0gYi5maW5kKCdbZGF0YS1yb2xlPSJjaGVja2JveCJdIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5maXJzdCgpOwogICAgICAkKGQpLmNoZWNrYm94KCJzdGF0ZSIsIGMpLCBhLmRhdGEoKS5jYXNjYWRlQ2hlY2sgJiYgKGdqLnRyZWUucGx1Z2lucy5jaGVja2JveGVzLnByaXZhdGUudXBkYXRlQ2hpbGRyZW5TdGF0ZShiLCBjKSwgZ2oudHJlZS5wbHVnaW5zLmNoZWNrYm94ZXMucHJpdmF0ZS51cGRhdGVQYXJlbnRTdGF0ZShiLCBjKSk7CiAgICB9CiAgfSwKICBwdWJsaWM6IHsKICAgIGdldENoZWNrZWROb2RlczogZnVuY3Rpb24gZ2V0Q2hlY2tlZE5vZGVzKCkgewogICAgICB2YXIgYSA9IFtdLAogICAgICAgICAgYiA9IHRoaXMuZmluZCgnbGkgW2RhdGEtcm9sZT0iY2hlY2tib3giXSBpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CiAgICAgIHJldHVybiAkLmVhY2goYiwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBiID0gJCh0aGlzKTsKICAgICAgICAiY2hlY2tlZCIgPT09IGIuY2hlY2tib3goInN0YXRlIikgJiYgYS5wdXNoKGIuY2xvc2VzdCgibGkiKS5kYXRhKCJpZCIpKTsKICAgICAgfSksIGE7CiAgICB9LAogICAgY2hlY2tBbGw6IGZ1bmN0aW9uIGNoZWNrQWxsKCkgewogICAgICB2YXIgYSA9IHRoaXMuZmluZCgnbGkgW2RhdGEtcm9sZT0iY2hlY2tib3giXSBpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CiAgICAgIHJldHVybiAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICAgICQodGhpcykuY2hlY2tib3goInN0YXRlIiwgImNoZWNrZWQiKTsKICAgICAgfSksIHRoaXM7CiAgICB9LAogICAgdW5jaGVja0FsbDogZnVuY3Rpb24gdW5jaGVja0FsbCgpIHsKICAgICAgdmFyIGEgPSB0aGlzLmZpbmQoJ2xpIFtkYXRhLXJvbGU9ImNoZWNrYm94Il0gaW5wdXRbdHlwZT0iY2hlY2tib3giXScpOwogICAgICByZXR1cm4gJC5lYWNoKGEsIGZ1bmN0aW9uICgpIHsKICAgICAgICAkKHRoaXMpLmNoZWNrYm94KCJzdGF0ZSIsICJ1bmNoZWNrZWQiKTsKICAgICAgfSksIHRoaXM7CiAgICB9LAogICAgY2hlY2s6IGZ1bmN0aW9uIGNoZWNrKGEpIHsKICAgICAgcmV0dXJuIGdqLnRyZWUucGx1Z2lucy5jaGVja2JveGVzLnByaXZhdGUudXBkYXRlKHRoaXMsIGEsICJjaGVja2VkIiksIHRoaXM7CiAgICB9LAogICAgdW5jaGVjazogZnVuY3Rpb24gdW5jaGVjayhhKSB7CiAgICAgIHJldHVybiBnai50cmVlLnBsdWdpbnMuY2hlY2tib3hlcy5wcml2YXRlLnVwZGF0ZSh0aGlzLCBhLCAidW5jaGVja2VkIiksIHRoaXM7CiAgICB9CiAgfSwKICBldmVudHM6IHsKICAgIGNoZWNrYm94Q2hhbmdlOiBmdW5jdGlvbiBjaGVja2JveENoYW5nZShhLCBiLCBjLCBkKSB7CiAgICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJjaGVja2JveENoYW5nZSIsIFtiLCBjLCBkXSk7CiAgICB9CiAgfSwKICBjb25maWd1cmU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShhKSB7CiAgICBhLmRhdGEoImNoZWNrYm94ZXMiKSAmJiBnai5jaGVja2JveCAmJiAoJC5leHRlbmQoITAsIGEsIGdqLnRyZWUucGx1Z2lucy5jaGVja2JveGVzLnB1YmxpYyksIGEub24oIm5vZGVEYXRhQm91bmQiLCBmdW5jdGlvbiAoYiwgYywgZCwgZSkgewogICAgICBnai50cmVlLnBsdWdpbnMuY2hlY2tib3hlcy5wcml2YXRlLm5vZGVEYXRhQm91bmQoYSwgYywgZCwgZSk7CiAgICB9KSwgYS5vbigiZGF0YUJvdW5kIiwgZnVuY3Rpb24gKCkgewogICAgICBnai50cmVlLnBsdWdpbnMuY2hlY2tib3hlcy5wcml2YXRlLmRhdGFCb3VuZChhKTsKICAgIH0pLCBhLm9uKCJlbmFibGUiLCBmdW5jdGlvbiAoYSwgYikgewogICAgICBiLmZpbmQoJz5bZGF0YS1yb2xlPSJ3cmFwcGVyIl0+W2RhdGEtcm9sZT0iY2hlY2tib3giXSBpbnB1dFt0eXBlPSJjaGVja2JveCJdJykucHJvcCgiZGlzYWJsZWQiLCAhMSk7CiAgICB9KSwgYS5vbigiZGlzYWJsZSIsIGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIGIuZmluZCgnPltkYXRhLXJvbGU9IndyYXBwZXIiXT5bZGF0YS1yb2xlPSJjaGVja2JveCJdIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJkaXNhYmxlZCIsICEwKTsKICAgIH0pKTsKICB9Cn0sIGdqLnRyZWUucGx1Z2lucy5kcmFnQW5kRHJvcCA9IHsKICBjb25maWc6IHsKICAgIGJhc2U6IHsKICAgICAgZHJhZ0FuZERyb3A6IHZvaWQgMCwKICAgICAgc3R5bGU6IHsKICAgICAgICBkcmFnRWw6ICJnai10cmVlLWRyYWctZWwgZ2otdHJlZS1tZC1kcmFnLWVsIiwKICAgICAgICBkcm9wQXNDaGlsZEljb246ICJnai1jdXJzb3ItcG9pbnRlciBnai1pY29uIHBsdXMiLAogICAgICAgIGRyb3BBYm92ZTogImdqLXRyZWUtZHJvcC1hYm92ZSIsCiAgICAgICAgZHJvcEJlbG93OiAiZ2otdHJlZS1kcm9wLWJlbG93IgogICAgICB9CiAgICB9LAogICAgYm9vdHN0cmFwOiB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgZHJhZ0VsOiAiZ2otdHJlZS1kcmFnLWVsIGdqLXRyZWUtYm9vdHN0cmFwLWRyYWctZWwiLAogICAgICAgIGRyb3BBc0NoaWxkSWNvbjogImdseXBoaWNvbiBnbHlwaGljb24tcGx1cyIsCiAgICAgICAgZHJvcEFib3ZlOiAiZHJvcC1hYm92ZSIsCiAgICAgICAgZHJvcEJlbG93OiAiZHJvcC1iZWxvdyIKICAgICAgfQogICAgfSwKICAgIGJvb3RzdHJhcDQ6IHsKICAgICAgc3R5bGU6IHsKICAgICAgICBkcmFnRWw6ICJnai10cmVlLWRyYWctZWwgZ2otdHJlZS1ib290c3RyYXAtZHJhZy1lbCIsCiAgICAgICAgZHJvcEFzQ2hpbGRJY29uOiAiZ2otY3Vyc29yLXBvaW50ZXIgZ2otaWNvbiBwbHVzIiwKICAgICAgICBkcm9wQWJvdmU6ICJkcm9wLWFib3ZlIiwKICAgICAgICBkcm9wQmVsb3c6ICJkcm9wLWJlbG93IgogICAgICB9CiAgICB9CiAgfSwKICBwcml2YXRlOiB7CiAgICBub2RlRGF0YUJvdW5kOiBmdW5jdGlvbiBub2RlRGF0YUJvdW5kKGEsIGIpIHsKICAgICAgdmFyIGMgPSBiLmNoaWxkcmVuKCdbZGF0YS1yb2xlPSJ3cmFwcGVyIl0nKSwKICAgICAgICAgIGQgPSBiLmZpbmQoJz5bZGF0YS1yb2xlPSJ3cmFwcGVyIl0+W2RhdGEtcm9sZT0iZGlzcGxheSJdJyk7CiAgICAgIGMubGVuZ3RoICYmIGQubGVuZ3RoICYmIChkLm9uKCJtb3VzZWRvd24iLCBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5jcmVhdGVOb2RlTW91c2VEb3duSGFuZGxlcihhKSksIGQub24oIm1vdXNlbW92ZSIsIGdqLnRyZWUucGx1Z2lucy5kcmFnQW5kRHJvcC5wcml2YXRlLmNyZWF0ZU5vZGVNb3VzZU1vdmVIYW5kbGVyKGEsIGIsIGQpKSwgZC5vbigibW91c2V1cCIsIGdqLnRyZWUucGx1Z2lucy5kcmFnQW5kRHJvcC5wcml2YXRlLmNyZWF0ZU5vZGVNb3VzZVVwSGFuZGxlcihhKSkpOwogICAgfSwKICAgIGNyZWF0ZU5vZGVNb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVOb2RlTW91c2VEb3duSGFuZGxlcihhKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICAgIGEuZGF0YSgiZHJhZ1JlYWR5IiwgITApOwogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZU5vZGVNb3VzZVVwSGFuZGxlcjogZnVuY3Rpb24gY3JlYXRlTm9kZU1vdXNlVXBIYW5kbGVyKGEpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChiKSB7CiAgICAgICAgYS5kYXRhKCJkcmFnUmVhZHkiLCAhMSk7CiAgICAgIH07CiAgICB9LAogICAgY3JlYXRlTm9kZU1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZU5vZGVNb3VzZU1vdmVIYW5kbGVyKGEsIGIsIGMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgaWYgKGEuZGF0YSgiZHJhZ1JlYWR5IikpIHsKICAgICAgICAgIHZhciBlLAogICAgICAgICAgICAgIGYsCiAgICAgICAgICAgICAgZywKICAgICAgICAgICAgICBoLAogICAgICAgICAgICAgIGkgPSBhLmRhdGEoKTsKICAgICAgICAgIGEuZGF0YSgiZHJhZ1JlYWR5IiwgITEpLCBlID0gYy5jbG9uZSgpLndyYXAoJzxkaXYgZGF0YS1yb2xlPSJ3cmFwcGVyIi8+JykuY2xvc2VzdCgiZGl2Iikud3JhcCgnPGxpIGNsYXNzPSInICsgaS5zdHlsZS5pdGVtICsgJyIgLz4nKS5jbG9zZXN0KCJsaSIpLndyYXAoJzx1bCBjbGFzcz0iJyArIGkuc3R5bGUubGlzdCArICciIC8+JykuY2xvc2VzdCgidWwiKSwgJCgiYm9keSIpLmFwcGVuZChlKSwgZS5hdHRyKCJkYXRhLXJvbGUiLCAiZHJhZ2dhYmxlLWNsb25lIikuYWRkQ2xhc3MoImdqLXVuc2VsZWN0YWJsZSIpLmFkZENsYXNzKGkuc3R5bGUuZHJhZ0VsKSwgZS5maW5kKCdbZGF0YS1yb2xlPSJ3cmFwcGVyIl0nKS5wcmVwZW5kKCc8c3BhbiBkYXRhLXJvbGU9ImluZGljYXRvciIgLz4nKSwgZS5kcmFnZ2FibGUoewogICAgICAgICAgICBkcmFnOiBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5jcmVhdGVEcmFnSGFuZGxlcihhLCBiLCBjKSwKICAgICAgICAgICAgc3RvcDogZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLnByaXZhdGUuY3JlYXRlRHJhZ1N0b3BIYW5kbGVyKGEsIGIsIGMpCiAgICAgICAgICB9KSwgZiA9IGMucGFyZW50KCksIGcgPSBjLm9mZnNldCgpLnRvcCwgZyAtPSBwYXJzZUludChmLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSArIHBhcnNlSW50KGYuY3NzKCJtYXJnaW4tdG9wIikpICsgcGFyc2VJbnQoZi5jc3MoInBhZGRpbmctdG9wIikpLCBoID0gYy5vZmZzZXQoKS5sZWZ0LCBoIC09IHBhcnNlSW50KGYuY3NzKCJib3JkZXItbGVmdC13aWR0aCIpKSArIHBhcnNlSW50KGYuY3NzKCJtYXJnaW4tbGVmdCIpKSArIHBhcnNlSW50KGYuY3NzKCJwYWRkaW5nLWxlZnQiKSksIGggLT0gZS5maW5kKCdbZGF0YS1yb2xlPSJpbmRpY2F0b3IiXScpLm91dGVyV2lkdGgoITApLCBlLmNzcyh7CiAgICAgICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgICAgICB0b3A6IGcsCiAgICAgICAgICAgIGxlZnQ6IGgsCiAgICAgICAgICAgIHdpZHRoOiBjLm91dGVyV2lkdGgoITApCiAgICAgICAgICB9KSwgInRydWUiID09PSBjLmF0dHIoImRhdGEtZHJvcHBhYmxlIikgJiYgYy5kcm9wcGFibGUoImRlc3Ryb3kiKSwgZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLnByaXZhdGUuZ2V0VGFyZ2V0RGlzcGxheXMoYSwgYiwgYykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBhID0gJCh0aGlzKTsKICAgICAgICAgICAgInRydWUiID09PSBhLmF0dHIoImRhdGEtZHJvcHBhYmxlIikgJiYgYS5kcm9wcGFibGUoImRlc3Ryb3kiKSwgYS5kcm9wcGFibGUoKTsKICAgICAgICAgIH0pLCBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5nZXRUYXJnZXREaXNwbGF5cyhhLCBiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGEgPSAkKHRoaXMpOwogICAgICAgICAgICAidHJ1ZSIgPT09IGEuYXR0cigiZGF0YS1kcm9wcGFibGUiKSAmJiBhLmRyb3BwYWJsZSgiZGVzdHJveSIpLCBhLmRyb3BwYWJsZSgpOwogICAgICAgICAgfSksIGUudHJpZ2dlcigibW91c2Vkb3duIik7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGdldFRhcmdldERpc3BsYXlzOiBmdW5jdGlvbiBnZXRUYXJnZXREaXNwbGF5cyhhLCBiLCBjKSB7CiAgICAgIHJldHVybiBhLmZpbmQoJ1tkYXRhLXJvbGU9ImRpc3BsYXkiXScpLm5vdChjKS5ub3QoYi5maW5kKCdbZGF0YS1yb2xlPSJkaXNwbGF5Il0nKSk7CiAgICB9LAogICAgZ2V0VGFyZ2V0V3JhcHBlcnM6IGZ1bmN0aW9uIGdldFRhcmdldFdyYXBwZXJzKGEsIGIpIHsKICAgICAgcmV0dXJuIGEuZmluZCgnW2RhdGEtcm9sZT0id3JhcHBlciJdJykubm90KGIuZmluZCgnW2RhdGEtcm9sZT0id3JhcHBlciJdJykpOwogICAgfSwKICAgIGNyZWF0ZURyYWdIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVEcmFnSGFuZGxlcihhLCBiLCBjKSB7CiAgICAgIHZhciBkID0gZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLnByaXZhdGUuZ2V0VGFyZ2V0RGlzcGxheXMoYSwgYiwgYyksCiAgICAgICAgICBlID0gZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLnByaXZhdGUuZ2V0VGFyZ2V0V3JhcHBlcnMoYSwgYiksCiAgICAgICAgICBmID0gYS5kYXRhKCk7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgICAgIHZhciBnID0gJCh0aGlzKSwKICAgICAgICAgICAgaCA9ICExOwogICAgICAgIGQuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgYSwKICAgICAgICAgICAgICBiID0gJCh0aGlzKTsKICAgICAgICAgIGlmIChiLmRyb3BwYWJsZSgiaXNPdmVyIiwgYykpIHJldHVybiBhID0gZy5maW5kKCdbZGF0YS1yb2xlPSJpbmRpY2F0b3IiXScpLCBmLnN0eWxlLmRyb3BBc0NoaWxkSWNvbiA/IGEuYWRkQ2xhc3MoZi5zdHlsZS5kcm9wQXNDaGlsZEljb24pIDogYS50ZXh0KCIrIiksIGggPSAhMCwgITE7CiAgICAgICAgICBnLmZpbmQoJ1tkYXRhLXJvbGU9ImluZGljYXRvciJdJykucmVtb3ZlQ2xhc3MoZi5zdHlsZS5kcm9wQXNDaGlsZEljb24pLmVtcHR5KCk7CiAgICAgICAgfSksIGUuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgYSwKICAgICAgICAgICAgICBiID0gJCh0aGlzKTsKICAgICAgICAgICFoICYmIGIuZHJvcHBhYmxlKCJpc092ZXIiLCBjKSA/IChhID0gYi5wb3NpdGlvbigpLnRvcCArIGIub3V0ZXJIZWlnaHQoKSAvIDIsIGMueSA8IGEgPyBiLmFkZENsYXNzKGYuc3R5bGUuZHJvcEFib3ZlKS5yZW1vdmVDbGFzcyhmLnN0eWxlLmRyb3BCZWxvdykgOiBiLmFkZENsYXNzKGYuc3R5bGUuZHJvcEJlbG93KS5yZW1vdmVDbGFzcyhmLnN0eWxlLmRyb3BBYm92ZSkpIDogYi5yZW1vdmVDbGFzcyhmLnN0eWxlLmRyb3BBYm92ZSkucmVtb3ZlQ2xhc3MoZi5zdHlsZS5kcm9wQmVsb3cpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZURyYWdTdG9wSGFuZGxlcjogZnVuY3Rpb24gY3JlYXRlRHJhZ1N0b3BIYW5kbGVyKGEsIGIsIGMpIHsKICAgICAgdmFyIGQgPSBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5nZXRUYXJnZXREaXNwbGF5cyhhLCBiLCBjKSwKICAgICAgICAgIGUgPSBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5nZXRUYXJnZXRXcmFwcGVycyhhLCBiKSwKICAgICAgICAgIGYgPSBhLmRhdGEoKTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjLCBnKSB7CiAgICAgICAgdmFyIGgsCiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGosCiAgICAgICAgICAgIGssCiAgICAgICAgICAgIGwgPSAhMTsKICAgICAgICAkKHRoaXMpLmRyYWdnYWJsZSgiZGVzdHJveSIpLnJlbW92ZSgpLCBkLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGMsCiAgICAgICAgICAgICAgZCA9ICQodGhpcyk7CiAgICAgICAgICBpZiAoZC5kcm9wcGFibGUoImlzT3ZlciIsIGcpKSByZXR1cm4gaSA9IGQuY2xvc2VzdCgibGkiKSwgaiA9IGIucGFyZW50KCJ1bCIpLnBhcmVudCgibGkiKSwgYyA9IGkuY2hpbGRyZW4oInVsIiksIDAgPT09IGMubGVuZ3RoICYmIChjID0gJCgiPHVsIC8+IikuYWRkQ2xhc3MoZi5zdHlsZS5saXN0KSwgaS5hcHBlbmQoYykpLCAhMSAhPT0gZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLmV2ZW50cy5ub2RlRHJvcChhLCBiLmRhdGEoImlkIiksIGkuZGF0YSgiaWQiKSwgYy5jaGlsZHJlbigibGkiKS5sZW5ndGggKyAxKSAmJiAoYy5hcHBlbmQoYiksIGggPSBhLmdldERhdGFCeUlkKGIuZGF0YSgiaWQiKSksIGdqLnRyZWUubWV0aG9kcy5yZW1vdmVEYXRhQnlJZChhLCBiLmRhdGEoImlkIiksIGYucmVjb3JkcyksIGsgPSBhLmdldERhdGFCeUlkKGMucGFyZW50KCkuZGF0YSgiaWQiKSksIHZvaWQgMCA9PT0ga1tmLmNoaWxkcmVuRmllbGRdICYmIChrW2YuY2hpbGRyZW5GaWVsZF0gPSBbXSksIGtbZi5jaGlsZHJlbkZpZWxkXS5wdXNoKGgpLCBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5yZWZyZXNoKGEsIGIsIGksIGopKSwgbCA9ICEwLCAhMTsKICAgICAgICAgIGQuZHJvcHBhYmxlKCJkZXN0cm95Iik7CiAgICAgICAgfSksIGwgfHwgZS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBjLAogICAgICAgICAgICAgIGQsCiAgICAgICAgICAgICAgZSwKICAgICAgICAgICAgICBrID0gJCh0aGlzKTsKICAgICAgICAgIGlmIChrLmRyb3BwYWJsZSgiaXNPdmVyIiwgZykpIHJldHVybiBpID0gay5jbG9zZXN0KCJsaSIpLCBqID0gYi5wYXJlbnQoInVsIikucGFyZW50KCJsaSIpLCBjID0gZy55IDwgay5wb3NpdGlvbigpLnRvcCArIGsub3V0ZXJIZWlnaHQoKSAvIDIsIGUgPSBiLmRhdGEoImlkIiksIGQgPSBpLnByZXZBbGwoJ2xpOm5vdChbZGF0YS1pZD0iJyArIGUgKyAnIl0pJykubGVuZ3RoICsgKGMgPyAxIDogMiksICExICE9PSBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AuZXZlbnRzLm5vZGVEcm9wKGEsIGUsIGkucGFyZW50KCJ1bCIpLnBhcmVudCgibGkiKS5kYXRhKCJpZCIpLCBkKSAmJiAoaCA9IGEuZ2V0RGF0YUJ5SWQoYi5kYXRhKCJpZCIpKSwgZ2oudHJlZS5tZXRob2RzLnJlbW92ZURhdGFCeUlkKGEsIGIuZGF0YSgiaWQiKSwgZi5yZWNvcmRzKSwgYS5nZXREYXRhQnlJZChpLnBhcmVudCgpLmRhdGEoImlkIikpW2YuY2hpbGRyZW5GaWVsZF0uc3BsaWNlKGkuaW5kZXgoKSArIChjID8gMCA6IDEpLCAwLCBoKSwgYyA/IGIuaW5zZXJ0QmVmb3JlKGkpIDogYi5pbnNlcnRBZnRlcihpKSwgZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLnByaXZhdGUucmVmcmVzaChhLCBiLCBpLCBqKSksICExOwogICAgICAgICAgay5kcm9wcGFibGUoImRlc3Ryb3kiKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKGEsIGIsIGMsIGQpIHsKICAgICAgdmFyIGUgPSBhLmRhdGEoKTsKICAgICAgZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLnByaXZhdGUucmVmcmVzaE5vZGUoYSwgYyksIGdqLnRyZWUucGx1Z2lucy5kcmFnQW5kRHJvcC5wcml2YXRlLnJlZnJlc2hOb2RlKGEsIGQpLCBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5yZWZyZXNoTm9kZShhLCBiKSwgYi5maW5kKCdsaVtkYXRhLXJvbGU9Im5vZGUiXScpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIGdqLnRyZWUucGx1Z2lucy5kcmFnQW5kRHJvcC5wcml2YXRlLnJlZnJlc2hOb2RlKGEsICQodGhpcykpOwogICAgICB9KSwgYy5jaGlsZHJlbignW2RhdGEtcm9sZT0id3JhcHBlciJdJykucmVtb3ZlQ2xhc3MoZS5zdHlsZS5kcm9wQWJvdmUpLnJlbW92ZUNsYXNzKGUuc3R5bGUuZHJvcEJlbG93KTsKICAgIH0sCiAgICByZWZyZXNoTm9kZTogZnVuY3Rpb24gcmVmcmVzaE5vZGUoYSwgYikgewogICAgICB2YXIgYyA9IGIuY2hpbGRyZW4oJ1tkYXRhLXJvbGU9IndyYXBwZXIiXScpLAogICAgICAgICAgZCA9IGMuY2hpbGRyZW4oJ1tkYXRhLXJvbGU9ImV4cGFuZGVyIl0nKSwKICAgICAgICAgIGUgPSBjLmNoaWxkcmVuKCdbZGF0YS1yb2xlPSJzcGFjZXIiXScpLAogICAgICAgICAgZiA9IGIuY2hpbGRyZW4oInVsIiksCiAgICAgICAgICBnID0gYS5kYXRhKCksCiAgICAgICAgICBoID0gYi5wYXJlbnRzVW50aWwoJ1tkYXRhLXR5cGU9InRyZWUiXScsICJ1bCIpLmxlbmd0aDsKICAgICAgZi5sZW5ndGggJiYgZi5jaGlsZHJlbigpLmxlbmd0aCA/IGYuaXMoIjp2aXNpYmxlIikgPyBkLmVtcHR5KCkuYXBwZW5kKGcuaWNvbnMuY29sbGFwc2UpIDogZC5lbXB0eSgpLmFwcGVuZChnLmljb25zLmV4cGFuZCkgOiBkLmVtcHR5KCksIGMucmVtb3ZlQ2xhc3MoZy5zdHlsZS5kcm9wQWJvdmUpLnJlbW92ZUNsYXNzKGcuc3R5bGUuZHJvcEJlbG93KSwgZS5jc3MoIndpZHRoIiwgZy5pbmRlbnRhdGlvbiAqIChoIC0gMSkpOwogICAgfQogIH0sCiAgcHVibGljOiB7fSwKICBldmVudHM6IHsKICAgIG5vZGVEcm9wOiBmdW5jdGlvbiBub2RlRHJvcChhLCBiLCBjLCBkKSB7CiAgICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJub2RlRHJvcCIsIFtiLCBjLCBkXSk7CiAgICB9CiAgfSwKICBjb25maWd1cmU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShhKSB7CiAgICAkLmV4dGVuZCghMCwgYSwgZ2oudHJlZS5wbHVnaW5zLmRyYWdBbmREcm9wLnB1YmxpYyksIGEuZGF0YSgiZHJhZ0FuZERyb3AiKSAmJiBnai5kcmFnZ2FibGUgJiYgZ2ouZHJvcHBhYmxlICYmIGEub24oIm5vZGVEYXRhQm91bmQiLCBmdW5jdGlvbiAoYiwgYykgewogICAgICBnai50cmVlLnBsdWdpbnMuZHJhZ0FuZERyb3AucHJpdmF0ZS5ub2RlRGF0YUJvdW5kKGEsIGMpOwogICAgfSk7CiAgfQp9LCBnai50cmVlLnBsdWdpbnMubGF6eUxvYWRpbmcgPSB7CiAgY29uZmlnOiB7CiAgICBiYXNlOiB7CiAgICAgIHBhcmFtTmFtZXM6IHsKICAgICAgICBwYXJlbnRJZDogInBhcmVudElkIgogICAgICB9LAogICAgICBsYXp5TG9hZGluZzogITEKICAgIH0KICB9LAogIHByaXZhdGU6IHsKICAgIG5vZGVEYXRhQm91bmQ6IGZ1bmN0aW9uIG5vZGVEYXRhQm91bmQoYSwgYiwgYywgZCkgewogICAgICB2YXIgZSA9IGEuZGF0YSgpLAogICAgICAgICAgZiA9IGIuZmluZCgnPiBbZGF0YS1yb2xlPSJ3cmFwcGVyIl0gPiBbZGF0YS1yb2xlPSJleHBhbmRlciJdJyk7CiAgICAgIGQuaGFzQ2hpbGRyZW4gJiYgZi5lbXB0eSgpLmFwcGVuZChlLmljb25zLmV4cGFuZCk7CiAgICB9LAogICAgY3JlYXRlRG9uZUhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZURvbmVIYW5kbGVyKGEsIGIpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgdmFyIGQsCiAgICAgICAgICAgIGUsCiAgICAgICAgICAgIGYsCiAgICAgICAgICAgIGcgPSBhLmRhdGEoKTsKCiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBjICYmIEpTT04gJiYgKGMgPSBKU09OLnBhcnNlKGMpKSwgYyAmJiBjLmxlbmd0aCkgewogICAgICAgICAgZm9yIChmID0gYi5jaGlsZHJlbigidWwiKSwgMCA9PT0gZi5sZW5ndGggJiYgKGYgPSAkKCI8dWwgLz4iKS5hZGRDbGFzcyhnLnN0eWxlLmxpc3QpLCBiLmFwcGVuZChmKSksIGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykgewogICAgICAgICAgICBhLmFkZE5vZGUoY1tkXSwgZik7CiAgICAgICAgICB9CgogICAgICAgICAgZSA9IGIuZmluZCgnPltkYXRhLXJvbGU9IndyYXBwZXIiXT5bZGF0YS1yb2xlPSJleHBhbmRlciJdJyksIGUuYXR0cigiZGF0YS1tb2RlIiwgIm9wZW4iKSwgZS5lbXB0eSgpLmFwcGVuZChnLmljb25zLmNvbGxhcHNlKSwgZ2oudHJlZS5ldmVudHMuZGF0YUJvdW5kKGEpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBleHBhbmQ6IGZ1bmN0aW9uIGV4cGFuZChhLCBiLCBjKSB7CiAgICAgIHZhciBkLAogICAgICAgICAgZSA9IGEuZGF0YSgpLAogICAgICAgICAgZiA9IHt9LAogICAgICAgICAgZyA9IGIuZmluZCgiPnVsPmxpIik7CiAgICAgIGcgJiYgZy5sZW5ndGggfHwgInN0cmluZyIgPT0gdHlwZW9mIGUuZGF0YVNvdXJjZSAmJiAoZltlLnBhcmFtTmFtZXMucGFyZW50SWRdID0gYywgZCA9IHsKICAgICAgICB1cmw6IGUuZGF0YVNvdXJjZSwKICAgICAgICBkYXRhOiBmCiAgICAgIH0sIGEueGhyICYmIGEueGhyLmFib3J0KCksIGEueGhyID0gJC5hamF4KGQpLmRvbmUoZ2oudHJlZS5wbHVnaW5zLmxhenlMb2FkaW5nLnByaXZhdGUuY3JlYXRlRG9uZUhhbmRsZXIoYSwgYikpLmZhaWwoYS5jcmVhdGVFcnJvckhhbmRsZXIoKSkpOwogICAgfQogIH0sCiAgcHVibGljOiB7fSwKICBldmVudHM6IHt9LAogIGNvbmZpZ3VyZTogZnVuY3Rpb24gY29uZmlndXJlKGEsIGIsIGMpIHsKICAgIGMubGF6eUxvYWRpbmcgJiYgKGEub24oIm5vZGVEYXRhQm91bmQiLCBmdW5jdGlvbiAoYiwgYywgZCwgZSkgewogICAgICBnai50cmVlLnBsdWdpbnMubGF6eUxvYWRpbmcucHJpdmF0ZS5ub2RlRGF0YUJvdW5kKGEsIGMsIGQsIGUpOwogICAgfSksIGEub24oImV4cGFuZCIsIGZ1bmN0aW9uIChiLCBjLCBkKSB7CiAgICAgIGdqLnRyZWUucGx1Z2lucy5sYXp5TG9hZGluZy5wcml2YXRlLmV4cGFuZChhLCBjLCBkKTsKICAgIH0pKTsKICB9Cn0sIGdqLmNoZWNrYm94ID0gewogIHBsdWdpbnM6IHt9Cn0sIGdqLmNoZWNrYm94LmNvbmZpZyA9IHsKICBiYXNlOiB7CiAgICB1aUxpYnJhcnk6ICJtYXRlcmlhbGRlc2lnbiIsCiAgICBpY29uc0xpYnJhcnk6ICJtYXRlcmlhbGljb25zIiwKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXJDc3NDbGFzczogImdqLWNoZWNrYm94LW1kIiwKICAgICAgc3BhbkNzc0NsYXNzOiB2b2lkIDAKICAgIH0KICB9LAogIGJvb3RzdHJhcDogewogICAgc3R5bGU6IHsKICAgICAgd3JhcHBlckNzc0NsYXNzOiAiZ2otY2hlY2tib3gtYm9vdHN0cmFwIgogICAgfSwKICAgIGljb25zTGlicmFyeTogImdseXBoaWNvbnMiCiAgfSwKICBib290c3RyYXA0OiB7CiAgICBzdHlsZTogewogICAgICB3cmFwcGVyQ3NzQ2xhc3M6ICJnai1jaGVja2JveC1ib290c3RyYXAgZ2otY2hlY2tib3gtYm9vdHN0cmFwLTQiCiAgICB9LAogICAgaWNvbnNMaWJyYXJ5OiAibWF0ZXJpYWxpY29ucyIKICB9LAogIG1hdGVyaWFsaWNvbnM6IHsKICAgIHN0eWxlOiB7CiAgICAgIGljb25zQ3NzQ2xhc3M6ICJnai1jaGVja2JveC1tYXRlcmlhbC1pY29ucyIsCiAgICAgIHNwYW5Dc3NDbGFzczogImdqLWljb24iCiAgICB9CiAgfSwKICBnbHlwaGljb25zOiB7CiAgICBzdHlsZTogewogICAgICBpY29uc0Nzc0NsYXNzOiAiZ2otY2hlY2tib3gtZ2x5cGhpY29ucyIsCiAgICAgIHNwYW5Dc3NDbGFzczogIiIKICAgIH0KICB9LAogIGZvbnRhd2Vzb21lOiB7CiAgICBzdHlsZTogewogICAgICBpY29uc0Nzc0NsYXNzOiAiZ2otY2hlY2tib3gtZm9udGF3ZXNvbWUiLAogICAgICBzcGFuQ3NzQ2xhc3M6ICJmYSIKICAgIH0KICB9Cn0sIGdqLmNoZWNrYm94Lm1ldGhvZHMgPSB7CiAgaW5pdDogZnVuY3Rpb24gaW5pdChhKSB7CiAgICB2YXIgYiA9IHRoaXM7CiAgICByZXR1cm4gZ2oud2lkZ2V0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcywgYSwgImNoZWNrYm94IiksIGIuYXR0cigiZGF0YS1jaGVja2JveCIsICJ0cnVlIiksIGdqLmNoZWNrYm94Lm1ldGhvZHMuaW5pdGlhbGl6ZShiKSwgYjsKICB9LAogIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoYSkgewogICAgdmFyIGIsCiAgICAgICAgYywKICAgICAgICBkID0gYS5kYXRhKCk7CiAgICBkLnN0eWxlLndyYXBwZXJDc3NDbGFzcyAmJiAoYiA9ICQoJzxsYWJlbCBjbGFzcz0iJyArIGQuc3R5bGUud3JhcHBlckNzc0NsYXNzICsgIiAiICsgZC5zdHlsZS5pY29uc0Nzc0NsYXNzICsgJyI+PC9sYWJlbD4nKSwgYS5hdHRyKCJpZCIpICYmIGIuYXR0cigiZm9yIiwgYS5hdHRyKCJpZCIpKSwgYS53cmFwKGIpLCBjID0gJCgiPHNwYW4gLz4iKSwgZC5zdHlsZS5zcGFuQ3NzQ2xhc3MgJiYgYy5hZGRDbGFzcyhkLnN0eWxlLnNwYW5Dc3NDbGFzcyksIGEucGFyZW50KCkuYXBwZW5kKGMpKTsKICB9LAogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZShhLCBiKSB7CiAgICByZXR1cm4gYiA/ICgiY2hlY2tlZCIgPT09IGIgPyAoYS5wcm9wKCJpbmRldGVybWluYXRlIiwgITEpLCBhLnByb3AoImNoZWNrZWQiLCAhMCkpIDogInVuY2hlY2tlZCIgPT09IGIgPyAoYS5wcm9wKCJpbmRldGVybWluYXRlIiwgITEpLCBhLnByb3AoImNoZWNrZWQiLCAhMSkpIDogImluZGV0ZXJtaW5hdGUiID09PSBiICYmIChhLnByb3AoImNoZWNrZWQiLCAhMCksIGEucHJvcCgiaW5kZXRlcm1pbmF0ZSIsICEwKSksIGdqLmNoZWNrYm94LmV2ZW50cy5jaGFuZ2UoYSwgYiksIGEpIDogYiA9IGEucHJvcCgiaW5kZXRlcm1pbmF0ZSIpID8gImluZGV0ZXJtaW5hdGUiIDogYS5wcm9wKCJjaGVja2VkIikgPyAiY2hlY2tlZCIgOiAidW5jaGVja2VkIjsKICB9LAogIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGEpIHsKICAgIHJldHVybiAiY2hlY2tlZCIgPT0gYS5zdGF0ZSgpID8gYS5zdGF0ZSgidW5jaGVja2VkIikgOiBhLnN0YXRlKCJjaGVja2VkIiksIGE7CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KGEpIHsKICAgIHJldHVybiAidHJ1ZSIgPT09IGEuYXR0cigiZGF0YS1jaGVja2JveCIpICYmIChhLnJlbW92ZURhdGEoKSwgYS5yZW1vdmVBdHRyKCJkYXRhLWd1aWQiKSwgYS5yZW1vdmVBdHRyKCJkYXRhLWNoZWNrYm94IiksIGEub2ZmKCksIGEubmV4dCgic3BhbiIpLnJlbW92ZSgpLCBhLnVud3JhcCgpKSwgYTsKICB9Cn0sIGdqLmNoZWNrYm94LmV2ZW50cyA9IHsKICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShhLCBiKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiY2hhbmdlIiwgW2JdKTsKICB9Cn0sIGdqLmNoZWNrYm94LndpZGdldCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSB0aGlzLAogICAgICBkID0gZ2ouY2hlY2tib3gubWV0aG9kczsKICByZXR1cm4gYy50b2dnbGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC50b2dnbGUodGhpcyk7CiAgfSwgYy5zdGF0ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC5zdGF0ZSh0aGlzLCBhKTsKICB9LCBjLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5kZXN0cm95KHRoaXMpOwogIH0sICQuZXh0ZW5kKGEsIGMpLCAidHJ1ZSIgIT09IGEuYXR0cigiZGF0YS1jaGVja2JveCIpICYmIGQuaW5pdC5jYWxsKGEsIGIpLCBhOwp9LCBnai5jaGVja2JveC53aWRnZXQucHJvdG90eXBlID0gbmV3IGdqLndpZGdldCgpLCBnai5jaGVja2JveC53aWRnZXQuY29uc3RydWN0b3IgPSBnai5jaGVja2JveC53aWRnZXQsIGZ1bmN0aW9uIChhKSB7CiAgYS5mbi5jaGVja2JveCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYjsKCiAgICBpZiAodGhpcyAmJiB0aGlzLmxlbmd0aCkgewogICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZihhKSAmJiBhKSB7CiAgICAgICAgaWYgKGIgPSBuZXcgZ2ouY2hlY2tib3gud2lkZ2V0KHRoaXMsIG51bGwpLCBiW2FdKSByZXR1cm4gYlthXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgICAgICB0aHJvdyAiTWV0aG9kICIgKyBhICsgIiBkb2VzIG5vdCBleGlzdC4iOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IGdqLmNoZWNrYm94LndpZGdldCh0aGlzLCBhKTsKICAgIH0KICB9Owp9KGpRdWVyeSksIGdqLmVkaXRvciA9IHsKICBwbHVnaW5zOiB7fSwKICBtZXNzYWdlczoge30KfSwgZ2ouZWRpdG9yLmNvbmZpZyA9IHsKICBiYXNlOiB7CiAgICBoZWlnaHQ6IDMwMCwKICAgIHdpZHRoOiB2b2lkIDAsCiAgICB1aUxpYnJhcnk6ICJtYXRlcmlhbGRlc2lnbiIsCiAgICBpY29uc0xpYnJhcnk6ICJtYXRlcmlhbGljb25zIiwKICAgIGxvY2FsZTogImVuLXVzIiwKICAgIGJ1dHRvbnM6IHZvaWQgMCwKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai1lZGl0b3IgZ2otZWRpdG9yLW1kIiwKICAgICAgYnV0dG9uc0dyb3VwOiAiZ2otYnV0dG9uLW1kLWdyb3VwIiwKICAgICAgYnV0dG9uOiAiZ2otYnV0dG9uLW1kIiwKICAgICAgYnV0dG9uQWN0aXZlOiAiYWN0aXZlIgogICAgfQogIH0sCiAgYm9vdHN0cmFwOiB7CiAgICBzdHlsZTogewogICAgICB3cmFwcGVyOiAiZ2otZWRpdG9yIGdqLWVkaXRvci1ib290c3RyYXAiLAogICAgICBidXR0b25zR3JvdXA6ICJidG4tZ3JvdXAiLAogICAgICBidXR0b246ICJidG4gYnRuLWRlZmF1bHQgZ2otY3Vyc29yLXBvaW50ZXIiLAogICAgICBidXR0b25BY3RpdmU6ICJhY3RpdmUiCiAgICB9CiAgfSwKICBib290c3RyYXA0OiB7CiAgICBzdHlsZTogewogICAgICB3cmFwcGVyOiAiZ2otZWRpdG9yIGdqLWVkaXRvci1ib290c3RyYXAiLAogICAgICBidXR0b25zR3JvdXA6ICJidG4tZ3JvdXAiLAogICAgICBidXR0b246ICJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGdqLWN1cnNvci1wb2ludGVyIiwKICAgICAgYnV0dG9uQWN0aXZlOiAiYWN0aXZlIgogICAgfQogIH0sCiAgbWF0ZXJpYWxpY29uczogewogICAgaWNvbnM6IHsKICAgICAgYm9sZDogJzxpIGNsYXNzPSJnai1pY29uIGJvbGQiIC8+JywKICAgICAgaXRhbGljOiAnPGkgY2xhc3M9ImdqLWljb24gaXRhbGljIiAvPicsCiAgICAgIHN0cmlrZXRocm91Z2g6ICc8aSBjbGFzcz0iZ2otaWNvbiBzdHJpa2V0aHJvdWdoIiAvPicsCiAgICAgIHVuZGVybGluZTogJzxpIGNsYXNzPSJnai1pY29uIHVuZGVybGluZWQiIC8+JywKICAgICAgbGlzdEJ1bGxldGVkOiAnPGkgY2xhc3M9ImdqLWljb24gbGlzdC1idWxsZXRlZCIgLz4nLAogICAgICBsaXN0TnVtYmVyZWQ6ICc8aSBjbGFzcz0iZ2otaWNvbiBsaXN0LW51bWJlcmVkIiAvPicsCiAgICAgIGluZGVudERlY3JlYXNlOiAnPGkgY2xhc3M9ImdqLWljb24gaW5kZW50LWRlY3JlYXNlIiAvPicsCiAgICAgIGluZGVudEluY3JlYXNlOiAnPGkgY2xhc3M9ImdqLWljb24gaW5kZW50LWluY3JlYXNlIiAvPicsCiAgICAgIGFsaWduTGVmdDogJzxpIGNsYXNzPSJnai1pY29uIGFsaWduLWxlZnQiIC8+JywKICAgICAgYWxpZ25DZW50ZXI6ICc8aSBjbGFzcz0iZ2otaWNvbiBhbGlnbi1jZW50ZXIiIC8+JywKICAgICAgYWxpZ25SaWdodDogJzxpIGNsYXNzPSJnai1pY29uIGFsaWduLXJpZ2h0IiAvPicsCiAgICAgIGFsaWduSnVzdGlmeTogJzxpIGNsYXNzPSJnai1pY29uIGFsaWduLWp1c3RpZnkiIC8+JywKICAgICAgdW5kbzogJzxpIGNsYXNzPSJnai1pY29uIHVuZG8iIC8+JywKICAgICAgcmVkbzogJzxpIGNsYXNzPSJnai1pY29uIHJlZG8iIC8+JwogICAgfQogIH0sCiAgZm9udGF3ZXNvbWU6IHsKICAgIGljb25zOiB7CiAgICAgIGJvbGQ6ICc8aSBjbGFzcz0iZmEgZmEtYm9sZCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nLAogICAgICBpdGFsaWM6ICc8aSBjbGFzcz0iZmEgZmEtaXRhbGljIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIHN0cmlrZXRocm91Z2g6ICc8aSBjbGFzcz0iZmEgZmEtc3RyaWtldGhyb3VnaCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nLAogICAgICB1bmRlcmxpbmU6ICc8aSBjbGFzcz0iZmEgZmEtdW5kZXJsaW5lIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIGxpc3RCdWxsZXRlZDogJzxpIGNsYXNzPSJmYSBmYS1saXN0LXVsIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIGxpc3ROdW1iZXJlZDogJzxpIGNsYXNzPSJmYSBmYS1saXN0LW9sIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIGluZGVudERlY3JlYXNlOiAnPGkgY2xhc3M9ImZhIGZhLWluZGVudCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nLAogICAgICBpbmRlbnRJbmNyZWFzZTogJzxpIGNsYXNzPSJmYSBmYS1vdXRkZW50IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIGFsaWduTGVmdDogJzxpIGNsYXNzPSJmYSBmYS1hbGlnbi1sZWZ0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIGFsaWduQ2VudGVyOiAnPGkgY2xhc3M9ImZhIGZhLWFsaWduLWNlbnRlciIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nLAogICAgICBhbGlnblJpZ2h0OiAnPGkgY2xhc3M9ImZhIGZhLWFsaWduLXJpZ2h0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIGFsaWduSnVzdGlmeTogJzxpIGNsYXNzPSJmYSBmYS1hbGlnbi1qdXN0aWZ5IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIHVuZG86ICc8aSBjbGFzcz0iZmEgZmEtdW5kbyIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nLAogICAgICByZWRvOiAnPGkgY2xhc3M9ImZhIGZhLXJlcGVhdCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nCiAgICB9CiAgfQp9LCBnai5lZGl0b3IubWV0aG9kcyA9IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGEpIHsKICAgIHJldHVybiBnai53aWRnZXQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLCBhLCAiZWRpdG9yIiksIHRoaXMuYXR0cigiZGF0YS1lZGl0b3IiLCAidHJ1ZSIpLCBnai5lZGl0b3IubWV0aG9kcy5pbml0aWFsaXplKHRoaXMpLCB0aGlzOwogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShhKSB7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQsCiAgICAgICAgZSwKICAgICAgICBmLAogICAgICAgIGcgPSB0aGlzLAogICAgICAgIGggPSBhLmRhdGEoKTsKCiAgICBpZiAoYS5oaWRlKCksICJ3cmFwcGVyIiAhPT0gYVswXS5wYXJlbnRFbGVtZW50LmF0dHJpYnV0ZXMucm9sZSAmJiAoZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBkLnNldEF0dHJpYnV0ZSgicm9sZSIsICJ3cmFwcGVyIiksIGFbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZCwgYVswXSksIGQuYXBwZW5kQ2hpbGQoYVswXSkpLCBnai5lZGl0b3IubWV0aG9kcy5sb2NhbGl6YXRpb24oaCksICQoZCkuYWRkQ2xhc3MoaC5zdHlsZS53cmFwcGVyKSwgaC53aWR0aCAmJiAkKGQpLndpZHRoKGgud2lkdGgpLCBlID0gJChkKS5jaGlsZHJlbignZGl2W3JvbGU9ImJvZHkiXScpLCAwID09PSBlLmxlbmd0aCAmJiAoZSA9ICQoJzxkaXYgcm9sZT0iYm9keSI+PC9kaXY+JyksICQoZCkuYXBwZW5kKGUpLCBhWzBdLmlubmVyVGV4dCAmJiAoZVswXS5pbm5lckhUTUwgPSBhWzBdLmlubmVyVGV4dCkpLCBlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsICEwKSwgZS5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChiKSB7CiAgICAgIHZhciBjID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC5jaGFyQ29kZTsKICAgICAgITEgPT09IGdqLmVkaXRvci5ldmVudHMuY2hhbmdpbmcoYSkgJiYgOCAhPT0gYyAmJiA0NiAhPT0gYyAmJiBiLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KSwgZS5vbigibW91c2V1cCBrZXl1cCBtb3VzZW91dCBjdXQgcGFzdGUiLCBmdW5jdGlvbiAoYikgewogICAgICBnLnVwZGF0ZVRvb2xiYXIoYSwgZiksIGdqLmVkaXRvci5ldmVudHMuY2hhbmdlZChhKSwgYS5odG1sKGUuaHRtbCgpKTsKICAgIH0pLCBmID0gJChkKS5jaGlsZHJlbignZGl2W3JvbGU9InRvb2xiYXIiXScpLCAwID09PSBmLmxlbmd0aCkgewogICAgICBmID0gJCgnPGRpdiByb2xlPSJ0b29sYmFyIj48L2Rpdj4nKSwgZS5iZWZvcmUoZik7CgogICAgICBmb3IgKHZhciBpIGluIGguYnV0dG9ucykgewogICAgICAgIGIgPSAkKCI8ZGl2IC8+IikuYWRkQ2xhc3MoaC5zdHlsZS5idXR0b25zR3JvdXApOwoKICAgICAgICBmb3IgKHZhciBqIGluIGguYnV0dG9uc1tpXSkgewogICAgICAgICAgYyA9ICQoaC5idXR0b25zW2ldW2pdKSwgYy5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGdqLmVkaXRvci5tZXRob2RzLmV4ZWN1dGVDbWQoYSwgZSwgZiwgJCh0aGlzKSk7CiAgICAgICAgICB9KSwgYi5hcHBlbmQoYyk7CiAgICAgICAgfQoKICAgICAgICBmLmFwcGVuZChiKTsKICAgICAgfQogICAgfQoKICAgIGUuaGVpZ2h0KGguaGVpZ2h0IC0gZ2ouY29yZS5oZWlnaHQoZlswXSwgITApKTsKICB9LAogIGxvY2FsaXphdGlvbjogZnVuY3Rpb24gbG9jYWxpemF0aW9uKGEpIHsKICAgIHZhciBiID0gZ2ouZWRpdG9yLm1lc3NhZ2VzW2EubG9jYWxlXTsKICAgIHZvaWQgMCA9PT0gYS5idXR0b25zICYmIChhLmJ1dHRvbnMgPSBbWyc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi5ib2xkICsgJyIgcm9sZT0iYm9sZCI+JyArIGEuaWNvbnMuYm9sZCArICI8L2J1dHRvbj4iLCAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSInICsgYS5zdHlsZS5idXR0b24gKyAnIiB0aXRsZT0iJyArIGIuaXRhbGljICsgJyIgcm9sZT0iaXRhbGljIj4nICsgYS5pY29ucy5pdGFsaWMgKyAiPC9idXR0b24+IiwgJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iJyArIGEuc3R5bGUuYnV0dG9uICsgJyIgdGl0bGU9IicgKyBiLnN0cmlrZXRocm91Z2ggKyAnIiByb2xlPSJzdHJpa2V0aHJvdWdoIj4nICsgYS5pY29ucy5zdHJpa2V0aHJvdWdoICsgIjwvYnV0dG9uPiIsICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi51bmRlcmxpbmUgKyAnIiByb2xlPSJ1bmRlcmxpbmUiPicgKyBhLmljb25zLnVuZGVybGluZSArICI8L2J1dHRvbj4iXSwgWyc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi5saXN0QnVsbGV0ZWQgKyAnIiByb2xlPSJpbnNlcnR1bm9yZGVyZWRsaXN0Ij4nICsgYS5pY29ucy5saXN0QnVsbGV0ZWQgKyAiPC9idXR0b24+IiwgJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iJyArIGEuc3R5bGUuYnV0dG9uICsgJyIgdGl0bGU9IicgKyBiLmxpc3ROdW1iZXJlZCArICciIHJvbGU9Imluc2VydG9yZGVyZWRsaXN0Ij4nICsgYS5pY29ucy5saXN0TnVtYmVyZWQgKyAiPC9idXR0b24+IiwgJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iJyArIGEuc3R5bGUuYnV0dG9uICsgJyIgdGl0bGU9IicgKyBiLmluZGVudERlY3JlYXNlICsgJyIgcm9sZT0ib3V0ZGVudCI+JyArIGEuaWNvbnMuaW5kZW50RGVjcmVhc2UgKyAiPC9idXR0b24+IiwgJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iJyArIGEuc3R5bGUuYnV0dG9uICsgJyIgdGl0bGU9IicgKyBiLmluZGVudEluY3JlYXNlICsgJyIgcm9sZT0iaW5kZW50Ij4nICsgYS5pY29ucy5pbmRlbnRJbmNyZWFzZSArICI8L2J1dHRvbj4iXSwgWyc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi5hbGlnbkxlZnQgKyAnIiByb2xlPSJqdXN0aWZ5bGVmdCI+JyArIGEuaWNvbnMuYWxpZ25MZWZ0ICsgIjwvYnV0dG9uPiIsICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi5hbGlnbkNlbnRlciArICciIHJvbGU9Imp1c3RpZnljZW50ZXIiPicgKyBhLmljb25zLmFsaWduQ2VudGVyICsgIjwvYnV0dG9uPiIsICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi5hbGlnblJpZ2h0ICsgJyIgcm9sZT0ianVzdGlmeXJpZ2h0Ij4nICsgYS5pY29ucy5hbGlnblJpZ2h0ICsgIjwvYnV0dG9uPiIsICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi5hbGlnbkp1c3RpZnkgKyAnIiByb2xlPSJqdXN0aWZ5ZnVsbCI+JyArIGEuaWNvbnMuYWxpZ25KdXN0aWZ5ICsgIjwvYnV0dG9uPiJdLCBbJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iJyArIGEuc3R5bGUuYnV0dG9uICsgJyIgdGl0bGU9IicgKyBiLnVuZG8gKyAnIiByb2xlPSJ1bmRvIj4nICsgYS5pY29ucy51bmRvICsgIjwvYnV0dG9uPiIsICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicgKyBhLnN0eWxlLmJ1dHRvbiArICciIHRpdGxlPSInICsgYi5yZWRvICsgJyIgcm9sZT0icmVkbyI+JyArIGEuaWNvbnMucmVkbyArICI8L2J1dHRvbj4iXV0pOwogIH0sCiAgdXBkYXRlVG9vbGJhcjogZnVuY3Rpb24gdXBkYXRlVG9vbGJhcihhLCBiKSB7CiAgICB2YXIgYyA9IGEuZGF0YSgpOwogICAgJGJ1dHRvbnMgPSBiLmZpbmQoIltyb2xlXSIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgYSA9ICQodGhpcyksCiAgICAgICAgICBiID0gYS5hdHRyKCJyb2xlIik7CiAgICAgIGIgJiYgZG9jdW1lbnQucXVlcnlDb21tYW5kRW5hYmxlZChiKSAmJiAidHJ1ZSIgPT09IGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFZhbHVlKGIpID8gYS5hZGRDbGFzcyhjLnN0eWxlLmJ1dHRvbkFjdGl2ZSkgOiBhLnJlbW92ZUNsYXNzKGMuc3R5bGUuYnV0dG9uQWN0aXZlKTsKICAgIH0pOwogIH0sCiAgZXhlY3V0ZUNtZDogZnVuY3Rpb24gZXhlY3V0ZUNtZChhLCBiLCBjLCBkKSB7CiAgICBiLmZvY3VzKCksIGRvY3VtZW50LmV4ZWNDb21tYW5kKGQuYXR0cigicm9sZSIpLCAhMSksIGdqLmVkaXRvci5tZXRob2RzLnVwZGF0ZVRvb2xiYXIoYSwgYyk7CiAgfSwKICBjb250ZW50OiBmdW5jdGlvbiBjb250ZW50KGEsIGIpIHsKICAgIHZhciBjID0gYS5wYXJlbnQoKS5jaGlsZHJlbignZGl2W3JvbGU9ImJvZHkiXScpOwogICAgcmV0dXJuIHZvaWQgMCA9PT0gYiA/IGMuaHRtbCgpIDogYy5odG1sKGIpOwogIH0sCiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShhKSB7CiAgICB2YXIgYjsKICAgIHJldHVybiAidHJ1ZSIgPT09IGEuYXR0cigiZGF0YS1lZGl0b3IiKSAmJiAoYiA9IGEucGFyZW50KCksIGIuY2hpbGRyZW4oJ2Rpdltyb2xlPSJib2R5Il0nKS5yZW1vdmUoKSwgYi5jaGlsZHJlbignZGl2W3JvbGU9InRvb2xiYXIiXScpLnJlbW92ZSgpLCBhLnVud3JhcCgpLCBhLnJlbW92ZURhdGEoKSwgYS5yZW1vdmVBdHRyKCJkYXRhLWd1aWQiKSwgYS5yZW1vdmVBdHRyKCJkYXRhLWVkaXRvciIpLCBhLm9mZigpLCBhLnNob3coKSksIGE7CiAgfQp9LCBnai5lZGl0b3IuZXZlbnRzID0gewogIGNoYW5naW5nOiBmdW5jdGlvbiBjaGFuZ2luZyhhKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiY2hhbmdpbmciKTsKICB9LAogIGNoYW5nZWQ6IGZ1bmN0aW9uIGNoYW5nZWQoYSkgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoImNoYW5nZWQiKTsKICB9Cn0sIGdqLmVkaXRvci53aWRnZXQgPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gdGhpcywKICAgICAgZCA9IGdqLmVkaXRvci5tZXRob2RzOwogIHJldHVybiBjLmNvbnRlbnQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQuY29udGVudCh0aGlzLCBhKTsKICB9LCBjLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5kZXN0cm95KHRoaXMpOwogIH0sICQuZXh0ZW5kKGEsIGMpLCAidHJ1ZSIgIT09IGEuYXR0cigiZGF0YS1lZGl0b3IiKSAmJiBkLmluaXQuY2FsbChhLCBiKSwgYTsKfSwgZ2ouZWRpdG9yLndpZGdldC5wcm90b3R5cGUgPSBuZXcgZ2oud2lkZ2V0KCksIGdqLmVkaXRvci53aWRnZXQuY29uc3RydWN0b3IgPSBnai5lZGl0b3Iud2lkZ2V0LCBmdW5jdGlvbiAoYSkgewogIGEuZm4uZWRpdG9yID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiOwoKICAgIGlmICh0aGlzICYmIHRoaXMubGVuZ3RoKSB7CiAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGEpICYmIGEpIHsKICAgICAgICBpZiAoYiA9IG5ldyBnai5lZGl0b3Iud2lkZ2V0KHRoaXMsIG51bGwpLCBiW2FdKSByZXR1cm4gYlthXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgICAgICB0aHJvdyAiTWV0aG9kICIgKyBhICsgIiBkb2VzIG5vdCBleGlzdC4iOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IGdqLmVkaXRvci53aWRnZXQodGhpcywgYSk7CiAgICB9CiAgfTsKfShqUXVlcnkpLCBnai5lZGl0b3IubWVzc2FnZXNbImVuLXVzIl0gPSB7CiAgYm9sZDogIkJvbGQiLAogIGl0YWxpYzogIkl0YWxpYyIsCiAgc3RyaWtldGhyb3VnaDogIlN0cmlrZXRocm91Z2giLAogIHVuZGVybGluZTogIlVuZGVybGluZSIsCiAgbGlzdEJ1bGxldGVkOiAiTGlzdCBCdWxsZXRlZCIsCiAgbGlzdE51bWJlcmVkOiAiTGlzdCBOdW1iZXJlZCIsCiAgaW5kZW50RGVjcmVhc2U6ICJJbmRlbnQgRGVjcmVhc2UiLAogIGluZGVudEluY3JlYXNlOiAiSW5kZW50IEluY3JlYXNlIiwKICBhbGlnbkxlZnQ6ICJBbGlnbiBMZWZ0IiwKICBhbGlnbkNlbnRlcjogIkFsaWduIENlbnRlciIsCiAgYWxpZ25SaWdodDogIkFsaWduIFJpZ2h0IiwKICBhbGlnbkp1c3RpZnk6ICJBbGlnbiBKdXN0aWZ5IiwKICB1bmRvOiAiVW5kbyIsCiAgcmVkbzogIlJlZG8iCn0sIGdqLmRyb3Bkb3duID0gewogIHBsdWdpbnM6IHt9Cn0sIGdqLmRyb3Bkb3duLmNvbmZpZyA9IHsKICBiYXNlOiB7CiAgICBkYXRhU291cmNlOiB2b2lkIDAsCiAgICB0ZXh0RmllbGQ6ICJ0ZXh0IiwKICAgIHZhbHVlRmllbGQ6ICJ2YWx1ZSIsCiAgICBzZWxlY3RlZEZpZWxkOiAic2VsZWN0ZWQiLAogICAgd2lkdGg6IHZvaWQgMCwKICAgIG1heEhlaWdodDogImF1dG8iLAogICAgcGxhY2Vob2xkZXI6IHZvaWQgMCwKICAgIGZvbnRTaXplOiB2b2lkIDAsCiAgICB1aUxpYnJhcnk6ICJtYXRlcmlhbGRlc2lnbiIsCiAgICBpY29uc0xpYnJhcnk6ICJtYXRlcmlhbGljb25zIiwKICAgIGljb25zOiB7CiAgICAgIGRyb3Bkb3duOiAnPGkgY2xhc3M9ImdqLWljb24gYXJyb3ctZHJvcGRvd24iIC8+JywKICAgICAgZHJvcHVwOiAnPGkgY2xhc3M9ImdqLWljb24gYXJyb3ctZHJvcHVwIiAvPicKICAgIH0sCiAgICBzdHlsZTogewogICAgICB3cmFwcGVyOiAiZ2otZHJvcGRvd24gZ2otZHJvcGRvd24tbWQgZ2otdW5zZWxlY3RhYmxlIiwKICAgICAgbGlzdDogImdqLWxpc3QgZ2otbGlzdC1tZCBnai1kcm9wZG93bi1saXN0LW1kIiwKICAgICAgYWN0aXZlOiAiZ2otbGlzdC1tZC1hY3RpdmUiCiAgICB9CiAgfSwKICBib290c3RyYXA6IHsKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai1kcm9wZG93biBnai1kcm9wZG93bi1ib290c3RyYXAgZ2otZHJvcGRvd24tYm9vdHN0cmFwLTMgZ2otdW5zZWxlY3RhYmxlIiwKICAgICAgcHJlc2VudGVyOiAiYnRuIGJ0bi1kZWZhdWx0IiwKICAgICAgbGlzdDogImdqLWxpc3QgZ2otbGlzdC1ib290c3RyYXAgZ2otZHJvcGRvd24tbGlzdC1ib290c3RyYXAgbGlzdC1ncm91cCIsCiAgICAgIGl0ZW06ICJsaXN0LWdyb3VwLWl0ZW0iLAogICAgICBhY3RpdmU6ICJhY3RpdmUiCiAgICB9LAogICAgaWNvbnNMaWJyYXJ5OiAiZ2x5cGhpY29ucyIKICB9LAogIGJvb3RzdHJhcDQ6IHsKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai1kcm9wZG93biBnai1kcm9wZG93bi1ib290c3RyYXAgZ2otZHJvcGRvd24tYm9vdHN0cmFwLTQgZ2otdW5zZWxlY3RhYmxlIiwKICAgICAgcHJlc2VudGVyOiAiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSIsCiAgICAgIGxpc3Q6ICJnai1saXN0IGdqLWxpc3QtYm9vdHN0cmFwIGdqLWRyb3Bkb3duLWxpc3QtYm9vdHN0cmFwIGxpc3QtZ3JvdXAiLAogICAgICBpdGVtOiAibGlzdC1ncm91cC1pdGVtIiwKICAgICAgYWN0aXZlOiAiYWN0aXZlIgogICAgfQogIH0sCiAgbWF0ZXJpYWxpY29uczogewogICAgc3R5bGU6IHsKICAgICAgZXhwYW5kZXI6ICJnai1kcm9wZG93bi1leHBhbmRlci1taSIKICAgIH0KICB9LAogIGZvbnRhd2Vzb21lOiB7CiAgICBpY29uczogewogICAgICBkcm9wZG93bjogJzxpIGNsYXNzPSJmYSBmYS1jYXJldC1kb3duIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIGRyb3B1cDogJzxpIGNsYXNzPSJmYSBmYS1jYXJldC11cCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4nCiAgICB9LAogICAgc3R5bGU6IHsKICAgICAgZXhwYW5kZXI6ICJnai1kcm9wZG93bi1leHBhbmRlci1mYSIKICAgIH0KICB9LAogIGdseXBoaWNvbnM6IHsKICAgIGljb25zOiB7CiAgICAgIGRyb3Bkb3duOiAnPHNwYW4gY2xhc3M9ImNhcmV0Ij48L3NwYW4+JywKICAgICAgZHJvcHVwOiAnPHNwYW4gY2xhc3M9ImRyb3B1cCI+PHNwYW4gY2xhc3M9ImNhcmV0IiA+PC9zcGFuPjwvc3Bhbj4nCiAgICB9LAogICAgc3R5bGU6IHsKICAgICAgZXhwYW5kZXI6ICJnai1kcm9wZG93bi1leHBhbmRlci1nbHlwaGljb25zIgogICAgfQogIH0KfSwgZ2ouZHJvcGRvd24ubWV0aG9kcyA9IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGEpIHsKICAgIHJldHVybiBnai53aWRnZXQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLCBhLCAiZHJvcGRvd24iKSwgdGhpcy5hdHRyKCJkYXRhLWRyb3Bkb3duIiwgInRydWUiKSwgZ2ouZHJvcGRvd24ubWV0aG9kcy5pbml0aWFsaXplKHRoaXMpLCB0aGlzOwogIH0sCiAgZ2V0SFRNTENvbmZpZzogZnVuY3Rpb24gZ2V0SFRNTENvbmZpZygpIHsKICAgIHZhciBhID0gZ2oud2lkZ2V0LnByb3RvdHlwZS5nZXRIVE1MQ29uZmlnLmNhbGwodGhpcyksCiAgICAgICAgYiA9IHRoaXNbMF0uYXR0cmlidXRlczsKICAgIHJldHVybiBiLnBsYWNlaG9sZGVyICYmIChhLnBsYWNlaG9sZGVyID0gYi5wbGFjZWhvbGRlci52YWx1ZSksIGE7CiAgfSwKICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKGEpIHsKICAgIHZhciBiID0gYS5kYXRhKCksCiAgICAgICAgYyA9IGEucGFyZW50KCdkaXZbcm9sZT0id3JhcHBlciJdJyksCiAgICAgICAgZCA9ICQoJzxzcGFuIHJvbGU9ImRpc3BsYXkiPjwvc3Bhbj4nKSwKICAgICAgICBlID0gJCgnPHNwYW4gcm9sZT0iZXhwYW5kZXIiPicgKyBiLmljb25zLmRyb3Bkb3duICsgIjwvc3Bhbj4iKS5hZGRDbGFzcyhiLnN0eWxlLmV4cGFuZGVyKSwKICAgICAgICBmID0gJCgnPGJ1dHRvbiByb2xlPSJwcmVzZW50ZXIiIHR5cGU9ImJ1dHRvbiI+PC9idXR0b24+JykuYWRkQ2xhc3MoYi5zdHlsZS5wcmVzZW50ZXIpLAogICAgICAgIGcgPSAkKCc8dWwgcm9sZT0ibGlzdCIgY2xhc3M9IicgKyBiLnN0eWxlLmxpc3QgKyAnIj48L3VsPicpLmF0dHIoImd1aWQiLCBhLmF0dHIoImRhdGEtZ3VpZCIpKTsKICAgIDAgPT09IGMubGVuZ3RoID8gKGMgPSAkKCc8ZGl2IHJvbGU9IndyYXBwZXIiIC8+JykuYWRkQ2xhc3MoYi5zdHlsZS53cmFwcGVyKSwgYS53cmFwKGMpKSA6IGMuYWRkQ2xhc3MoYi5zdHlsZS53cmFwcGVyKSwgYi5mb250U2l6ZSAmJiBmLmNzcygiZm9udC1zaXplIiwgYi5mb250U2l6ZSksIGYub24oImNsaWNrIiwgZnVuY3Rpb24gKGIpIHsKICAgICAgZy5pcygiOnZpc2libGUiKSA/IGdqLmRyb3Bkb3duLm1ldGhvZHMuY2xvc2UoYSwgZykgOiBnai5kcm9wZG93bi5tZXRob2RzLm9wZW4oYSwgZyk7CiAgICB9KSwgZi5vbigiYmx1ciIsIGZ1bmN0aW9uIChiKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGdqLmRyb3Bkb3duLm1ldGhvZHMuY2xvc2UoYSwgZyk7CiAgICAgIH0sIDUwMCk7CiAgICB9KSwgZi5hcHBlbmQoZCkuYXBwZW5kKGUpLCBhLmhpZGUoKSwgYS5hZnRlcihmKSwgJCgiYm9keSIpLmFwcGVuZChnKSwgZy5oaWRlKCksIGEucmVsb2FkKCk7CiAgfSwKICBzZXRMaXN0UG9zaXRpb246IGZ1bmN0aW9uIHNldExpc3RQb3NpdGlvbihhLCBiLCBjKSB7CiAgICB2YXIgZCwKICAgICAgICBlLAogICAgICAgIGYsCiAgICAgICAgZywKICAgICAgICBoID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwKICAgICAgICBpID0gd2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0IHx8IDA7CiAgICB3aW5kb3cuc2Nyb2xsWCB8fCB3aW5kb3cucGFnZVhPZmZzZXQ7CiAgICBiLnN0eWxlLm92ZXJmbG93ID0gIiIsIGIuc3R5bGUub3ZlcmZsb3dYID0gIiIsIGIuc3R5bGUuaGVpZ2h0ID0gIiIsIGdqLmNvcmUuc2V0Q2hpbGRQb3NpdGlvbihhLCBiKSwgZCA9IGdqLmNvcmUuaGVpZ2h0KGIsICEwKSwgZyA9IGIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGUgPSBnai5jb3JlLmhlaWdodChhLCAhMCksICJhdXRvIiA9PT0gYy5tYXhIZWlnaHQgPyBoLnRvcCA8IGcudG9wID8gaC50b3AgKyBkICsgZSA+IHdpbmRvdy5pbm5lckhlaWdodCAmJiAoZiA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGgudG9wIC0gZSAtIDMpIDogaC50b3AgLSBkIC0gMyA+IDAgPyBiLnN0eWxlLnRvcCA9IE1hdGgucm91bmQoaC50b3AgKyBpIC0gZCAtIDMpICsgInB4IiA6IChiLnN0eWxlLnRvcCA9IGkgKyAicHgiLCBmID0gaC50b3AgLSAzKSA6ICFpc05hTihjLm1heEhlaWdodCkgJiYgYy5tYXhIZWlnaHQgPCBkICYmIChmID0gYy5tYXhIZWlnaHQpLCBmICYmIChiLnN0eWxlLm92ZXJmbG93ID0gInNjcm9sbCIsIGIuc3R5bGUub3ZlcmZsb3dYID0gImhpZGRlbiIsIGIuc3R5bGUuaGVpZ2h0ID0gZiArICJweCIpOwogIH0sCiAgdXNlSHRtbERhdGFTb3VyY2U6IGZ1bmN0aW9uIHVzZUh0bWxEYXRhU291cmNlKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQsCiAgICAgICAgZSA9IFtdLAogICAgICAgIGYgPSBhLmZpbmQoIm9wdGlvbiIpOwoKICAgIGZvciAoYyA9IDA7IGMgPCBmLmxlbmd0aDsgYysrKSB7CiAgICAgIGQgPSB7fSwgZFtiLnZhbHVlRmllbGRdID0gZltjXS52YWx1ZSwgZFtiLnRleHRGaWVsZF0gPSBmW2NdLmlubmVySFRNTCwgZFtiLnNlbGVjdGVkRmllbGRdID0gYVswXS52YWx1ZSA9PT0gZltjXS52YWx1ZSwgZS5wdXNoKGQpOwogICAgfQoKICAgIGIuZGF0YVNvdXJjZSA9IGU7CiAgfSwKICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihhKSB7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQgPSBhLmRhdGEoKTsKCiAgICBpZiAoZC5kYXRhU291cmNlKSB7CiAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgZC5kYXRhU291cmNlWzBdKSBmb3IgKGIgPSAwOyBiIDwgZC5kYXRhU291cmNlLmxlbmd0aDsgYisrKSB7CiAgICAgICAgYyA9IHt9LCBjW2QudmFsdWVGaWVsZF0gPSBkLmRhdGFTb3VyY2VbYl0sIGNbZC50ZXh0RmllbGRdID0gZC5kYXRhU291cmNlW2JdLCBkLmRhdGFTb3VyY2VbYl0gPSBjOwogICAgICB9CiAgICB9IGVsc2UgZC5kYXRhU291cmNlID0gW107CgogICAgcmV0dXJuIGQuZGF0YVNvdXJjZTsKICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGEsIGIpIHsKICAgIHZhciBjID0gW10sCiAgICAgICAgZCA9IGEuZGF0YSgpLAogICAgICAgIGUgPSBhLnBhcmVudCgpLAogICAgICAgIGYgPSAkKCJib2R5IikuY2hpbGRyZW4oJ1tyb2xlPSJsaXN0Il1bZ3VpZD0iJyArIGEuYXR0cigiZGF0YS1ndWlkIikgKyAnIl0nKSwKICAgICAgICBnID0gZS5jaGlsZHJlbignW3JvbGU9InByZXNlbnRlciJdJyksCiAgICAgICAgaCA9IChnLmNoaWxkcmVuKCdbcm9sZT0iZXhwYW5kZXIiXScpLCBnLmNoaWxkcmVuKCdbcm9sZT0iZGlzcGxheSJdJykpOwogICAgaWYgKGEuZGF0YSgicmVjb3JkcyIsIGIpLCBhLmVtcHR5KCksIGYuZW1wdHkoKSwgYiAmJiBiLmxlbmd0aCkgaWYgKCQuZWFjaChiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBiLAogICAgICAgICAgZSA9IHRoaXNbZC52YWx1ZUZpZWxkXSwKICAgICAgICAgIGcgPSB0aGlzW2QudGV4dEZpZWxkXSwKICAgICAgICAgIGggPSB0aGlzW2Quc2VsZWN0ZWRGaWVsZF0gJiYgInRydWUiID09PSB0aGlzW2Quc2VsZWN0ZWRGaWVsZF0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOwogICAgICBiID0gJCgnPGxpIHZhbHVlPSInICsgZSArICciPjxkaXYgZGF0YS1yb2xlPSJ3cmFwcGVyIj48c3BhbiBkYXRhLXJvbGU9ImRpc3BsYXkiPicgKyBnICsgIjwvc3Bhbj48L2Rpdj48L2xpPiIpLCBiLmFkZENsYXNzKGQuc3R5bGUuaXRlbSksIGIub24oImNsaWNrIiwgZnVuY3Rpb24gKGIpIHsKICAgICAgICBnai5kcm9wZG93bi5tZXRob2RzLnNlbGVjdChhLCBlKTsKICAgICAgfSksIGYuYXBwZW5kKGIpLCBhLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT0iJyArIGUgKyAnIj4nICsgZyArICI8L29wdGlvbj4iKSwgaCAmJiBjLnB1c2goZSk7CiAgICB9KSwgMCA9PT0gYy5sZW5ndGgpIGEucHJlcGVuZCgnPG9wdGlvbiB2YWx1ZT0iIj48L29wdGlvbj4nKSwgYVswXS5zZWxlY3RlZEluZGV4ID0gMCwgZC5wbGFjZWhvbGRlciAmJiAoaFswXS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9InBsYWNlaG9sZGVyIj4nICsgZC5wbGFjZWhvbGRlciArICI8L3NwYW4+Iik7ZWxzZSBmb3IgKGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykgewogICAgICBnai5kcm9wZG93bi5tZXRob2RzLnNlbGVjdChhLCBjW2ldKTsKICAgIH0KICAgIHJldHVybiBkLndpZHRoICYmIChlLmNzcygid2lkdGgiLCBkLndpZHRoKSwgZy5jc3MoIndpZHRoIiwgZC53aWR0aCkpLCBkLmZvbnRTaXplICYmIGYuY2hpbGRyZW4oImxpIikuY3NzKCJmb250LXNpemUiLCBkLmZvbnRTaXplKSwgZ2ouZHJvcGRvd24uZXZlbnRzLmRhdGFCb3VuZChhKSwgYTsKICB9LAogIG9wZW46IGZ1bmN0aW9uIG9wZW4oYSwgYikgewogICAgdmFyIGMgPSBhLmRhdGEoKSwKICAgICAgICBkID0gYS5wYXJlbnQoKS5maW5kKCdbcm9sZT0iZXhwYW5kZXIiXScpLAogICAgICAgIGUgPSBhLnBhcmVudCgpLmZpbmQoJ1tyb2xlPSJwcmVzZW50ZXIiXScpLAogICAgICAgIGYgPSBnai5jb3JlLmdldFNjcm9sbFBhcmVudChhWzBdKTsKICAgIGIuY3NzKCJ3aWR0aCIsIGdqLmNvcmUud2lkdGgoZVswXSkpLCBiLnNob3coKSwgZ2ouZHJvcGRvd24ubWV0aG9kcy5zZXRMaXN0UG9zaXRpb24oZVswXSwgYlswXSwgYyksIGQuaHRtbChjLmljb25zLmRyb3B1cCksIGYgJiYgKGMucGFyZW50U2Nyb2xsSGFuZGxlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgZ2ouZHJvcGRvd24ubWV0aG9kcy5zZXRMaXN0UG9zaXRpb24oZVswXSwgYlswXSwgYyk7CiAgICB9LCBnai5kcm9wZG93bi5tZXRob2RzLmFkZFBhcmVudHNTY3JvbGxMaXN0ZW5lcihmLCBjLnBhcmVudFNjcm9sbEhhbmRsZXIpKTsKICB9LAogIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShhLCBiKSB7CiAgICB2YXIgYyA9IGEuZGF0YSgpLAogICAgICAgIGQgPSBhLnBhcmVudCgpLmZpbmQoJ1tyb2xlPSJleHBhbmRlciJdJyksCiAgICAgICAgZSA9IGdqLmNvcmUuZ2V0U2Nyb2xsUGFyZW50KGFbMF0pOwogICAgZC5odG1sKGMuaWNvbnMuZHJvcGRvd24pLCBlICYmIGMucGFyZW50U2Nyb2xsSGFuZGxlciAmJiBnai5kcm9wZG93bi5tZXRob2RzLnJlbW92ZVBhcmVudHNTY3JvbGxMaXN0ZW5lcihlLCBjLnBhcmVudFNjcm9sbEhhbmRsZXIpLCBiLmhpZGUoKTsKICB9LAogIGFkZFBhcmVudHNTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24gYWRkUGFyZW50c1Njcm9sbExpc3RlbmVyKGEsIGIpIHsKICAgIHZhciBjID0gZ2ouY29yZS5nZXRTY3JvbGxQYXJlbnQoYS5wYXJlbnROb2RlKTsKICAgIGEuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgYiksIGMgJiYgZ2ouZHJvcGRvd24ubWV0aG9kcy5hZGRQYXJlbnRzU2Nyb2xsTGlzdGVuZXIoYywgYik7CiAgfSwKICByZW1vdmVQYXJlbnRzU2Nyb2xsTGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZVBhcmVudHNTY3JvbGxMaXN0ZW5lcihhLCBiKSB7CiAgICB2YXIgYyA9IGdqLmNvcmUuZ2V0U2Nyb2xsUGFyZW50KGEucGFyZW50Tm9kZSk7CiAgICBhLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIGIpLCBjICYmIGdqLmRyb3Bkb3duLm1ldGhvZHMucmVtb3ZlUGFyZW50c1Njcm9sbExpc3RlbmVyKGMsIGIpOwogIH0sCiAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoYSwgYikgewogICAgdmFyIGMgPSBhLmRhdGEoKSwKICAgICAgICBkID0gJCgiYm9keSIpLmNoaWxkcmVuKCdbcm9sZT0ibGlzdCJdW2d1aWQ9IicgKyBhLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJyksCiAgICAgICAgZSA9IGQuY2hpbGRyZW4oJ2xpW3ZhbHVlPSInICsgYiArICciXScpLAogICAgICAgIGYgPSBhLm5leHQoJ1tyb2xlPSJwcmVzZW50ZXIiXScpLmZpbmQoJ1tyb2xlPSJkaXNwbGF5Il0nKSwKICAgICAgICBnID0gZ2ouZHJvcGRvd24ubWV0aG9kcy5nZXRSZWNvcmRCeVZhbHVlKGEsIGIpOwogICAgcmV0dXJuIGQuY2hpbGRyZW4oImxpIikucmVtb3ZlQ2xhc3MoYy5zdHlsZS5hY3RpdmUpLCBnID8gKGUuYWRkQ2xhc3MoYy5zdHlsZS5hY3RpdmUpLCBhWzBdLnZhbHVlID0gYiwgZlswXS5pbm5lckhUTUwgPSBnW2MudGV4dEZpZWxkXSkgOiAoYy5wbGFjZWhvbGRlciAmJiAoZlswXS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9InBsYWNlaG9sZGVyIj4nICsgYy5wbGFjZWhvbGRlciArICI8L3NwYW4+IiksIGFbMF0udmFsdWUgPSAiIiksIGdqLmRyb3Bkb3duLmV2ZW50cy5jaGFuZ2UoYSksIGdqLmRyb3Bkb3duLm1ldGhvZHMuY2xvc2UoYSwgZCksIGE7CiAgfSwKICBnZXRSZWNvcmRCeVZhbHVlOiBmdW5jdGlvbiBnZXRSZWNvcmRCeVZhbHVlKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQgPSBhLmRhdGEoKSwKICAgICAgICBlID0gdm9pZCAwOwoKICAgIGZvciAoYyA9IDA7IGMgPCBkLnJlY29yZHMubGVuZ3RoOyBjKyspIHsKICAgICAgaWYgKGQucmVjb3Jkc1tjXVtkLnZhbHVlRmllbGRdID09PSBiKSB7CiAgICAgICAgZSA9IGQucmVjb3Jkc1tjXTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBlOwogIH0sCiAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGEsIGIpIHsKICAgIHJldHVybiB2b2lkIDAgPT09IGIgPyBhLnZhbCgpIDogKGdqLmRyb3Bkb3duLm1ldGhvZHMuc2VsZWN0KGEsIGIpLCBhKTsKICB9LAogIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koYSkgewogICAgdmFyIGIgPSBhLmRhdGEoKSwKICAgICAgICBjID0gYS5wYXJlbnQoJ2Rpdltyb2xlPSJ3cmFwcGVyIl0nKTsKICAgIHJldHVybiBiICYmIChhLnhociAmJiBhLnhoci5hYm9ydCgpLCBhLm9mZigpLCBhLnJlbW92ZURhdGEoKSwgYS5yZW1vdmVBdHRyKCJkYXRhLXR5cGUiKS5yZW1vdmVBdHRyKCJkYXRhLWd1aWQiKS5yZW1vdmVBdHRyKCJkYXRhLWRyb3Bkb3duIiksIGEucmVtb3ZlQ2xhc3MoKSwgYy5sZW5ndGggPiAwICYmIChjLmNoaWxkcmVuKCdbcm9sZT0icHJlc2VudGVyIl0nKS5yZW1vdmUoKSwgYy5jaGlsZHJlbignW3JvbGU9Imxpc3QiXScpLnJlbW92ZSgpLCBhLnVud3JhcCgpKSwgYS5zaG93KCkpLCBhOwogIH0KfSwgZ2ouZHJvcGRvd24uZXZlbnRzID0gewogIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2UiKTsKICB9LAogIGRhdGFCb3VuZDogZnVuY3Rpb24gZGF0YUJvdW5kKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJkYXRhQm91bmQiKTsKICB9Cn0sIGdqLmRyb3Bkb3duLndpZGdldCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSB0aGlzLAogICAgICBkID0gZ2ouZHJvcGRvd24ubWV0aG9kczsKICByZXR1cm4gYy52YWx1ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC52YWx1ZSh0aGlzLCBhKTsKICB9LCBjLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmVuYWJsZSh0aGlzKTsKICB9LCBjLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5kaXNhYmxlKHRoaXMpOwogIH0sIGMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmRlc3Ryb3kodGhpcyk7CiAgfSwgJC5leHRlbmQoYSwgYyksICJ0cnVlIiAhPT0gYS5hdHRyKCJkYXRhLWRyb3Bkb3duIikgJiYgZC5pbml0LmNhbGwoYSwgYiksIGE7Cn0sIGdqLmRyb3Bkb3duLndpZGdldC5wcm90b3R5cGUgPSBuZXcgZ2oud2lkZ2V0KCksIGdqLmRyb3Bkb3duLndpZGdldC5jb25zdHJ1Y3RvciA9IGdqLmRyb3Bkb3duLndpZGdldCwgZ2ouZHJvcGRvd24ud2lkZ2V0LnByb3RvdHlwZS5nZXRIVE1MQ29uZmlnID0gZ2ouZHJvcGRvd24ubWV0aG9kcy5nZXRIVE1MQ29uZmlnLCBmdW5jdGlvbiAoYSkgewogIGEuZm4uZHJvcGRvd24gPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGI7CgogICAgaWYgKHRoaXMgJiYgdGhpcy5sZW5ndGgpIHsKICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoYSkgJiYgYSkgewogICAgICAgIGlmIChiID0gbmV3IGdqLmRyb3Bkb3duLndpZGdldCh0aGlzLCBudWxsKSwgYlthXSkgcmV0dXJuIGJbYV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7CiAgICAgICAgdGhyb3cgIk1ldGhvZCAiICsgYSArICIgZG9lcyBub3QgZXhpc3QuIjsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBnai5kcm9wZG93bi53aWRnZXQodGhpcywgYSk7CiAgICB9CiAgfTsKfShqUXVlcnkpLCBnai5kYXRlcGlja2VyID0gewogIHBsdWdpbnM6IHt9Cn0sIGdqLmRhdGVwaWNrZXIuY29uZmlnID0gewogIGJhc2U6IHsKICAgIHNob3dPdGhlck1vbnRoczogITEsCiAgICBzZWxlY3RPdGhlck1vbnRoczogITAsCiAgICB3aWR0aDogdm9pZCAwLAogICAgbWluRGF0ZTogdm9pZCAwLAogICAgbWF4RGF0ZTogdm9pZCAwLAogICAgZm9ybWF0OiAibW0vZGQveXl5eSIsCiAgICB1aUxpYnJhcnk6ICJtYXRlcmlhbGRlc2lnbiIsCiAgICBpY29uc0xpYnJhcnk6ICJtYXRlcmlhbGljb25zIiwKICAgIHZhbHVlOiB2b2lkIDAsCiAgICB3ZWVrU3RhcnREYXk6IDAsCiAgICBkaXNhYmxlRGF0ZXM6IHZvaWQgMCwKICAgIGRpc2FibGVEYXlzT2ZXZWVrOiB2b2lkIDAsCiAgICBjYWxlbmRhcldlZWtzOiAhMSwKICAgIGtleWJvYXJkTmF2aWdhdGlvbjogITAsCiAgICBsb2NhbGU6ICJlbi11cyIsCiAgICBpY29uczogewogICAgICByaWdodEljb246ICc8aSBjbGFzcz0iZ2otaWNvbiI+ZXZlbnQ8L2k+JywKICAgICAgcHJldmlvdXNNb250aDogJzxpIGNsYXNzPSJnai1pY29uIGNoZXZyb24tbGVmdCI+PC9pPicsCiAgICAgIG5leHRNb250aDogJzxpIGNsYXNzPSJnai1pY29uIGNoZXZyb24tcmlnaHQiPjwvaT4nCiAgICB9LAogICAgZm9udFNpemU6IHZvaWQgMCwKICAgIHNpemU6ICJkZWZhdWx0IiwKICAgIG1vZGFsOiAhMSwKICAgIGhlYWRlcjogITEsCiAgICBmb290ZXI6ICExLAogICAgc2hvd09uRm9jdXM6ICEwLAogICAgc2hvd1JpZ2h0SWNvbjogITAsCiAgICBzdHlsZTogewogICAgICBtb2RhbDogImdqLW1vZGFsIiwKICAgICAgd3JhcHBlcjogImdqLWRhdGVwaWNrZXIgZ2otZGF0ZXBpY2tlci1tZCBnai11bnNlbGVjdGFibGUiLAogICAgICBpbnB1dDogImdqLXRleHRib3gtbWQiLAogICAgICBjYWxlbmRhcjogImdqLXBpY2tlciBnai1waWNrZXItbWQgZGF0ZXBpY2tlciBnai11bnNlbGVjdGFibGUiLAogICAgICBmb290ZXI6ICIiLAogICAgICBidXR0b246ICJnai1idXR0b24tbWQiCiAgICB9CiAgfSwKICBib290c3RyYXA6IHsKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai1kYXRlcGlja2VyIGdqLWRhdGVwaWNrZXItYm9vdHN0cmFwIGdqLXVuc2VsZWN0YWJsZSBpbnB1dC1ncm91cCIsCiAgICAgIGlucHV0OiAiZm9ybS1jb250cm9sIiwKICAgICAgY2FsZW5kYXI6ICJnai1waWNrZXIgZ2otcGlja2VyLWJvb3RzdHJhcCBkYXRlcGlja2VyIGdqLXVuc2VsZWN0YWJsZSIsCiAgICAgIGZvb3RlcjogIm1vZGFsLWZvb3RlciIsCiAgICAgIGJ1dHRvbjogImJ0biBidG4tZGVmYXVsdCIKICAgIH0sCiAgICBpY29uc0xpYnJhcnk6ICJnbHlwaGljb25zIiwKICAgIHNob3dPdGhlck1vbnRoczogITAKICB9LAogIGJvb3RzdHJhcDQ6IHsKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai1kYXRlcGlja2VyIGdqLWRhdGVwaWNrZXItYm9vdHN0cmFwIGdqLXVuc2VsZWN0YWJsZSBpbnB1dC1ncm91cCIsCiAgICAgIGlucHV0OiAiZm9ybS1jb250cm9sIiwKICAgICAgY2FsZW5kYXI6ICJnai1waWNrZXIgZ2otcGlja2VyLWJvb3RzdHJhcCBkYXRlcGlja2VyIGdqLXVuc2VsZWN0YWJsZSIsCiAgICAgIGZvb3RlcjogIm1vZGFsLWZvb3RlciIsCiAgICAgIGJ1dHRvbjogImJ0biBidG4tZGVmYXVsdCIKICAgIH0sCiAgICBzaG93T3RoZXJNb250aHM6ICEwCiAgfSwKICBmb250YXdlc29tZTogewogICAgaWNvbnM6IHsKICAgICAgcmlnaHRJY29uOiAnPGkgY2xhc3M9ImZhIGZhLWNhbGVuZGFyIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIHByZXZpb3VzTW9udGg6ICc8aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1sZWZ0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicsCiAgICAgIG5leHRNb250aDogJzxpIGNsYXNzPSJmYSBmYS1jaGV2cm9uLXJpZ2h0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPicKICAgIH0KICB9LAogIGdseXBoaWNvbnM6IHsKICAgIGljb25zOiB7CiAgICAgIHJpZ2h0SWNvbjogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNhbGVuZGFyIj48L3NwYW4+JywKICAgICAgcHJldmlvdXNNb250aDogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9zcGFuPicsCiAgICAgIG5leHRNb250aDogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvc3Bhbj4nCiAgICB9CiAgfQp9LCBnai5kYXRlcGlja2VyLm1ldGhvZHMgPSB7CiAgaW5pdDogZnVuY3Rpb24gaW5pdChhKSB7CiAgICByZXR1cm4gZ2oud2lkZ2V0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcywgYSwgImRhdGVwaWNrZXIiKSwgdGhpcy5hdHRyKCJkYXRhLWRhdGVwaWNrZXIiLCAidHJ1ZSIpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuaW5pdGlhbGl6ZSh0aGlzLCB0aGlzLmRhdGEoKSksIHRoaXM7CiAgfSwKICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQsCiAgICAgICAgZSA9IGEucGFyZW50KCdkaXZbcm9sZT0id3JhcHBlciJdJyk7CiAgICAwID09PSBlLmxlbmd0aCA/IChlID0gJCgnPGRpdiByb2xlPSJ3cmFwcGVyIiAvPicpLmFkZENsYXNzKGIuc3R5bGUud3JhcHBlciksIGEud3JhcChlKSkgOiBlLmFkZENsYXNzKGIuc3R5bGUud3JhcHBlciksIGUgPSBhLnBhcmVudCgnZGl2W3JvbGU9IndyYXBwZXIiXScpLCBiLndpZHRoICYmIGUuY3NzKCJ3aWR0aCIsIGIud2lkdGgpLCBhLnZhbChiLnZhbHVlKS5hZGRDbGFzcyhiLnN0eWxlLmlucHV0KS5hdHRyKCJyb2xlIiwgImlucHV0IiksIGIuZm9udFNpemUgJiYgYS5jc3MoImZvbnQtc2l6ZSIsIGIuZm9udFNpemUpLCAiYm9vdHN0cmFwIiA9PT0gYi51aUxpYnJhcnkgfHwgImJvb3RzdHJhcDQiID09PSBiLnVpTGlicmFyeSA/ICJzbWFsbCIgPT09IGIuc2l6ZSA/IChlLmFkZENsYXNzKCJpbnB1dC1ncm91cC1zbSIpLCBhLmFkZENsYXNzKCJmb3JtLWNvbnRyb2wtc20iKSkgOiAibGFyZ2UiID09PSBiLnNpemUgJiYgKGUuYWRkQ2xhc3MoImlucHV0LWdyb3VwLWxnIiksIGEuYWRkQ2xhc3MoImZvcm0tY29udHJvbC1sZyIpKSA6ICJzbWFsbCIgPT09IGIuc2l6ZSA/IGUuYWRkQ2xhc3MoInNtYWxsIikgOiAibGFyZ2UiID09PSBiLnNpemUgJiYgZS5hZGRDbGFzcygibGFyZ2UiKSwgYi5zaG93UmlnaHRJY29uICYmIChkID0gImJvb3RzdHJhcCIgPT09IGIudWlMaWJyYXJ5ID8gJCgnPHNwYW4gY2xhc3M9ImlucHV0LWdyb3VwLWFkZG9uIj4nICsgYi5pY29ucy5yaWdodEljb24gKyAiPC9zcGFuPiIpIDogImJvb3RzdHJhcDQiID09PSBiLnVpTGlicmFyeSA/ICQoJzxzcGFuIGNsYXNzPSJpbnB1dC1ncm91cC1hcHBlbmQiPjxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYm9yZGVyLWxlZnQtMCIgdHlwZT0iYnV0dG9uIj4nICsgYi5pY29ucy5yaWdodEljb24gKyAiPC9idXR0b24+PC9zcGFuPiIpIDogJChiLmljb25zLnJpZ2h0SWNvbiksIGQuYXR0cigicm9sZSIsICJyaWdodC1pY29uIiksIGQub24oImNsaWNrIiwgZnVuY3Rpb24gKGMpIHsKICAgICAgJCgiYm9keSIpLmZpbmQoJ1tyb2xlPSJjYWxlbmRhciJdW2d1aWQ9IicgKyBhLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJykuaXMoIjp2aXNpYmxlIikgPyBnai5kYXRlcGlja2VyLm1ldGhvZHMuY2xvc2UoYSkgOiBnai5kYXRlcGlja2VyLm1ldGhvZHMub3BlbihhLCBiKTsKICAgIH0pLCBlLmFwcGVuZChkKSksIGIuc2hvd09uRm9jdXMgJiYgYS5vbigiZm9jdXMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5vcGVuKGEsIGIpOwogICAgfSksIGMgPSBnai5kYXRlcGlja2VyLm1ldGhvZHMuY3JlYXRlQ2FsZW5kYXIoYSwgYiksICEwICE9PSBiLmZvb3RlciAmJiAoYS5vbigiYmx1ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgYS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmNsb3NlKGEpOwogICAgICB9LCA1MDApOwogICAgfSksIGMubW91c2Vkb3duKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChhLnRpbWVvdXQpLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBhWzBdICYmIGEuZm9jdXMoKSwgITE7CiAgICB9KSwgYy5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFyVGltZW91dChhLnRpbWVvdXQpLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBhWzBdICYmIGEuZm9jdXMoKTsKICAgIH0pKSwgYi5rZXlib2FyZE5hdmlnYXRpb24gJiYgJChkb2N1bWVudCkub24oImtleWRvd24iLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuY3JlYXRlS2V5RG93bkhhbmRsZXIoYSwgYywgYikpOwogIH0sCiAgY3JlYXRlQ2FsZW5kYXI6IGZ1bmN0aW9uIGNyZWF0ZUNhbGVuZGFyKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQsCiAgICAgICAgZSwKICAgICAgICBmLAogICAgICAgIGcsCiAgICAgICAgaCA9ICQoJzxkaXYgcm9sZT0iY2FsZW5kYXIiIHR5cGU9Im1vbnRoIi8+JykuYWRkQ2xhc3MoYi5zdHlsZS5jYWxlbmRhcikuYXR0cigiZ3VpZCIsIGEuYXR0cigiZGF0YS1ndWlkIikpOwogICAgcmV0dXJuIGIuZm9udFNpemUgJiYgaC5jc3MoImZvbnQtc2l6ZSIsIGIuZm9udFNpemUpLCBjID0gZ2ouY29yZS5wYXJzZURhdGUoYi52YWx1ZSwgYi5mb3JtYXQsIGIubG9jYWxlKSwgIWMgfHwgaXNOYU4oYy5nZXRUaW1lKCkpID8gYyA9IG5ldyBEYXRlKCkgOiBhLmF0dHIoImRheSIsIGMuZ2V0RnVsbFllYXIoKSArICItIiArIGMuZ2V0TW9udGgoKSArICItIiArIGMuZ2V0RGF0ZSgpKSwgaC5hdHRyKCJtb250aCIsIGMuZ2V0TW9udGgoKSksIGguYXR0cigieWVhciIsIGMuZ2V0RnVsbFllYXIoKSksIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJIZWFkZXIoYSwgaCwgYiwgYyksIGQgPSAkKCc8ZGl2IHJvbGU9ImJvZHkiIC8+JyksIGguYXBwZW5kKGQpLCBiLmZvb3RlciAmJiAoZSA9ICQoJzxkaXYgcm9sZT0iZm9vdGVyIiBjbGFzcz0iJyArIGIuc3R5bGUuZm9vdGVyICsgJyIgLz4nKSwgZiA9ICQoJzxidXR0b24gY2xhc3M9IicgKyBiLnN0eWxlLmJ1dHRvbiArICciPicgKyBnai5jb3JlLm1lc3NhZ2VzW2IubG9jYWxlXS5jYW5jZWwgKyAiPC9idXR0b24+IiksIGYub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBhLmNsb3NlKCk7CiAgICB9KSwgZS5hcHBlbmQoZiksIGcgPSAkKCc8YnV0dG9uIGNsYXNzPSInICsgYi5zdHlsZS5idXR0b24gKyAnIj4nICsgZ2ouY29yZS5tZXNzYWdlc1tiLmxvY2FsZV0ub2sgKyAiPC9idXR0b24+IiksIGcub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYywKICAgICAgICAgIGQsCiAgICAgICAgICBlID0gaC5hdHRyKCJzZWxlY3RlZERheSIpOwogICAgICBlID8gKGQgPSBlLnNwbGl0KCItIiksIGMgPSBuZXcgRGF0ZShkWzBdLCBkWzFdLCBkWzJdLCBoLmF0dHIoImhvdXIiKSB8fCAwLCBoLmF0dHIoIm1pbnV0ZSIpIHx8IDApLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuY2hhbmdlKGEsIGgsIGIsIGMpKSA6IGEuY2xvc2UoKTsKICAgIH0pLCBlLmFwcGVuZChnKSwgaC5hcHBlbmQoZSkpLCBoLmhpZGUoKSwgJCgiYm9keSIpLmFwcGVuZChoKSwgYi5tb2RhbCAmJiAoaC53cmFwQWxsKCc8ZGl2IHJvbGU9Im1vZGFsIiBjbGFzcz0iJyArIGIuc3R5bGUubW9kYWwgKyAnIi8+JyksIGdqLmNvcmUuY2VudGVyKGgpKSwgaDsKICB9LAogIHJlbmRlckhlYWRlcjogZnVuY3Rpb24gcmVuZGVySGVhZGVyKGEsIGIsIGMsIGQpIHsKICAgIHZhciBlLCBmLCBnOwogICAgYy5oZWFkZXIgJiYgKGUgPSAkKCc8ZGl2IHJvbGU9ImhlYWRlciIgLz4nKSwgZyA9ICQoJzxkaXYgcm9sZT0ieWVhciIgLz4nKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJEZWNhZGUoYSwgYiwgYyksIGcuYWRkQ2xhc3MoInNlbGVjdGVkIiksIGYucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIik7CiAgICB9KSwgZy5odG1sKGdqLmNvcmUuZm9ybWF0RGF0ZShkLCAieXl5eSIsIGMubG9jYWxlKSksIGUuYXBwZW5kKGcpLCBmID0gJCgnPGRpdiByb2xlPSJkYXRlIiBjbGFzcz0ic2VsZWN0ZWQiIC8+Jykub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBnai5kYXRlcGlja2VyLm1ldGhvZHMucmVuZGVyTW9udGgoYSwgYiwgYyksIGYuYWRkQ2xhc3MoInNlbGVjdGVkIiksIGcucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIik7CiAgICB9KSwgZi5odG1sKGdqLmNvcmUuZm9ybWF0RGF0ZShkLCAiZGRkLCBtbW0gZGQiLCBjLmxvY2FsZSkpLCBlLmFwcGVuZChmKSwgYi5hcHBlbmQoZSkpOwogIH0sCiAgdXBkYXRlSGVhZGVyOiBmdW5jdGlvbiB1cGRhdGVIZWFkZXIoYSwgYiwgYykgewogICAgYS5maW5kKCdbcm9sZT0iaGVhZGVyIl0gW3JvbGU9InllYXIiXScpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLmh0bWwoZ2ouY29yZS5mb3JtYXREYXRlKGMsICJ5eXl5IiwgYi5sb2NhbGUpKSwgYS5maW5kKCdbcm9sZT0iaGVhZGVyIl0gW3JvbGU9ImRhdGUiXScpLmFkZENsYXNzKCJzZWxlY3RlZCIpLmh0bWwoZ2ouY29yZS5mb3JtYXREYXRlKGMsICJkZGQsIG1tbSBkZCIsIGIubG9jYWxlKSksIGEuZmluZCgnW3JvbGU9ImhlYWRlciJdIFtyb2xlPSJob3VyIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKS5odG1sKGdqLmNvcmUuZm9ybWF0RGF0ZShjLCAiSEgiLCBiLmxvY2FsZSkpLCBhLmZpbmQoJ1tyb2xlPSJoZWFkZXIiXSBbcm9sZT0ibWludXRlIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKS5odG1sKGdqLmNvcmUuZm9ybWF0RGF0ZShjLCAiTU0iLCBiLmxvY2FsZSkpOwogIH0sCiAgY3JlYXRlTmF2aWdhdGlvbjogZnVuY3Rpb24gY3JlYXRlTmF2aWdhdGlvbihhLCBiLCBjLCBkKSB7CiAgICB2YXIgZSwKICAgICAgICBmLAogICAgICAgIGcgPSAkKCI8dGhlYWQvPiIpOwoKICAgIGZvciAoZiA9ICQoJzxkaXYgcm9sZT0ibmF2aWdhdG9yIiAvPicpLCBmLmFwcGVuZCgkKCI8ZGl2PiIgKyBkLmljb25zLnByZXZpb3VzTW9udGggKyAiPC9kaXY+Iikub24oImNsaWNrIiwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnByZXYoYSwgZCkpKSwgZi5hcHBlbmQoJCgnPGRpdiByb2xlPSJwZXJpb2QiPjwvZGl2PicpLm9uKCJjbGljayIsIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5jaGFuZ2VQZXJpb2QoYSwgZCkpKSwgZi5hcHBlbmQoJCgiPGRpdj4iICsgZC5pY29ucy5uZXh0TW9udGggKyAiPC9kaXY+Iikub24oImNsaWNrIiwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLm5leHQoYSwgZCkpKSwgYi5hcHBlbmQoZiksIGUgPSAkKCc8dHIgcm9sZT0id2Vlay1kYXlzIiAvPicpLCBkLmNhbGVuZGFyV2Vla3MgJiYgZS5hcHBlbmQoIjx0aD48ZGl2PiZuYnNwOzwvZGl2PjwvdGg+IiksIGkgPSBkLndlZWtTdGFydERheTsgaSA8IGdqLmNvcmUubWVzc2FnZXNbZC5sb2NhbGVdLndlZWtEYXlzTWluLmxlbmd0aDsgaSsrKSB7CiAgICAgIGUuYXBwZW5kKCI8dGg+PGRpdj4iICsgZ2ouY29yZS5tZXNzYWdlc1tkLmxvY2FsZV0ud2Vla0RheXNNaW5baV0gKyAiPC9kaXY+PC90aD4iKTsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgZC53ZWVrU3RhcnREYXk7IGkrKykgewogICAgICBlLmFwcGVuZCgiPHRoPjxkaXY+IiArIGdqLmNvcmUubWVzc2FnZXNbZC5sb2NhbGVdLndlZWtEYXlzTWluW2ldICsgIjwvZGl2PjwvdGg+Iik7CiAgICB9CgogICAgZy5hcHBlbmQoZSksIGMuYXBwZW5kKGcpOwogIH0sCiAgcmVuZGVyTW9udGg6IGZ1bmN0aW9uIHJlbmRlck1vbnRoKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiwKICAgICAgICBnLAogICAgICAgIGgsCiAgICAgICAgaSwKICAgICAgICBqLAogICAgICAgIGssCiAgICAgICAgbCwKICAgICAgICBtLAogICAgICAgIG4sCiAgICAgICAgbywKICAgICAgICBwLAogICAgICAgIHEsCiAgICAgICAgciwKICAgICAgICBzID0gYi5jaGlsZHJlbignW3JvbGU9ImJvZHkiXScpLAogICAgICAgIHQgPSAkKCI8dGFibGUvPiIpLAogICAgICAgIHUgPSAkKCI8dGJvZHkvPiIpLAogICAgICAgIHYgPSBnai5jb3JlLm1lc3NhZ2VzW2MubG9jYWxlXS50aXRsZUZvcm1hdDsKCiAgICBmb3IgKHMub2ZmKCkuZW1wdHkoKSwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmNyZWF0ZU5hdmlnYXRpb24oYSwgcywgdCwgYyksIGcgPSBwYXJzZUludChiLmF0dHIoIm1vbnRoIiksIDEwKSwgaCA9IHBhcnNlSW50KGIuYXR0cigieWVhciIpLCAxMCksIGIuYXR0cigidHlwZSIsICJtb250aCIpLCB2ID0gdi5yZXBsYWNlKCJtbW1tIiwgZ2ouY29yZS5tZXNzYWdlc1tjLmxvY2FsZV0ubW9udGhOYW1lc1tnXSkucmVwbGFjZSgieXl5eSIsIGgpLCBiLmZpbmQoJ2Rpdltyb2xlPSJwZXJpb2QiXScpLnRleHQodiksIGkgPSBuZXcgQXJyYXkoMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMSksIGggJSA0ID09IDAgJiYgMTkwMCAhPSBoICYmIChpWzFdID0gMjkpLCBqID0gaVtnXSwgayA9IChuZXcgRGF0ZShoLCBnLCAxKS5nZXREYXkoKSArIDcgLSBjLndlZWtTdGFydERheSkgJSA3LCBkID0gMCwgJHJvdyA9ICQoIjx0ciAvPiIpLCBuID0gZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmdldFByZXZNb250aChnLCBoKSwgbCA9IDE7IGwgPD0gazsgbCsrKSB7CiAgICAgIGYgPSBpW24ubW9udGhdIC0gayArIGwsIHIgPSBuZXcgRGF0ZShuLnllYXIsIG4ubW9udGgsIGYpLCBjLmNhbGVuZGFyV2Vla3MgJiYgMSA9PT0gbCAmJiAkcm93LmFwcGVuZCgnPHRkIGNsYXNzPSJjYWxlbmRhci13ZWVrIj48ZGl2PicgKyBnai5kYXRlcGlja2VyLm1ldGhvZHMuZ2V0V2Vla051bWJlcihyKSArICI8L2Rpdj48L3RkPiIpLCBwID0gJCgnPHRkIGNsYXNzPSJvdGhlci1tb250aCIgLz4nKSwgYy5zaG93T3RoZXJNb250aHMgJiYgKHEgPSAkKCI8ZGl2PiIgKyBmICsgIjwvZGl2PiIpLCBwLmFwcGVuZChxKSwgYy5zZWxlY3RPdGhlck1vbnRocyAmJiBnai5kYXRlcGlja2VyLm1ldGhvZHMuaXNTZWxlY3RhYmxlKGMsIHIpID8gKHAuYWRkQ2xhc3MoImdqLWN1cnNvci1wb2ludGVyIikuYXR0cigiZGF5IiwgZikuYXR0cigibW9udGgiLCBuLm1vbnRoKS5hdHRyKCJ5ZWFyIiwgbi55ZWFyKSwgcS5vbigiY2xpY2siLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuZGF5Q2xpY2tIYW5kbGVyKGEsIGIsIGMsIHIpKSwgcS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24gKGEpIHsKICAgICAgICBhLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9KSkgOiBwLmFkZENsYXNzKCJkaXNhYmxlZCIpKSwgJHJvdy5hcHBlbmQocCksIGQrKzsKICAgIH0KCiAgICBmb3IgKGwgPiAxICYmIHUuYXBwZW5kKCRyb3cpLCBtID0gbmV3IERhdGUoKSwgbCA9IDE7IGwgPD0gajsgbCsrKSB7CiAgICAgIHIgPSBuZXcgRGF0ZShoLCBnLCBsKSwgMCA9PSBkICYmICgkcm93ID0gJCgiPHRyPiIpLCBjLmNhbGVuZGFyV2Vla3MgJiYgJHJvdy5hcHBlbmQoJzx0ZCBjbGFzcz0iY2FsZW5kYXItd2VlayI+PGRpdj4nICsgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmdldFdlZWtOdW1iZXIocikgKyAiPC9kaXY+PC90ZD4iKSksIHAgPSAkKCc8dGQgZGF5PSInICsgbCArICciIG1vbnRoPSInICsgZyArICciIHllYXI9IicgKyBoICsgJyIgLz4nKSwgaCA9PT0gbS5nZXRGdWxsWWVhcigpICYmIGcgPT09IG0uZ2V0TW9udGgoKSAmJiBsID09PSBtLmdldERhdGUoKSA/IHAuYWRkQ2xhc3MoInRvZGF5IikgOiBwLmFkZENsYXNzKCJjdXJyZW50LW1vbnRoIiksIHEgPSAkKCI8ZGl2PiIgKyBsICsgIjwvZGl2PiIpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuaXNTZWxlY3RhYmxlKGMsIHIpID8gKHAuYWRkQ2xhc3MoImdqLWN1cnNvci1wb2ludGVyIiksIHEub24oImNsaWNrIiwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmRheUNsaWNrSGFuZGxlcihhLCBiLCBjLCByKSksIHEub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgYS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfSkpIDogcC5hZGRDbGFzcygiZGlzYWJsZWQiKSwgcC5hcHBlbmQocSksICRyb3cuYXBwZW5kKHApLCA3ID09ICsrZCAmJiAodS5hcHBlbmQoJHJvdyksIGQgPSAwKTsKICAgIH0KCiAgICBmb3IgKG8gPSBnai5kYXRlcGlja2VyLm1ldGhvZHMuZ2V0TmV4dE1vbnRoKGcsIGgpLCBsID0gMTsgMCAhPSBkOyBsKyspIHsKICAgICAgciA9IG5ldyBEYXRlKG8ueWVhciwgby5tb250aCwgbCksIHAgPSAkKCc8dGQgY2xhc3M9Im90aGVyLW1vbnRoIiAvPicpLCBjLnNob3dPdGhlck1vbnRocyAmJiAocSA9ICQoIjxkaXY+IiArIGwgKyAiPC9kaXY+IiksIGMuc2VsZWN0T3RoZXJNb250aHMgJiYgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmlzU2VsZWN0YWJsZShjLCByKSA/IChwLmFkZENsYXNzKCJnai1jdXJzb3ItcG9pbnRlciIpLmF0dHIoImRheSIsIGwpLmF0dHIoIm1vbnRoIiwgby5tb250aCkuYXR0cigieWVhciIsIG8ueWVhciksIHEub24oImNsaWNrIiwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmRheUNsaWNrSGFuZGxlcihhLCBiLCBjLCByKSksIHEub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgYS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfSkpIDogcC5hZGRDbGFzcygiZGlzYWJsZWQiKSwgcC5hcHBlbmQocSkpLCAkcm93LmFwcGVuZChwKSwgNyA9PSArK2QgJiYgKHUuYXBwZW5kKCRyb3cpLCBkID0gMCk7CiAgICB9CgogICAgdC5hcHBlbmQodSksIHMuYXBwZW5kKHQpLCBiLmF0dHIoInNlbGVjdGVkRGF5IikgJiYgKGUgPSBiLmF0dHIoInNlbGVjdGVkRGF5Iikuc3BsaXQoIi0iKSwgciA9IG5ldyBEYXRlKGVbMF0sIGVbMV0sIGVbMl0sIGIuYXR0cigiaG91ciIpIHx8IDAsIGIuYXR0cigibWludXRlIikgfHwgMCksIGIuZmluZCgndGJvZHkgdGRbZGF5PSInICsgZVsyXSArICciXVttb250aD0iJyArIGVbMV0gKyAnIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnVwZGF0ZUhlYWRlcihiLCBjLCByKSk7CiAgfSwKICByZW5kZXJZZWFyOiBmdW5jdGlvbiByZW5kZXJZZWFyKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiwKICAgICAgICBnLAogICAgICAgIGggPSBiLmZpbmQoJz5bcm9sZT0iYm9keSJdPnRhYmxlJyksCiAgICAgICAgaSA9IGguY2hpbGRyZW4oInRib2R5Iik7CgogICAgZm9yIChoLmNoaWxkcmVuKCJ0aGVhZCIpLmhpZGUoKSwgZCA9IHBhcnNlSW50KGIuYXR0cigieWVhciIpLCAxMCksIGIuYXR0cigidHlwZSIsICJ5ZWFyIiksIGIuZmluZCgnZGl2W3JvbGU9InBlcmlvZCJdJykudGV4dChkKSwgaS5lbXB0eSgpLCBlID0gMDsgZSA8IDM7IGUrKykgewogICAgICBmb3IgKCRyb3cgPSAkKCI8dHIgLz4iKSwgZiA9IDQgKiBlOyBmIDw9IDQgKiBlICsgMzsgZisrKSB7CiAgICAgICAgZyA9ICQoIjxkaXY+IiArIGdqLmNvcmUubWVzc2FnZXNbYy5sb2NhbGVdLm1vbnRoU2hvcnROYW1lc1tmXSArICI8L2Rpdj4iKSwgZy5vbigiY2xpY2siLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuc2VsZWN0TW9udGgoYSwgYiwgYywgZikpLCAkY2VsbCA9ICQoIjx0ZD48L3RkPiIpLmFwcGVuZChnKSwgJHJvdy5hcHBlbmQoJGNlbGwpOwogICAgICB9CgogICAgICBpLmFwcGVuZCgkcm93KTsKICAgIH0KICB9LAogIHJlbmRlckRlY2FkZTogZnVuY3Rpb24gcmVuZGVyRGVjYWRlKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiwKICAgICAgICBnLAogICAgICAgIGgsCiAgICAgICAgaSA9IGIuZmluZCgnPltyb2xlPSJib2R5Il0+dGFibGUnKSwKICAgICAgICBqID0gaS5jaGlsZHJlbigidGJvZHkiKTsKCiAgICBmb3IgKGkuY2hpbGRyZW4oInRoZWFkIikuaGlkZSgpLCBkID0gcGFyc2VJbnQoYi5hdHRyKCJ5ZWFyIiksIDEwKSwgZSA9IGQgLSBkICUgMTAsIGIuYXR0cigidHlwZSIsICJkZWNhZGUiKSwgYi5maW5kKCdkaXZbcm9sZT0icGVyaW9kIl0nKS50ZXh0KGUgKyAiIC0gIiArIChlICsgOSkpLCBqLmVtcHR5KCksIGYgPSBlIC0gMTsgZiA8PSBlICsgMTA7IGYgKz0gNCkgewogICAgICBmb3IgKCRyb3cgPSAkKCI8dHIgLz4iKSwgZyA9IGY7IGcgPD0gZiArIDM7IGcrKykgewogICAgICAgIGggPSAkKCI8ZGl2PiIgKyBnICsgIjwvZGl2PiIpLCBoLm9uKCJjbGljayIsIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5zZWxlY3RZZWFyKGEsIGIsIGMsIGcpKSwgJGNlbGwgPSAkKCI8dGQ+PC90ZD4iKS5hcHBlbmQoaCksICRyb3cuYXBwZW5kKCRjZWxsKTsKICAgICAgfQoKICAgICAgai5hcHBlbmQoJHJvdyk7CiAgICB9CiAgfSwKICByZW5kZXJDZW50dXJ5OiBmdW5jdGlvbiByZW5kZXJDZW50dXJ5KGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUsCiAgICAgICAgZiwKICAgICAgICBnLAogICAgICAgIGgsCiAgICAgICAgaSA9IGIuZmluZCgnPltyb2xlPSJib2R5Il0+dGFibGUnKSwKICAgICAgICBqID0gaS5jaGlsZHJlbigidGJvZHkiKTsKCiAgICBmb3IgKGkuY2hpbGRyZW4oInRoZWFkIikuaGlkZSgpLCBkID0gcGFyc2VJbnQoYi5hdHRyKCJ5ZWFyIiksIDEwKSwgZSA9IGQgLSBkICUgMTAwLCBiLmF0dHIoInR5cGUiLCAiY2VudHVyeSIpLCBiLmZpbmQoJ2Rpdltyb2xlPSJwZXJpb2QiXScpLnRleHQoZSArICIgLSAiICsgKGUgKyA5OSkpLCBqLmVtcHR5KCksIGYgPSBlIC0gMTA7IGYgPCBlICsgMTAwOyBmICs9IDQwKSB7CiAgICAgIGZvciAoJHJvdyA9ICQoIjx0ciAvPiIpLCBnID0gZjsgZyA8PSBmICsgMzA7IGcgKz0gMTApIHsKICAgICAgICBoID0gJCgiPGRpdj4iICsgZyArICI8L2Rpdj4iKSwgaC5vbigiY2xpY2siLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuc2VsZWN0RGVjYWRlKGEsIGIsIGMsIGcpKSwgJGNlbGwgPSAkKCI8dGQ+PC90ZD4iKS5hcHBlbmQoaCksICRyb3cuYXBwZW5kKCRjZWxsKTsKICAgICAgfQoKICAgICAgai5hcHBlbmQoJHJvdyk7CiAgICB9CiAgfSwKICBnZXRXZWVrTnVtYmVyOiBmdW5jdGlvbiBnZXRXZWVrTnVtYmVyKGEpIHsKICAgIHZhciBiID0gbmV3IERhdGUoYS52YWx1ZU9mKCkpOwogICAgYi5zZXREYXRlKGIuZ2V0RGF0ZSgpICsgNiksIGIgPSBuZXcgRGF0ZShEYXRlLlVUQyhiLmdldEZ1bGxZZWFyKCksIGIuZ2V0TW9udGgoKSwgYi5nZXREYXRlKCkpKSwgYi5zZXRVVENEYXRlKGIuZ2V0VVRDRGF0ZSgpICsgNCAtIChiLmdldFVUQ0RheSgpIHx8IDcpKTsKICAgIHZhciBjID0gbmV3IERhdGUoRGF0ZS5VVEMoYi5nZXRVVENGdWxsWWVhcigpLCAwLCAxKSk7CiAgICByZXR1cm4gTWF0aC5jZWlsKCgoYiAtIGMpIC8gODY0ZTUgKyAxKSAvIDcpOwogIH0sCiAgZ2V0TWluRGF0ZTogZnVuY3Rpb24gZ2V0TWluRGF0ZShhKSB7CiAgICB2YXIgYjsKICAgIHJldHVybiBhLm1pbkRhdGUgJiYgKCJzdHJpbmciID09IHR5cGVvZiBhLm1pbkRhdGUgPyBiID0gZ2ouY29yZS5wYXJzZURhdGUoYS5taW5EYXRlLCBhLmZvcm1hdCwgYS5sb2NhbGUpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgYS5taW5EYXRlID8gInN0cmluZyIgPT0gdHlwZW9mIChiID0gYS5taW5EYXRlKCkpICYmIChiID0gZ2ouY29yZS5wYXJzZURhdGUoYiwgYS5mb3JtYXQsIGEubG9jYWxlKSkgOiAiZnVuY3Rpb24iID09IHR5cGVvZiBhLm1pbkRhdGUuZ2V0TW9udGggJiYgKGIgPSBhLm1pbkRhdGUpKSwgYjsKICB9LAogIGdldE1heERhdGU6IGZ1bmN0aW9uIGdldE1heERhdGUoYSkgewogICAgdmFyIGI7CiAgICByZXR1cm4gYS5tYXhEYXRlICYmICgic3RyaW5nIiA9PSB0eXBlb2YgYS5tYXhEYXRlID8gYiA9IGdqLmNvcmUucGFyc2VEYXRlKGEubWF4RGF0ZSwgYS5mb3JtYXQsIGEubG9jYWxlKSA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGEubWF4RGF0ZSA/ICJzdHJpbmciID09IHR5cGVvZiAoYiA9IGEubWF4RGF0ZSgpKSAmJiAoYiA9IGdqLmNvcmUucGFyc2VEYXRlKGIsIGEuZm9ybWF0LCBhLmxvY2FsZSkpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgYS5tYXhEYXRlLmdldE1vbnRoICYmIChiID0gYS5tYXhEYXRlKSksIGI7CiAgfSwKICBpc1NlbGVjdGFibGU6IGZ1bmN0aW9uIGlzU2VsZWN0YWJsZShhLCBiKSB7CiAgICB2YXIgYywKICAgICAgICBkID0gITAsCiAgICAgICAgZSA9IGdqLmRhdGVwaWNrZXIubWV0aG9kcy5nZXRNaW5EYXRlKGEpLAogICAgICAgIGYgPSBnai5kYXRlcGlja2VyLm1ldGhvZHMuZ2V0TWF4RGF0ZShhKTsKCiAgICBpZiAoZSAmJiBiIDwgZSA/IGQgPSAhMSA6IGYgJiYgYiA+IGYgJiYgKGQgPSAhMSksIGQpIHsKICAgICAgaWYgKGEuZGlzYWJsZURhdGVzKSBpZiAoJC5pc0FycmF5KGEuZGlzYWJsZURhdGVzKSkgZm9yIChjID0gMDsgYyA8IGEuZGlzYWJsZURhdGVzLmxlbmd0aDsgYysrKSB7CiAgICAgICAgYS5kaXNhYmxlRGF0ZXNbY10gaW5zdGFuY2VvZiBEYXRlICYmIGEuZGlzYWJsZURhdGVzW2NdLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgPyBkID0gITEgOiAic3RyaW5nIiA9PSB0eXBlb2YgYS5kaXNhYmxlRGF0ZXNbY10gJiYgZ2ouY29yZS5wYXJzZURhdGUoYS5kaXNhYmxlRGF0ZXNbY10sIGEuZm9ybWF0LCBhLmxvY2FsZSkuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKSAmJiAoZCA9ICExKTsKICAgICAgfSBlbHNlIGEuZGlzYWJsZURhdGVzIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgKGQgPSBhLmRpc2FibGVEYXRlcyhiKSk7CiAgICAgICQuaXNBcnJheShhLmRpc2FibGVEYXlzT2ZXZWVrKSAmJiBhLmRpc2FibGVEYXlzT2ZXZWVrLmluZGV4T2YoYi5nZXREYXkoKSkgPiAtMSAmJiAoZCA9ICExKTsKICAgIH0KCiAgICByZXR1cm4gZDsKICB9LAogIGdldFByZXZNb250aDogZnVuY3Rpb24gZ2V0UHJldk1vbnRoKGEsIGIpIHsKICAgIHJldHVybiBkYXRlID0gbmV3IERhdGUoYiwgYSwgMSksIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpIC0gMSksIHsKICAgICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSwKICAgICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpCiAgICB9OwogIH0sCiAgZ2V0TmV4dE1vbnRoOiBmdW5jdGlvbiBnZXROZXh0TW9udGgoYSwgYikgewogICAgcmV0dXJuIGRhdGUgPSBuZXcgRGF0ZShiLCBhLCAxKSwgZGF0ZS5zZXRNb250aChkYXRlLmdldE1vbnRoKCkgKyAxKSwgewogICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpLAogICAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKCkKICAgIH07CiAgfSwKICBwcmV2OiBmdW5jdGlvbiBwcmV2KGEsIGIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjLAogICAgICAgICAgZCwKICAgICAgICAgIGUsCiAgICAgICAgICBmLAogICAgICAgICAgZywKICAgICAgICAgIGggPSAkKCJib2R5IikuZmluZCgnW3JvbGU9ImNhbGVuZGFyIl1bZ3VpZD0iJyArIGEuYXR0cigiZGF0YS1ndWlkIikgKyAnIl0nKTsKCiAgICAgIHN3aXRjaCAoZSA9IHBhcnNlSW50KGguYXR0cigieWVhciIpLCAxMCksIGguYXR0cigidHlwZSIpKSB7CiAgICAgICAgY2FzZSAibW9udGgiOgogICAgICAgICAgZCA9IHBhcnNlSW50KGguYXR0cigibW9udGgiKSwgMTApLCBjID0gZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmdldFByZXZNb250aChkLCBlKSwgaC5hdHRyKCJtb250aCIsIGMubW9udGgpLCBoLmF0dHIoInllYXIiLCBjLnllYXIpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMucmVuZGVyTW9udGgoYSwgaCwgYik7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAieWVhciI6CiAgICAgICAgICBoLmF0dHIoInllYXIiLCBlIC0gMSksIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJZZWFyKGEsIGgsIGIpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImRlY2FkZSI6CiAgICAgICAgICBmID0gZSAtIGUgJSAxMCwgaC5hdHRyKCJ5ZWFyIiwgZiAtIDEwKSwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnJlbmRlckRlY2FkZShhLCBoLCBiKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJjZW50dXJ5IjoKICAgICAgICAgIGcgPSBlIC0gZSAlIDEwMCwgaC5hdHRyKCJ5ZWFyIiwgZyAtIDEwMCksIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJDZW50dXJ5KGEsIGgsIGIpOwogICAgICB9CiAgICB9OwogIH0sCiAgbmV4dDogZnVuY3Rpb24gbmV4dChhLCBiKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgYywKICAgICAgICAgIGQsCiAgICAgICAgICBlLAogICAgICAgICAgZiwKICAgICAgICAgIGcsCiAgICAgICAgICBoID0gJCgiYm9keSIpLmZpbmQoJ1tyb2xlPSJjYWxlbmRhciJdW2d1aWQ9IicgKyBhLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJyk7CgogICAgICBzd2l0Y2ggKGUgPSBwYXJzZUludChoLmF0dHIoInllYXIiKSwgMTApLCBoLmF0dHIoInR5cGUiKSkgewogICAgICAgIGNhc2UgIm1vbnRoIjoKICAgICAgICAgIGQgPSBwYXJzZUludChoLmF0dHIoIm1vbnRoIiksIDEwKSwgYyA9IGdqLmRhdGVwaWNrZXIubWV0aG9kcy5nZXROZXh0TW9udGgoZCwgZSksIGguYXR0cigibW9udGgiLCBjLm1vbnRoKSwgaC5hdHRyKCJ5ZWFyIiwgYy55ZWFyKSwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnJlbmRlck1vbnRoKGEsIGgsIGIpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInllYXIiOgogICAgICAgICAgaC5hdHRyKCJ5ZWFyIiwgZSArIDEpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMucmVuZGVyWWVhcihhLCBoLCBiKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkZWNhZGUiOgogICAgICAgICAgZiA9IGUgLSBlICUgMTAsIGguYXR0cigieWVhciIsIGYgKyAxMCksIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJEZWNhZGUoYSwgaCwgYik7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiY2VudHVyeSI6CiAgICAgICAgICBnID0gZSAtIGUgJSAxMDAsIGguYXR0cigieWVhciIsIGcgKyAxMDApLCBnai5kYXRlcGlja2VyLm1ldGhvZHMucmVuZGVyQ2VudHVyeShhLCBoLCBiKTsKICAgICAgfQogICAgfTsKICB9LAogIGNoYW5nZVBlcmlvZDogZnVuY3Rpb24gY2hhbmdlUGVyaW9kKGEsIGIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYykgewogICAgICB2YXIgZCA9ICQoImJvZHkiKS5maW5kKCdbcm9sZT0iY2FsZW5kYXIiXVtndWlkPSInICsgYS5hdHRyKCJkYXRhLWd1aWQiKSArICciXScpOwoKICAgICAgc3dpdGNoIChkLmF0dHIoInR5cGUiKSkgewogICAgICAgIGNhc2UgIm1vbnRoIjoKICAgICAgICAgIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJZZWFyKGEsIGQsIGIpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInllYXIiOgogICAgICAgICAgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnJlbmRlckRlY2FkZShhLCBkLCBiKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkZWNhZGUiOgogICAgICAgICAgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnJlbmRlckNlbnR1cnkoYSwgZCwgYik7CiAgICAgIH0KICAgIH07CiAgfSwKICBkYXlDbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGRheUNsaWNrSGFuZGxlcihhLCBiLCBjLCBkKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUgJiYgZS5zdG9wUHJvcGFnYXRpb24oKSwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnNlbGVjdERheShhLCBiLCBjLCBkKSwgITAgIT09IGMuZm9vdGVyICYmICExICE9PSBjLmF1dG9DbG9zZSAmJiBnai5kYXRlcGlja2VyLm1ldGhvZHMuY2hhbmdlKGEsIGIsIGMsIGQpLCBhOwogICAgfTsKICB9LAogIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGEsIGIsIGMsIGQpIHsKICAgIHZhciBlID0gKGQuZ2V0RGF0ZSgpLCBkLmdldE1vbnRoKCkpLAogICAgICAgIGYgPSBkLmdldEZ1bGxZZWFyKCksCiAgICAgICAgZyA9IGdqLmNvcmUuZm9ybWF0RGF0ZShkLCBjLmZvcm1hdCwgYy5sb2NhbGUpOwogICAgYi5hdHRyKCJtb250aCIsIGUpLCBiLmF0dHIoInllYXIiLCBmKSwgYS52YWwoZyksIGdqLmRhdGVwaWNrZXIuZXZlbnRzLmNoYW5nZShhKSwgIm5vbmUiICE9PSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShiWzBdKS5kaXNwbGF5ICYmIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5jbG9zZShhKTsKICB9LAogIHNlbGVjdERheTogZnVuY3Rpb24gc2VsZWN0RGF5KGEsIGIsIGMsIGQpIHsKICAgIHZhciBlID0gZC5nZXREYXRlKCksCiAgICAgICAgZiA9IGQuZ2V0TW9udGgoKSwKICAgICAgICBnID0gZC5nZXRGdWxsWWVhcigpOwogICAgYi5hdHRyKCJzZWxlY3RlZERheSIsIGcgKyAiLSIgKyBmICsgIi0iICsgZSksIGIuZmluZCgidGJvZHkgdGQiKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSwgYi5maW5kKCd0Ym9keSB0ZFtkYXk9IicgKyBlICsgJyJdW21vbnRoPSInICsgZiArICciXScpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMudXBkYXRlSGVhZGVyKGIsIGMsIGQpLCBnai5kYXRlcGlja2VyLmV2ZW50cy5zZWxlY3QoYSwgImRheSIpOwogIH0sCiAgc2VsZWN0TW9udGg6IGZ1bmN0aW9uIHNlbGVjdE1vbnRoKGEsIGIsIGMsIGQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICBiLmF0dHIoIm1vbnRoIiwgZCksIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJNb250aChhLCBiLCBjKSwgZ2ouZGF0ZXBpY2tlci5ldmVudHMuc2VsZWN0KGEsICJtb250aCIpOwogICAgfTsKICB9LAogIHNlbGVjdFllYXI6IGZ1bmN0aW9uIHNlbGVjdFllYXIoYSwgYiwgYywgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIGIuYXR0cigieWVhciIsIGQpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMucmVuZGVyWWVhcihhLCBiLCBjKSwgZ2ouZGF0ZXBpY2tlci5ldmVudHMuc2VsZWN0KGEsICJ5ZWFyIik7CiAgICB9OwogIH0sCiAgc2VsZWN0RGVjYWRlOiBmdW5jdGlvbiBzZWxlY3REZWNhZGUoYSwgYiwgYywgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIGIuYXR0cigieWVhciIsIGQpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMucmVuZGVyRGVjYWRlKGEsIGIsIGMpLCBnai5kYXRlcGlja2VyLmV2ZW50cy5zZWxlY3QoYSwgImRlY2FkZSIpOwogICAgfTsKICB9LAogIG9wZW46IGZ1bmN0aW9uIG9wZW4oYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCA9ICQoImJvZHkiKS5maW5kKCdbcm9sZT0iY2FsZW5kYXIiXVtndWlkPSInICsgYS5hdHRyKCJkYXRhLWd1aWQiKSArICciXScpOwoKICAgIHN3aXRjaCAoYS52YWwoKSA/IGEudmFsdWUoYS52YWwoKSkgOiAoYyA9IG5ldyBEYXRlKCksIGQuYXR0cigibW9udGgiLCBjLmdldE1vbnRoKCkpLCBkLmF0dHIoInllYXIiLCBjLmdldEZ1bGxZZWFyKCkpKSwgZC5hdHRyKCJ0eXBlIikpIHsKICAgICAgY2FzZSAibW9udGgiOgogICAgICAgIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJNb250aChhLCBkLCBiKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInllYXIiOgogICAgICAgIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJZZWFyKGEsIGQsIGIpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiZGVjYWRlIjoKICAgICAgICBnai5kYXRlcGlja2VyLm1ldGhvZHMucmVuZGVyRGVjYWRlKGEsIGQsIGIpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiY2VudHVyeSI6CiAgICAgICAgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLnJlbmRlckNlbnR1cnkoYSwgZCwgYik7CiAgICB9CgogICAgZC5zaG93KCksIGQuY2xvc2VzdCgnZGl2W3JvbGU9Im1vZGFsIl0nKS5zaG93KCksIGIubW9kYWwgPyBnai5jb3JlLmNlbnRlcihkKSA6IChnai5jb3JlLnNldENoaWxkUG9zaXRpb24oYVswXSwgZFswXSksIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGFbMF0gJiYgYS5mb2N1cygpKSwgY2xlYXJUaW1lb3V0KGEudGltZW91dCksIGdqLmRhdGVwaWNrZXIuZXZlbnRzLm9wZW4oYSk7CiAgfSwKICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoYSkgewogICAgdmFyIGIgPSAkKCJib2R5IikuZmluZCgnW3JvbGU9ImNhbGVuZGFyIl1bZ3VpZD0iJyArIGEuYXR0cigiZGF0YS1ndWlkIikgKyAnIl0nKTsKICAgIGIuaGlkZSgpLCBiLmNsb3Nlc3QoJ2Rpdltyb2xlPSJtb2RhbCJdJykuaGlkZSgpLCBnai5kYXRlcGlja2VyLmV2ZW50cy5jbG9zZShhKTsKICB9LAogIGNyZWF0ZUtleURvd25IYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVLZXlEb3duSGFuZGxlcihhLCBiLCBjKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGQpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBmLAogICAgICAgICAgZywKICAgICAgICAgIGgsCiAgICAgICAgICBpLAogICAgICAgICAgaiwKICAgICAgICAgIGQgPSBkIHx8IHdpbmRvdy5ldmVudDsKICAgICAgIm5vbmUiICE9PSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShiWzBdKS5kaXNwbGF5ICYmIChqID0gZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmdldEFjdGl2ZUNlbGwoYiksICIzOCIgPT0gZC5rZXlDb2RlID8gKGggPSBqLmluZGV4KCksIGkgPSBqLmNsb3Nlc3QoInRyIikucHJldigidHIiKS5maW5kKCJ0ZDplcSgiICsgaCArICIpIiksIGkuaXMoIltkYXldIikgfHwgKGdqLmRhdGVwaWNrZXIubWV0aG9kcy5wcmV2KGEsIGMpKCksIGkgPSBiLmZpbmQoInRib2R5IHRyIikubGFzdCgpLmZpbmQoInRkOmVxKCIgKyBoICsgIikiKSwgaS5pcygiOmVtcHR5IikgJiYgKGkgPSBiLmZpbmQoInRib2R5IHRyIikubGFzdCgpLnByZXYoKS5maW5kKCJ0ZDplcSgiICsgaCArICIpIikpKSwgaS5pcygiW2RheV0iKSAmJiAoaS5hZGRDbGFzcygiZm9jdXNlZCIpLCBqLnJlbW92ZUNsYXNzKCJmb2N1c2VkIikpKSA6ICI0MCIgPT0gZC5rZXlDb2RlID8gKGggPSBqLmluZGV4KCksIGkgPSBqLmNsb3Nlc3QoInRyIikubmV4dCgidHIiKS5maW5kKCJ0ZDplcSgiICsgaCArICIpIiksIGkuaXMoIltkYXldIikgfHwgKGdqLmRhdGVwaWNrZXIubWV0aG9kcy5uZXh0KGEsIGMpKCksIGkgPSBiLmZpbmQoInRib2R5IHRyIikuZmlyc3QoKS5maW5kKCJ0ZDplcSgiICsgaCArICIpIiksIGkuaXMoIltkYXldIikgfHwgKGkgPSBiLmZpbmQoInRib2R5IHRyOmVxKDEpIikuZmluZCgidGQ6ZXEoIiArIGggKyAiKSIpKSksIGkuaXMoIltkYXldIikgJiYgKGkuYWRkQ2xhc3MoImZvY3VzZWQiKSwgai5yZW1vdmVDbGFzcygiZm9jdXNlZCIpKSkgOiAiMzciID09IGQua2V5Q29kZSA/IChpID0gai5wcmV2KCJ0ZFtkYXldOm5vdCguZGlzYWJsZWQpIiksIDAgPT09IGkubGVuZ3RoICYmIChpID0gai5jbG9zZXN0KCJ0ciIpLnByZXYoInRyIikuZmluZCgidGRbZGF5XSIpLmxhc3QoKSksIDAgPT09IGkubGVuZ3RoICYmIChnai5kYXRlcGlja2VyLm1ldGhvZHMucHJldihhLCBjKSgpLCBpID0gYi5maW5kKCJ0Ym9keSB0ciIpLmxhc3QoKS5maW5kKCJ0ZFtkYXldIikubGFzdCgpKSwgaS5sZW5ndGggPiAwICYmIChpLmFkZENsYXNzKCJmb2N1c2VkIiksIGoucmVtb3ZlQ2xhc3MoImZvY3VzZWQiKSkpIDogIjM5IiA9PSBkLmtleUNvZGUgPyAoaSA9IGoubmV4dCgiW2RheV06bm90KC5kaXNhYmxlZCkiKSwgMCA9PT0gaS5sZW5ndGggJiYgKGkgPSBqLmNsb3Nlc3QoInRyIikubmV4dCgidHIiKS5maW5kKCJ0ZFtkYXldIikuZmlyc3QoKSksIDAgPT09IGkubGVuZ3RoICYmIChnai5kYXRlcGlja2VyLm1ldGhvZHMubmV4dChhLCBjKSgpLCBpID0gYi5maW5kKCJ0Ym9keSB0ciIpLmZpcnN0KCkuZmluZCgidGRbZGF5XSIpLmZpcnN0KCkpLCBpLmxlbmd0aCA+IDAgJiYgKGkuYWRkQ2xhc3MoImZvY3VzZWQiKSwgai5yZW1vdmVDbGFzcygiZm9jdXNlZCIpKSkgOiAiMTMiID09IGQua2V5Q29kZSA/IChnID0gcGFyc2VJbnQoai5hdHRyKCJkYXkiKSwgMTApLCBlID0gcGFyc2VJbnQoai5hdHRyKCJtb250aCIpLCAxMCksIGYgPSBwYXJzZUludChqLmF0dHIoInllYXIiKSwgMTApLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuZGF5Q2xpY2tIYW5kbGVyKGEsIGIsIGMsIG5ldyBEYXRlKGYsIGUsIGcpKSgpKSA6ICIyNyIgPT0gZC5rZXlDb2RlICYmIGEuY2xvc2UoKSk7CiAgICB9OwogIH0sCiAgZ2V0QWN0aXZlQ2VsbDogZnVuY3Rpb24gZ2V0QWN0aXZlQ2VsbChhKSB7CiAgICB2YXIgYiA9IGEuZmluZCgidGRbZGF5XS5mb2N1c2VkIik7CiAgICByZXR1cm4gMCA9PT0gYi5sZW5ndGggJiYgKGIgPSBhLmZpbmQoInRkW2RheV0uc2VsZWN0ZWQiKSwgMCA9PT0gYi5sZW5ndGggJiYgKGIgPSBhLmZpbmQoInRkW2RheV0udG9kYXkiKSwgMCA9PT0gYi5sZW5ndGggJiYgKGIgPSBhLmZpbmQoInRkW2RheV06bm90KC5kaXNhYmxlZCkiKS5maXJzdCgpKSkpLCBiOwogIH0sCiAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQsCiAgICAgICAgZSA9IGEuZGF0YSgpOwogICAgcmV0dXJuIHZvaWQgMCA9PT0gYiA/IGEudmFsKCkgOiAoZCA9IGdqLmNvcmUucGFyc2VEYXRlKGIsIGUuZm9ybWF0LCBlLmxvY2FsZSksIGQgJiYgZC5nZXRUaW1lKCkgPyAoYyA9ICQoImJvZHkiKS5maW5kKCdbcm9sZT0iY2FsZW5kYXIiXVtndWlkPSInICsgYS5hdHRyKCJkYXRhLWd1aWQiKSArICciXScpLCBnai5kYXRlcGlja2VyLm1ldGhvZHMuZGF5Q2xpY2tIYW5kbGVyKGEsIGMsIGUsIGQpKCkpIDogYS52YWwoIiIpLCBhKTsKICB9LAogIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koYSkgewogICAgdmFyIGIgPSBhLmRhdGEoKSwKICAgICAgICBjID0gYS5wYXJlbnQoKSwKICAgICAgICBkID0gJCgiYm9keSIpLmZpbmQoJ1tyb2xlPSJjYWxlbmRhciJdW2d1aWQ9IicgKyBhLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJyk7CiAgICByZXR1cm4gYiAmJiAoYS5vZmYoKSwgZC5wYXJlbnQoJ1tyb2xlPSJtb2RhbCJdJykubGVuZ3RoID4gMCAmJiBkLnVud3JhcCgpLCBkLnJlbW92ZSgpLCBhLnJlbW92ZURhdGEoKSwgYS5yZW1vdmVBdHRyKCJkYXRhLXR5cGUiKS5yZW1vdmVBdHRyKCJkYXRhLWd1aWQiKS5yZW1vdmVBdHRyKCJkYXRhLWRhdGVwaWNrZXIiKSwgYS5yZW1vdmVDbGFzcygpLCBjLmNoaWxkcmVuKCdbcm9sZT0icmlnaHQtaWNvbiJdJykucmVtb3ZlKCksIGEudW53cmFwKCkpLCBhOwogIH0KfSwgZ2ouZGF0ZXBpY2tlci5ldmVudHMgPSB7CiAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoYSkgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoImNoYW5nZSIpOwogIH0sCiAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoYSwgYikgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoInNlbGVjdCIsIFtiXSk7CiAgfSwKICBvcGVuOiBmdW5jdGlvbiBvcGVuKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJvcGVuIik7CiAgfSwKICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoYSkgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoImNsb3NlIik7CiAgfQp9LCBnai5kYXRlcGlja2VyLndpZGdldCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSB0aGlzLAogICAgICBkID0gZ2ouZGF0ZXBpY2tlci5tZXRob2RzOwogIHJldHVybiBjLnZhbHVlID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLnZhbHVlKHRoaXMsIGEpOwogIH0sIGMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmRlc3Ryb3kodGhpcyk7CiAgfSwgYy5vcGVuID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGQub3Blbih0aGlzLCB0aGlzLmRhdGEoKSk7CiAgfSwgYy5jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLmNsb3NlKHRoaXMpOwogIH0sICQuZXh0ZW5kKGEsIGMpLCAidHJ1ZSIgIT09IGEuYXR0cigiZGF0YS1kYXRlcGlja2VyIikgJiYgZC5pbml0LmNhbGwoYSwgYiksIGE7Cn0sIGdqLmRhdGVwaWNrZXIud2lkZ2V0LnByb3RvdHlwZSA9IG5ldyBnai53aWRnZXQoKSwgZ2ouZGF0ZXBpY2tlci53aWRnZXQuY29uc3RydWN0b3IgPSBnai5kYXRlcGlja2VyLndpZGdldCwgZnVuY3Rpb24gKGEpIHsKICBhLmZuLmRhdGVwaWNrZXIgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGI7CgogICAgaWYgKHRoaXMgJiYgdGhpcy5sZW5ndGgpIHsKICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoYSkgJiYgYSkgewogICAgICAgIGlmIChiID0gbmV3IGdqLmRhdGVwaWNrZXIud2lkZ2V0KHRoaXMsIG51bGwpLCBiW2FdKSByZXR1cm4gYlthXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgICAgICB0aHJvdyAiTWV0aG9kICIgKyBhICsgIiBkb2VzIG5vdCBleGlzdC4iOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IGdqLmRhdGVwaWNrZXIud2lkZ2V0KHRoaXMsIGEpOwogICAgfQogIH07Cn0oalF1ZXJ5KSwgZ2oudGltZXBpY2tlciA9IHsKICBwbHVnaW5zOiB7fQp9LCBnai50aW1lcGlja2VyLmNvbmZpZyA9IHsKICBiYXNlOiB7CiAgICB3aWR0aDogdm9pZCAwLAogICAgbW9kYWw6ICEwLAogICAgaGVhZGVyOiAhMCwKICAgIGZvb3RlcjogITAsCiAgICBmb3JtYXQ6ICJISDpNTSIsCiAgICB1aUxpYnJhcnk6ICJtYXRlcmlhbGRlc2lnbiIsCiAgICB2YWx1ZTogdm9pZCAwLAogICAgbW9kZTogImFtcG0iLAogICAgbG9jYWxlOiAiZW4tdXMiLAogICAgc2l6ZTogImRlZmF1bHQiLAogICAgaWNvbnM6IHsKICAgICAgcmlnaHRJY29uOiAnPGkgY2xhc3M9ImdqLWljb24gY2xvY2siIC8+JwogICAgfSwKICAgIHN0eWxlOiB7CiAgICAgIG1vZGFsOiAiZ2otbW9kYWwiLAogICAgICB3cmFwcGVyOiAiZ2otdGltZXBpY2tlciBnai10aW1lcGlja2VyLW1kIGdqLXVuc2VsZWN0YWJsZSIsCiAgICAgIGlucHV0OiAiZ2otdGV4dGJveC1tZCIsCiAgICAgIGNsb2NrOiAiZ2otcGlja2VyIGdqLXBpY2tlci1tZCB0aW1lcGlja2VyIiwKICAgICAgZm9vdGVyOiAiIiwKICAgICAgYnV0dG9uOiAiZ2otYnV0dG9uLW1kIgogICAgfQogIH0sCiAgYm9vdHN0cmFwOiB7CiAgICBzdHlsZTogewogICAgICB3cmFwcGVyOiAiZ2otdGltZXBpY2tlciBnai10aW1lcGlja2VyLWJvb3RzdHJhcCBnai11bnNlbGVjdGFibGUgaW5wdXQtZ3JvdXAiLAogICAgICBpbnB1dDogImZvcm0tY29udHJvbCIsCiAgICAgIGNsb2NrOiAiZ2otcGlja2VyIGdqLXBpY2tlci1ib290c3RyYXAgdGltZXBpY2tlciIsCiAgICAgIGZvb3RlcjogIm1vZGFsLWZvb3RlciIsCiAgICAgIGJ1dHRvbjogImJ0biBidG4tZGVmYXVsdCIKICAgIH0sCiAgICBpY29uc0xpYnJhcnk6ICJnbHlwaGljb25zIgogIH0sCiAgYm9vdHN0cmFwNDogewogICAgc3R5bGU6IHsKICAgICAgd3JhcHBlcjogImdqLXRpbWVwaWNrZXIgZ2otdGltZXBpY2tlci1ib290c3RyYXAgZ2otdW5zZWxlY3RhYmxlIGlucHV0LWdyb3VwIiwKICAgICAgaW5wdXQ6ICJmb3JtLWNvbnRyb2wgYm9yZGVyIiwKICAgICAgY2xvY2s6ICJnai1waWNrZXIgZ2otcGlja2VyLWJvb3RzdHJhcCB0aW1lcGlja2VyIiwKICAgICAgZm9vdGVyOiAibW9kYWwtZm9vdGVyIiwKICAgICAgYnV0dG9uOiAiYnRuIGJ0bi1kZWZhdWx0IgogICAgfQogIH0KfSwgZ2oudGltZXBpY2tlci5tZXRob2RzID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgcmV0dXJuIGdqLnBpY2tlci53aWRnZXQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLCBhLCAidGltZXBpY2tlciIpLCB0aGlzOwogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHt9LAogIGluaXRNb3VzZTogZnVuY3Rpb24gaW5pdE1vdXNlKGEsIGIsIGMsIGQpIHsKICAgIGEub2ZmKCksIGEub24oIm1vdXNlZG93biIsIGdqLnRpbWVwaWNrZXIubWV0aG9kcy5tb3VzZURvd25IYW5kbGVyKGIsIGMpKSwgYS5vbigibW91c2Vtb3ZlIiwgZ2oudGltZXBpY2tlci5tZXRob2RzLm1vdXNlTW92ZUhhbmRsZXIoYiwgYywgZCkpLCBhLm9uKCJtb3VzZXVwIiwgZ2oudGltZXBpY2tlci5tZXRob2RzLm1vdXNlVXBIYW5kbGVyKGIsIGMsIGQpKTsKICB9LAogIGNyZWF0ZVBpY2tlcjogZnVuY3Rpb24gY3JlYXRlUGlja2VyKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMgPSBhLmRhdGEoKSwKICAgICAgICBkID0gJCgnPGRpdiByb2xlPSJwaWNrZXIiIC8+JykuYWRkQ2xhc3MoYy5zdHlsZS5jbG9jaykuYXR0cigiZ3VpZCIsIGEuYXR0cigiZGF0YS1ndWlkIikpLAogICAgICAgIGUgPSAkKCc8ZGl2IHJvbGU9ImhvdXIiIC8+JyksCiAgICAgICAgZiA9ICQoJzxkaXYgcm9sZT0ibWludXRlIiAvPicpLAogICAgICAgIGcgPSAkKCc8ZGl2IHJvbGU9ImhlYWRlciIgLz4nKSwKICAgICAgICBoID0gJCgnPGRpdiByb2xlPSJtb2RlIiAvPicpLAogICAgICAgIGkgPSAkKCc8ZGl2IHJvbGU9ImJvZHkiIC8+JyksCiAgICAgICAgaiA9ICQoJzxidXR0b24gY2xhc3M9IicgKyBjLnN0eWxlLmJ1dHRvbiArICciPicgKyBnai5jb3JlLm1lc3NhZ2VzW2MubG9jYWxlXS5vayArICI8L2J1dHRvbj4iKSwKICAgICAgICBrID0gJCgnPGJ1dHRvbiBjbGFzcz0iJyArIGMuc3R5bGUuYnV0dG9uICsgJyI+JyArIGdqLmNvcmUubWVzc2FnZXNbYy5sb2NhbGVdLmNhbmNlbCArICI8L2J1dHRvbj4iKSwKICAgICAgICBsID0gJCgnPGRpdiByb2xlPSJmb290ZXIiIGNsYXNzPSInICsgYy5zdHlsZS5mb290ZXIgKyAnIiAvPicpOwogICAgcmV0dXJuIGIgPSBnai5jb3JlLnBhcnNlRGF0ZShjLnZhbHVlLCBjLmZvcm1hdCwgYy5sb2NhbGUpLCAhYiB8fCBpc05hTihiLmdldFRpbWUoKSkgPyBiID0gbmV3IERhdGUoKSA6IGEuYXR0cigiaG91cnMiLCBiLmdldEhvdXJzKCkpLCBnai50aW1lcGlja2VyLm1ldGhvZHMuaW5pdE1vdXNlKGksIGEsIGQsIGMpLCBjLmhlYWRlciAmJiAoZS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIGdqLnRpbWVwaWNrZXIubWV0aG9kcy5yZW5kZXJIb3VycyhhLCBkLCBjKTsKICAgIH0pLCBmLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgZ2oudGltZXBpY2tlci5tZXRob2RzLnJlbmRlck1pbnV0ZXMoYSwgZCwgYyk7CiAgICB9KSwgZy5hcHBlbmQoZSkuYXBwZW5kKCI6IikuYXBwZW5kKGYpLCAiYW1wbSIgPT09IGMubW9kZSAmJiAoaC5hcHBlbmQoJCgnPHNwYW4gcm9sZT0iYW0iPicgKyBnai5jb3JlLm1lc3NhZ2VzW2MubG9jYWxlXS5hbSArICI8L3NwYW4+Iikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYiA9IGdqLnRpbWVwaWNrZXIubWV0aG9kcy5nZXRIb3VyKGQpOwogICAgICBkLmF0dHIoIm1vZGUiLCAiYW0iKSwgJCh0aGlzKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgJCh0aGlzKS5wYXJlbnQoKS5jaGlsZHJlbignW3JvbGU9InBtIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSwgYiA+PSAxMiAmJiBkLmF0dHIoImhvdXIiLCBiIC0gMTIpLCBjLm1vZGFsIHx8IChjbGVhclRpbWVvdXQoYS50aW1lb3V0KSwgYS5mb2N1cygpKTsKICAgIH0pKSwgaC5hcHBlbmQoIjxiciAvPiIpLCBoLmFwcGVuZCgkKCc8c3BhbiByb2xlPSJwbSI+JyArIGdqLmNvcmUubWVzc2FnZXNbYy5sb2NhbGVdLnBtICsgIjwvc3Bhbj4iKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBiID0gZ2oudGltZXBpY2tlci5tZXRob2RzLmdldEhvdXIoZCk7CiAgICAgIGQuYXR0cigibW9kZSIsICJwbSIpLCAkKHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCAkKHRoaXMpLnBhcmVudCgpLmNoaWxkcmVuKCdbcm9sZT0iYW0iXScpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCBiIDwgMTIgJiYgZC5hdHRyKCJob3VyIiwgYiArIDEyKSwgYy5tb2RhbCB8fCAoY2xlYXJUaW1lb3V0KGEudGltZW91dCksIGEuZm9jdXMoKSk7CiAgICB9KSksIGcuYXBwZW5kKGgpKSwgZC5hcHBlbmQoZykpLCBkLmFwcGVuZChpKSwgYy5mb290ZXIgJiYgKGsub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBhLmNsb3NlKCk7CiAgICB9KSwgbC5hcHBlbmQoayksIGoub24oImNsaWNrIiwgZ2oudGltZXBpY2tlci5tZXRob2RzLnNldFRpbWUoYSwgZCkpLCBsLmFwcGVuZChqKSwgZC5hcHBlbmQobCkpLCBkLmhpZGUoKSwgJCgiYm9keSIpLmFwcGVuZChkKSwgYy5tb2RhbCAmJiAoZC53cmFwQWxsKCc8ZGl2IHJvbGU9Im1vZGFsIiBjbGFzcz0iJyArIGMuc3R5bGUubW9kYWwgKyAnIi8+JyksIGdqLmNvcmUuY2VudGVyKGQpKSwgZDsKICB9LAogIGdldEhvdXI6IGZ1bmN0aW9uIGdldEhvdXIoYSkgewogICAgcmV0dXJuIHBhcnNlSW50KGEuYXR0cigiaG91ciIpLCAxMCkgfHwgMDsKICB9LAogIGdldE1pbnV0ZTogZnVuY3Rpb24gZ2V0TWludXRlKGEpIHsKICAgIHJldHVybiBwYXJzZUludChhLmF0dHIoIm1pbnV0ZSIpLCAxMCkgfHwgMDsKICB9LAogIHNldFRpbWU6IGZ1bmN0aW9uIHNldFRpbWUoYSwgYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGMgPSBnai50aW1lcGlja2VyLm1ldGhvZHMuZ2V0SG91cihiKSwKICAgICAgICAgIGQgPSBnai50aW1lcGlja2VyLm1ldGhvZHMuZ2V0TWludXRlKGIpLAogICAgICAgICAgZSA9IGIuYXR0cigibW9kZSIpLAogICAgICAgICAgZiA9IG5ldyBEYXRlKDAsIDAsIDAsIDEyID09PSBjICYmICJhbSIgPT09IGUgPyAwIDogYywgZCksCiAgICAgICAgICBnID0gYS5kYXRhKCksCiAgICAgICAgICBoID0gZ2ouY29yZS5mb3JtYXREYXRlKGYsIGcuZm9ybWF0LCBnLmxvY2FsZSk7CiAgICAgIGEudmFsdWUoaCksIGEuY2xvc2UoKTsKICAgIH07CiAgfSwKICBnZXRQb2ludGVyVmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50ZXJWYWx1ZShhLCBiLCBjKSB7CiAgICB2YXIgZCwKICAgICAgICBlLAogICAgICAgIGYgPSAyNTYsCiAgICAgICAgZyA9IE1hdGguYXRhbjIoZiAvIDIgLSBhLCBmIC8gMiAtIGIpIC8gTWF0aC5QSSAqIDE4MDsKCiAgICBzd2l0Y2ggKGcgPCAwICYmIChnID0gMzYwICsgZyksIGMpIHsKICAgICAgY2FzZSAiYW1wbSI6CiAgICAgICAgcmV0dXJuIGQgPSAxMiAtIE1hdGgucm91bmQoMTIgKiBnIC8gMzYwKSwgMCA9PT0gZCA/IDEyIDogZDsKCiAgICAgIGNhc2UgIjI0aHIiOgogICAgICAgIHJldHVybiBlID0gTWF0aC5zcXJ0KE1hdGgucG93KGYgLyAyIC0gYSwgMikgKyBNYXRoLnBvdyhmIC8gMiAtIGIsIDIpKSwgZCA9IDEyIC0gTWF0aC5yb3VuZCgxMiAqIGcgLyAzNjApLCAwID09PSBkICYmIChkID0gMTIpLCBlIDwgZiAvIDIgLSAzMiAmJiAoZCA9IDEyID09PSBkID8gMCA6IGQgKyAxMiksIGQ7CgogICAgICBjYXNlICJtaW51dGVzIjoKICAgICAgICByZXR1cm4gZCA9IE1hdGgucm91bmQoNjAgLSA2MCAqIGcgLyAzNjApLCA2MCA9PT0gZCA/IDAgOiBkOwogICAgfQogIH0sCiAgdXBkYXRlQXJyb3c6IGZ1bmN0aW9uIHVwZGF0ZUFycm93KGEsIGIsIGMsIGQpIHsKICAgIHZhciBlLAogICAgICAgIGYsCiAgICAgICAgZyA9IGIubW91c2VYKGEpLAogICAgICAgIGggPSBiLm1vdXNlWShhKSwKICAgICAgICBpID0gd2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0IHx8IDAsCiAgICAgICAgaiA9IHdpbmRvdy5zY3JvbGxYIHx8IHdpbmRvdy5wYWdlWE9mZnNldCB8fCAwOwogICAgZSA9IGEudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCAiaG91cnMiID09IGQuZGlhbE1vZGUgPyAoZiA9IGdqLnRpbWVwaWNrZXIubWV0aG9kcy5nZXRQb2ludGVyVmFsdWUoZyAtIGogLSBlLmxlZnQsIGggLSBpIC0gZS50b3AsIGQubW9kZSksIGMuYXR0cigiaG91ciIsICJhbXBtIiA9PT0gZC5tb2RlICYmICJwbSIgPT09IGMuYXR0cigibW9kZSIpICYmIGYgPCAxMiA/IGYgKyAxMiA6IGYpKSA6ICJtaW51dGVzIiA9PSBkLmRpYWxNb2RlICYmIChmID0gZ2oudGltZXBpY2tlci5tZXRob2RzLmdldFBvaW50ZXJWYWx1ZShnIC0gaiAtIGUubGVmdCwgaCAtIGkgLSBlLnRvcCwgIm1pbnV0ZXMiKSwgYy5hdHRyKCJtaW51dGUiLCBmKSksIGdqLnRpbWVwaWNrZXIubWV0aG9kcy51cGRhdGUoYiwgYywgZCk7CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShhLCBiLCBjKSB7CiAgICB2YXIgZCwgZSwgZiwgZywgaCwgaTsKICAgIGQgPSBnai50aW1lcGlja2VyLm1ldGhvZHMuZ2V0SG91cihiKSwgZSA9IGdqLnRpbWVwaWNrZXIubWV0aG9kcy5nZXRNaW51dGUoYiksIGYgPSBiLmZpbmQoJ1tyb2xlPSJhcnJvdyJdJyksICJob3VycyIgPT0gYy5kaWFsTW9kZSAmJiAoMCA9PSBkIHx8IGQgPiAxMikgJiYgIjI0aHIiID09PSBjLm1vZGUgPyBmLmNzcygid2lkdGgiLCAiY2FsYyg1MCUgLSA1MnB4KSIpIDogZi5jc3MoIndpZHRoIiwgImNhbGMoNTAlIC0gMjBweCkiKSwgImhvdXJzIiA9PSBjLmRpYWxNb2RlID8gZi5jc3MoInRyYW5zZm9ybSIsICJyb3RhdGUoIiArICgzMCAqIGQgLSA5MCkudG9TdHJpbmcoKSArICJkZWcpIikgOiBmLmNzcygidHJhbnNmb3JtIiwgInJvdGF0ZSgiICsgKDYgKiBlIC0gOTApLnRvU3RyaW5nKCkgKyAiZGVnKSIpLCBmLnNob3coKSwgZyA9ICJhbXBtIiA9PT0gYy5tb2RlICYmIGQgPiAxMiA/IGQgLSAxMiA6IDAgPT0gZCA/IDEyIDogZCwgaSA9IGIuZmluZCgnW3JvbGU9ImJvZHkiXSBzcGFuJyksIGkucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIGkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7CiAgICAgIHJldHVybiAiaG91cnMiID09IGMuZGlhbE1vZGUgPyBwYXJzZUludCgkKHRoaXMpLnRleHQoKSwgMTApID09IGcgOiBwYXJzZUludCgkKHRoaXMpLnRleHQoKSwgMTApID09IGU7CiAgICB9KS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgYy5oZWFkZXIgJiYgKGggPSBiLmZpbmQoJ1tyb2xlPSJoZWFkZXIiXScpLCBoLmZpbmQoJ1tyb2xlPSJob3VyIl0nKS50ZXh0KGcpLCBoLmZpbmQoJ1tyb2xlPSJtaW51dGUiXScpLnRleHQoZ2ouY29yZS5wYWQoZSkpLCAiYW1wbSIgPT09IGMubW9kZSAmJiAoZCA+PSAxMiA/IChoLmZpbmQoJ1tyb2xlPSJwbSJdJykuYWRkQ2xhc3MoInNlbGVjdGVkIiksIGguZmluZCgnW3JvbGU9ImFtIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSkgOiAoaC5maW5kKCdbcm9sZT0iYW0iXScpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCBoLmZpbmQoJ1tyb2xlPSJwbSJdJykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIikpKSk7CiAgfSwKICBtb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbiBtb3VzZURvd25IYW5kbGVyKGEsIGIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICBhLm1vdXNlTW92ZSA9ICEwOwogICAgfTsKICB9LAogIG1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNlTW92ZUhhbmRsZXIoYSwgYiwgYykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICAgIGEubW91c2VNb3ZlICYmIGdqLnRpbWVwaWNrZXIubWV0aG9kcy51cGRhdGVBcnJvdyhkLCBhLCBiLCBjKTsKICAgIH07CiAgfSwKICBtb3VzZVVwSGFuZGxlcjogZnVuY3Rpb24gbW91c2VVcEhhbmRsZXIoYSwgYiwgYykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICAgIGdqLnRpbWVwaWNrZXIubWV0aG9kcy51cGRhdGVBcnJvdyhkLCBhLCBiLCBjKSwgYS5tb3VzZU1vdmUgPSAhMSwgYy5tb2RhbCB8fCAoY2xlYXJUaW1lb3V0KGEudGltZW91dCksIGEuZm9jdXMoKSksICJob3VycyIgPT0gYy5kaWFsTW9kZSA/IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGdqLnRpbWVwaWNrZXIuZXZlbnRzLnNlbGVjdChhLCAiaG91ciIpLCBnai50aW1lcGlja2VyLm1ldGhvZHMucmVuZGVyTWludXRlcyhhLCBiLCBjKTsKICAgICAgfSwgMWUzKSA6ICJtaW51dGVzIiA9PSBjLmRpYWxNb2RlICYmICghMCAhPT0gYy5mb290ZXIgJiYgITEgIT09IGMuYXV0b0Nsb3NlICYmIGdqLnRpbWVwaWNrZXIubWV0aG9kcy5zZXRUaW1lKGEsIGIpKCksIGdqLnRpbWVwaWNrZXIuZXZlbnRzLnNlbGVjdChhLCAibWludXRlIikpOwogICAgfTsKICB9LAogIHJlbmRlckhvdXJzOiBmdW5jdGlvbiByZW5kZXJIb3VycyhhLCBiLCBjKSB7CiAgICB2YXIgZCwKICAgICAgICBlID0gYi5maW5kKCdbcm9sZT0iYm9keSJdJyk7CiAgICBjbGVhclRpbWVvdXQoYS50aW1lb3V0KSwgZS5lbXB0eSgpLCBkID0gJCgnPGRpdiByb2xlPSJkaWFsIj48L2Rpdj4nKSwgZC5hcHBlbmQoJzxkaXYgcm9sZT0iYXJyb3ciIHN0eWxlPSJ0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpOyBkaXNwbGF5OiBub25lOyI+PGRpdiBjbGFzcz0iYXJyb3ctYmVnaW4iPjwvZGl2PjxkaXYgY2xhc3M9ImFycm93LWVuZCI+PC9kaXY+PC9kaXY+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoNTRweCwgLTkzLjUzMDdweCk7Ij4xPC9zcGFuPicpLCBkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKDkzLjUzMDdweCwgLTU0cHgpOyI+Mjwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgxMDhweCwgMHB4KTsiPjM8L3NwYW4+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoOTMuNTMwN3B4LCA1NHB4KTsiPjQ8L3NwYW4+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoNTRweCwgOTMuNTMwN3B4KTsiPjU8L3NwYW4+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoNi42MTMwOWUtMTVweCwgMTA4cHgpOyI+Njwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTRweCwgOTMuNTMwN3B4KTsiPjc8L3NwYW4+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoLTkzLjUzMDdweCwgNTRweCk7Ij44PC9zcGFuPicpLCBkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKC0xMDhweCwgMS4zMjI2MmUtMTRweCk7Ij45PC9zcGFuPicpLCBkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKC05My41MzA3cHgsIC01NHB4KTsiPjEwPC9zcGFuPicpLCBkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKC01NHB4LCAtOTMuNTMwN3B4KTsiPjExPC9zcGFuPicpLCBkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKC0xLjk4MzkzZS0xNHB4LCAtMTA4cHgpOyI+MTI8L3NwYW4+JyksICIyNGhyIiA9PT0gYy5tb2RlICYmIChkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKDM4cHgsIC02NS44MTc5cHgpOyI+MTM8L3NwYW4+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoNjUuODE3OXB4LCAtMzhweCk7Ij4xNDwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSg3NnB4LCAwcHgpOyI+MTU8L3NwYW4+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoNjUuODE3OXB4LCAzOHB4KTsiPjE2PC9zcGFuPicpLCBkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKDM4cHgsIDY1LjgxNzlweCk7Ij4xNzwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSg0LjY1MzY2ZS0xNXB4LCA3NnB4KTsiPjE4PC9zcGFuPicpLCBkLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKC0zOHB4LCA2NS44MTc5cHgpOyI+MTk8L3NwYW4+JyksIGQuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoLTY1LjgxNzlweCwgMzhweCk7Ij4yMDwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNzZweCwgOS4zMDczMmUtMTVweCk7Ij4yMTwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNjUuODE3OXB4LCAtMzhweCk7Ij4yMjwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMzhweCwgLTY1LjgxNzlweCk7Ij4yMzwvc3Bhbj4nKSwgZC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMS4zOTYxZS0xNHB4LCAtNzZweCk7Ij4wMDwvc3Bhbj4nKSksIGUuYXBwZW5kKGQpLCBiLmZpbmQoJ1tyb2xlPSJoZWFkZXIiXSBbcm9sZT0iaG91ciJdJykuYWRkQ2xhc3MoInNlbGVjdGVkIiksIGIuZmluZCgnW3JvbGU9ImhlYWRlciJdIFtyb2xlPSJtaW51dGUiXScpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCBjLmRpYWxNb2RlID0gImhvdXJzIiwgZ2oudGltZXBpY2tlci5tZXRob2RzLnVwZGF0ZShhLCBiLCBjKTsKICB9LAogIHJlbmRlck1pbnV0ZXM6IGZ1bmN0aW9uIHJlbmRlck1pbnV0ZXMoYSwgYiwgYykgewogICAgdmFyIGQgPSBiLmZpbmQoJ1tyb2xlPSJib2R5Il0nKTsKICAgIGNsZWFyVGltZW91dChhLnRpbWVvdXQpLCBkLmVtcHR5KCksICRkaWFsID0gJCgnPGRpdiByb2xlPSJkaWFsIj48L2Rpdj4nKSwgJGRpYWwuYXBwZW5kKCc8ZGl2IHJvbGU9ImFycm93IiBzdHlsZT0idHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTsgZGlzcGxheTogbm9uZTsiPjxkaXYgY2xhc3M9ImFycm93LWJlZ2luIj48L2Rpdj48ZGl2IGNsYXNzPSJhcnJvdy1lbmQiPjwvZGl2PjwvZGl2PicpLCAkZGlhbC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSg1NHB4LCAtOTMuNTMwN3B4KTsiPjU8L3NwYW4+JyksICRkaWFsLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKDkzLjUzMDdweCwgLTU0cHgpOyI+MTA8L3NwYW4+JyksICRkaWFsLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKDEwOHB4LCAwcHgpOyI+MTU8L3NwYW4+JyksICRkaWFsLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKDkzLjUzMDdweCwgNTRweCk7Ij4yMDwvc3Bhbj4nKSwgJGRpYWwuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoNTRweCwgOTMuNTMwN3B4KTsiPjI1PC9zcGFuPicpLCAkZGlhbC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSg2LjYxMzA5ZS0xNXB4LCAxMDhweCk7Ij4zMDwvc3Bhbj4nKSwgJGRpYWwuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoLTU0cHgsIDkzLjUzMDdweCk7Ij4zNTwvc3Bhbj4nKSwgJGRpYWwuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoLTkzLjUzMDdweCwgNTRweCk7Ij40MDwvc3Bhbj4nKSwgJGRpYWwuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEwOHB4LCAxLjMyMjYyZS0xNHB4KTsiPjQ1PC9zcGFuPicpLCAkZGlhbC5hcHBlbmQoJzxzcGFuIHJvbGU9ImhvdXIiIHN0eWxlPSJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtOTMuNTMwN3B4LCAtNTRweCk7Ij41MDwvc3Bhbj4nKSwgJGRpYWwuYXBwZW5kKCc8c3BhbiByb2xlPSJob3VyIiBzdHlsZT0idHJhbnNmb3JtOiB0cmFuc2xhdGUoLTU0cHgsIC05My41MzA3cHgpOyI+NTU8L3NwYW4+JyksICRkaWFsLmFwcGVuZCgnPHNwYW4gcm9sZT0iaG91ciIgc3R5bGU9InRyYW5zZm9ybTogdHJhbnNsYXRlKC0xLjk4MzkzZS0xNHB4LCAtMTA4cHgpOyI+MDA8L3NwYW4+JyksIGQuYXBwZW5kKCRkaWFsKSwgYi5maW5kKCdbcm9sZT0iaGVhZGVyIl0gW3JvbGU9ImhvdXIiXScpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCBiLmZpbmQoJ1tyb2xlPSJoZWFkZXIiXSBbcm9sZT0ibWludXRlIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgYy5kaWFsTW9kZSA9ICJtaW51dGVzIiwgZ2oudGltZXBpY2tlci5tZXRob2RzLnVwZGF0ZShhLCBiLCBjKTsKICB9LAogIG9wZW46IGZ1bmN0aW9uIG9wZW4oYSkgewogICAgdmFyIGIsCiAgICAgICAgYywKICAgICAgICBkID0gYS5kYXRhKCksCiAgICAgICAgZSA9ICQoImJvZHkiKS5maW5kKCdbcm9sZT0icGlja2VyIl1bZ3VpZD0iJyArIGEuYXR0cigiZGF0YS1ndWlkIikgKyAnIl0nKTsKICAgIHJldHVybiBiID0gYS52YWx1ZSgpID8gZ2ouY29yZS5wYXJzZURhdGUoYS52YWx1ZSgpLCBkLmZvcm1hdCwgZC5sb2NhbGUpIDogbmV3IERhdGUoKSwgYyA9IGIuZ2V0SG91cnMoKSwgImFtcG0iID09PSBkLm1vZGUgJiYgZS5hdHRyKCJtb2RlIiwgYyA+IDEyID8gInBtIiA6ICJhbSIpLCBlLmF0dHIoImhvdXIiLCBjKSwgZS5hdHRyKCJtaW51dGUiLCBiLmdldE1pbnV0ZXMoKSksIGdqLnRpbWVwaWNrZXIubWV0aG9kcy5yZW5kZXJIb3VycyhhLCBlLCBkKSwgZ2oucGlja2VyLndpZGdldC5wcm90b3R5cGUub3Blbi5jYWxsKGEsICJ0aW1lcGlja2VyIiksIGE7CiAgfSwKICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoYSwgYikgewogICAgYS5kYXRhKCk7CiAgICByZXR1cm4gdm9pZCAwID09PSBiID8gYS52YWwoKSA6IChhLnZhbChiKSwgZ2oudGltZXBpY2tlci5ldmVudHMuY2hhbmdlKGEpLCBhKTsKICB9Cn0sIGdqLnRpbWVwaWNrZXIuZXZlbnRzID0gewogIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2UiKTsKICB9LAogIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGEsIGIpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJzZWxlY3QiLCBbYl0pOwogIH0sCiAgb3BlbjogZnVuY3Rpb24gb3BlbihhKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigib3BlbiIpOwogIH0sCiAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJjbG9zZSIpOwogIH0KfSwgZ2oudGltZXBpY2tlci53aWRnZXQgPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gdGhpcywKICAgICAgZCA9IGdqLnRpbWVwaWNrZXIubWV0aG9kczsKICByZXR1cm4gYy5tb3VzZU1vdmUgPSAhMSwgYy52YWx1ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC52YWx1ZSh0aGlzLCBhKTsKICB9LCBjLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZ2oucGlja2VyLndpZGdldC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsICJ0aW1lcGlja2VyIik7CiAgfSwgYy5vcGVuID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGdqLnRpbWVwaWNrZXIubWV0aG9kcy5vcGVuKHRoaXMpOwogIH0sIGMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZ2oucGlja2VyLndpZGdldC5wcm90b3R5cGUuY2xvc2UuY2FsbCh0aGlzLCAidGltZXBpY2tlciIpOwogIH0sICQuZXh0ZW5kKGEsIGMpLCAidHJ1ZSIgIT09IGEuYXR0cigiZGF0YS10aW1lcGlja2VyIikgJiYgZC5pbml0LmNhbGwoYSwgYiksIGE7Cn0sIGdqLnRpbWVwaWNrZXIud2lkZ2V0LnByb3RvdHlwZSA9IG5ldyBnai5waWNrZXIud2lkZ2V0KCksIGdqLnRpbWVwaWNrZXIud2lkZ2V0LmNvbnN0cnVjdG9yID0gZ2oudGltZXBpY2tlci53aWRnZXQsIGZ1bmN0aW9uIChhKSB7CiAgYS5mbi50aW1lcGlja2VyID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiOwoKICAgIGlmICh0aGlzICYmIHRoaXMubGVuZ3RoKSB7CiAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGEpICYmIGEpIHsKICAgICAgICBpZiAoYiA9IG5ldyBnai50aW1lcGlja2VyLndpZGdldCh0aGlzLCBudWxsKSwgYlthXSkgcmV0dXJuIGJbYV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7CiAgICAgICAgdGhyb3cgIk1ldGhvZCAiICsgYSArICIgZG9lcyBub3QgZXhpc3QuIjsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBnai50aW1lcGlja2VyLndpZGdldCh0aGlzLCBhKTsKICAgIH0KICB9Owp9KGpRdWVyeSksIGdqLmRhdGV0aW1lcGlja2VyID0gewogIHBsdWdpbnM6IHt9LAogIG1lc3NhZ2VzOiB7CiAgICAiZW4tdXMiOiB7fQogIH0KfSwgZ2ouZGF0ZXRpbWVwaWNrZXIuY29uZmlnID0gewogIGJhc2U6IHsKICAgIGRhdGVwaWNrZXI6IGdqLmRhdGVwaWNrZXIuY29uZmlnLmJhc2UsCiAgICB0aW1lcGlja2VyOiBnai50aW1lcGlja2VyLmNvbmZpZy5iYXNlLAogICAgdWlMaWJyYXJ5OiAibWF0ZXJpYWxkZXNpZ24iLAogICAgdmFsdWU6IHZvaWQgMCwKICAgIGZvcm1hdDogIkhIOk1NIG1tL2RkL3l5eXkiLAogICAgd2lkdGg6IHZvaWQgMCwKICAgIG1vZGFsOiAhMSwKICAgIGZvb3RlcjogITEsCiAgICBzaXplOiAiZGVmYXVsdCIsCiAgICBsb2NhbGU6ICJlbi11cyIsCiAgICBpY29uczoge30sCiAgICBzdHlsZTogewogICAgICBjYWxlbmRhcjogImdqLXBpY2tlciBnai1waWNrZXItbWQgZGF0ZXRpbWVwaWNrZXIgZ2otdW5zZWxlY3RhYmxlIgogICAgfQogIH0sCiAgYm9vdHN0cmFwOiB7CiAgICBzdHlsZTogewogICAgICBjYWxlbmRhcjogImdqLXBpY2tlciBnai1waWNrZXItYm9vdHN0cmFwIGRhdGV0aW1lcGlja2VyIGdqLXVuc2VsZWN0YWJsZSIKICAgIH0sCiAgICBpY29uc0xpYnJhcnk6ICJnbHlwaGljb25zIgogIH0sCiAgYm9vdHN0cmFwNDogewogICAgc3R5bGU6IHsKICAgICAgY2FsZW5kYXI6ICJnai1waWNrZXIgZ2otcGlja2VyLWJvb3RzdHJhcCBkYXRldGltZXBpY2tlciBnai11bnNlbGVjdGFibGUiCiAgICB9CiAgfQp9LCBnai5kYXRldGltZXBpY2tlci5tZXRob2RzID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgcmV0dXJuIGdqLndpZGdldC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIGEsICJkYXRldGltZXBpY2tlciIpLCB0aGlzLmF0dHIoImRhdGEtZGF0ZXRpbWVwaWNrZXIiLCAidHJ1ZSIpLCBnai5kYXRldGltZXBpY2tlci5tZXRob2RzLmluaXRpYWxpemUodGhpcyksIHRoaXM7CiAgfSwKICBnZXRDb25maWc6IGZ1bmN0aW9uIGdldENvbmZpZyhhLCBiKSB7CiAgICB2YXIgYyA9IGdqLndpZGdldC5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcywgYSwgYik7CiAgICByZXR1cm4gdWlMaWJyYXJ5ID0gYS5oYXNPd25Qcm9wZXJ0eSgidWlMaWJyYXJ5IikgPyBhLnVpTGlicmFyeSA6IGMudWlMaWJyYXJ5LCBnai5kYXRlcGlja2VyLmNvbmZpZ1t1aUxpYnJhcnldICYmICQuZXh0ZW5kKCEwLCBjLmRhdGVwaWNrZXIsIGdqLmRhdGVwaWNrZXIuY29uZmlnW3VpTGlicmFyeV0pLCBnai50aW1lcGlja2VyLmNvbmZpZ1t1aUxpYnJhcnldICYmICQuZXh0ZW5kKCEwLCBjLnRpbWVwaWNrZXIsIGdqLnRpbWVwaWNrZXIuY29uZmlnW3VpTGlicmFyeV0pLCBpY29uc0xpYnJhcnkgPSBhLmhhc093blByb3BlcnR5KCJpY29uc0xpYnJhcnkiKSA/IGEuaWNvbnNMaWJyYXJ5IDogYy5pY29uc0xpYnJhcnksIGdqLmRhdGVwaWNrZXIuY29uZmlnW2ljb25zTGlicmFyeV0gJiYgJC5leHRlbmQoITAsIGMuZGF0ZXBpY2tlciwgZ2ouZGF0ZXBpY2tlci5jb25maWdbaWNvbnNMaWJyYXJ5XSksIGdqLnRpbWVwaWNrZXIuY29uZmlnW2ljb25zTGlicmFyeV0gJiYgJC5leHRlbmQoITAsIGMudGltZXBpY2tlciwgZ2oudGltZXBpY2tlci5jb25maWdbaWNvbnNMaWJyYXJ5XSksIGM7CiAgfSwKICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKGEpIHsKICAgIHZhciBiLAogICAgICAgIGMsCiAgICAgICAgZCwKICAgICAgICBlLAogICAgICAgIGYsCiAgICAgICAgZywKICAgICAgICBoLAogICAgICAgIGksCiAgICAgICAgaiA9IGEuZGF0YSgpOwogICAgai5kYXRlcGlja2VyLnVpTGlicmFyeSA9IGoudWlMaWJyYXJ5LCBqLmRhdGVwaWNrZXIuaWNvbnNMaWJyYXJ5ID0gai5pY29uc0xpYnJhcnksIGouZGF0ZXBpY2tlci53aWR0aCA9IGoud2lkdGgsIGouZGF0ZXBpY2tlci5mb3JtYXQgPSBqLmZvcm1hdCwgai5kYXRlcGlja2VyLmxvY2FsZSA9IGoubG9jYWxlLCBqLmRhdGVwaWNrZXIubW9kYWwgPSBqLm1vZGFsLCBqLmRhdGVwaWNrZXIuZm9vdGVyID0gai5mb290ZXIsIGouZGF0ZXBpY2tlci5zdHlsZS5jYWxlbmRhciA9IGouc3R5bGUuY2FsZW5kYXIsIGouZGF0ZXBpY2tlci52YWx1ZSA9IGoudmFsdWUsIGouZGF0ZXBpY2tlci5zaXplID0gai5zaXplLCBqLmRhdGVwaWNrZXIuYXV0b0Nsb3NlID0gITEsIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5pbml0aWFsaXplKGEsIGouZGF0ZXBpY2tlciksIGEub24oInNlbGVjdCIsIGZ1bmN0aW9uIChjLCBkKSB7CiAgICAgIHZhciBlLCBmOwogICAgICAiZGF5IiA9PT0gZCA/IGdqLmRhdGV0aW1lcGlja2VyLm1ldGhvZHMuY3JlYXRlU2hvd0hvdXJIYW5kbGVyKGEsIGIsIGopKCkgOiAibWludXRlIiA9PT0gZCAmJiBiLmF0dHIoInNlbGVjdGVkRGF5IikgJiYgITAgIT09IGouZm9vdGVyICYmIChzZWxlY3RlZERheSA9IGIuYXR0cigic2VsZWN0ZWREYXkiKS5zcGxpdCgiLSIpLCBlID0gbmV3IERhdGUoc2VsZWN0ZWREYXlbMF0sIHNlbGVjdGVkRGF5WzFdLCBzZWxlY3RlZERheVsyXSwgYi5hdHRyKCJob3VyIikgfHwgMCwgYi5hdHRyKCJtaW51dGUiKSB8fCAwKSwgZiA9IGdqLmNvcmUuZm9ybWF0RGF0ZShlLCBqLmZvcm1hdCwgai5sb2NhbGUpLCBhLnZhbChmKSwgZ2ouZGF0ZXRpbWVwaWNrZXIuZXZlbnRzLmNoYW5nZShhKSwgZ2ouZGF0ZXRpbWVwaWNrZXIubWV0aG9kcy5jbG9zZShhKSk7CiAgICB9KSwgYS5vbigib3BlbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSBiLmNoaWxkcmVuKCdbcm9sZT0iaGVhZGVyIl0nKTsKICAgICAgYS5maW5kKCdbcm9sZT0iY2FsZW5kYXJNb2RlIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgYS5maW5kKCdbcm9sZT0iY2xvY2tNb2RlIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKTsKICAgIH0pLCBiID0gJCgiYm9keSIpLmZpbmQoJ1tyb2xlPSJjYWxlbmRhciJdW2d1aWQ9IicgKyBhLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJyksIGYgPSBqLnZhbHVlID8gZ2ouY29yZS5wYXJzZURhdGUoai52YWx1ZSwgai5mb3JtYXQsIGoubG9jYWxlKSA6IG5ldyBEYXRlKCksIGIuYXR0cigiaG91ciIsIGYuZ2V0SG91cnMoKSksIGIuYXR0cigibWludXRlIiwgZi5nZXRNaW51dGVzKCkpLCBqLnRpbWVwaWNrZXIudWlMaWJyYXJ5ID0gai51aUxpYnJhcnksIGoudGltZXBpY2tlci5pY29uc0xpYnJhcnkgPSBqLmljb25zTGlicmFyeSwgai50aW1lcGlja2VyLmZvcm1hdCA9IGouZm9ybWF0LCBqLnRpbWVwaWNrZXIubG9jYWxlID0gai5sb2NhbGUsIGoudGltZXBpY2tlci5oZWFkZXIgPSAhMCwgai50aW1lcGlja2VyLmZvb3RlciA9IGouZm9vdGVyLCBqLnRpbWVwaWNrZXIuc2l6ZSA9IGouc2l6ZSwgai50aW1lcGlja2VyLm1vZGUgPSAiMjRociIsIGoudGltZXBpY2tlci5hdXRvQ2xvc2UgPSAhMSwgYyA9ICQoJzxkaXYgcm9sZT0iaGVhZGVyIiAvPicpLCBkID0gJCgnPGRpdiByb2xlPSJkYXRlIiBjbGFzcz0ic2VsZWN0ZWQiIC8+JyksIGQub24oImNsaWNrIiwgZ2ouZGF0ZXRpbWVwaWNrZXIubWV0aG9kcy5jcmVhdGVTaG93RGF0ZUhhbmRsZXIoYSwgYiwgaikpLCBkLmh0bWwoZ2ouY29yZS5mb3JtYXREYXRlKG5ldyBEYXRlKCksICJkZGQsIG1tbSBkZCIsIGoubG9jYWxlKSksIGMuYXBwZW5kKGQpLCBnID0gJCgnPGRpdiByb2xlPSJzd2l0Y2giPjwvZGl2PicpLCBoID0gJCgnPGkgY2xhc3M9ImdqLWljb24gc2VsZWN0ZWQiIHJvbGU9ImNhbGVuZGFyTW9kZSI+ZXZlbnQ8L2k+JyksIGgub24oImNsaWNrIiwgZ2ouZGF0ZXRpbWVwaWNrZXIubWV0aG9kcy5jcmVhdGVTaG93RGF0ZUhhbmRsZXIoYSwgYiwgaikpLCBnLmFwcGVuZChoKSwgZSA9ICQoJzxkaXYgcm9sZT0idGltZSIgLz4nKSwgZS5hcHBlbmQoJCgnPGRpdiByb2xlPSJob3VyIiAvPicpLm9uKCJjbGljayIsIGdqLmRhdGV0aW1lcGlja2VyLm1ldGhvZHMuY3JlYXRlU2hvd0hvdXJIYW5kbGVyKGEsIGIsIGopKS5odG1sKGdqLmNvcmUuZm9ybWF0RGF0ZShuZXcgRGF0ZSgpLCAiSEgiLCBqLmxvY2FsZSkpKSwgZS5hcHBlbmQoIjoiKSwgZS5hcHBlbmQoJCgnPGRpdiByb2xlPSJtaW51dGUiIC8+Jykub24oImNsaWNrIiwgZ2ouZGF0ZXRpbWVwaWNrZXIubWV0aG9kcy5jcmVhdGVTaG93TWludXRlSGFuZGxlcihhLCBiLCBqKSkuaHRtbChnai5jb3JlLmZvcm1hdERhdGUobmV3IERhdGUoKSwgIk1NIiwgai5sb2NhbGUpKSksIGcuYXBwZW5kKGUpLCBpID0gJCgnPGkgY2xhc3M9ImdqLWljb24iIHJvbGU9ImNsb2NrTW9kZSI+Y2xvY2s8L2k+JyksIGkub24oImNsaWNrIiwgZ2ouZGF0ZXRpbWVwaWNrZXIubWV0aG9kcy5jcmVhdGVTaG93SG91ckhhbmRsZXIoYSwgYiwgaikpLCBnLmFwcGVuZChpKSwgYy5hcHBlbmQoZyksIGIucHJlcGVuZChjKTsKICB9LAogIGNyZWF0ZVNob3dEYXRlSGFuZGxlcjogZnVuY3Rpb24gY3JlYXRlU2hvd0RhdGVIYW5kbGVyKGEsIGIsIGMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZCkgewogICAgICB2YXIgZSA9IGIuY2hpbGRyZW4oJ1tyb2xlPSJoZWFkZXIiXScpOwogICAgICBlLmZpbmQoJ1tyb2xlPSJjYWxlbmRhck1vZGUiXScpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCBlLmZpbmQoJ1tyb2xlPSJkYXRlIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgZS5maW5kKCdbcm9sZT0iY2xvY2tNb2RlIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSwgZS5maW5kKCdbcm9sZT0iaG91ciJdJykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIGUuZmluZCgnW3JvbGU9Im1pbnV0ZSJdJykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5yZW5kZXJNb250aChhLCBiLCBjLmRhdGVwaWNrZXIpOwogICAgfTsKICB9LAogIGNyZWF0ZVNob3dIb3VySGFuZGxlcjogZnVuY3Rpb24gY3JlYXRlU2hvd0hvdXJIYW5kbGVyKGEsIGIsIGMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkID0gYi5jaGlsZHJlbignW3JvbGU9ImhlYWRlciJdJyk7CiAgICAgIGQuZmluZCgnW3JvbGU9ImNhbGVuZGFyTW9kZSJdJykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIGQuZmluZCgnW3JvbGU9ImRhdGUiXScpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCBkLmZpbmQoJ1tyb2xlPSJjbG9ja01vZGUiXScpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCBkLmZpbmQoJ1tyb2xlPSJob3VyIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgZC5maW5kKCdbcm9sZT0ibWludXRlIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSwgZ2oudGltZXBpY2tlci5tZXRob2RzLmluaXRNb3VzZShiLmNoaWxkcmVuKCdbcm9sZT0iYm9keSJdJyksIGEsIGIsIGMudGltZXBpY2tlciksIGdqLnRpbWVwaWNrZXIubWV0aG9kcy5yZW5kZXJIb3VycyhhLCBiLCBjLnRpbWVwaWNrZXIpOwogICAgfTsKICB9LAogIGNyZWF0ZVNob3dNaW51dGVIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVTaG93TWludXRlSGFuZGxlcihhLCBiLCBjKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZCA9IGIuY2hpbGRyZW4oJ1tyb2xlPSJoZWFkZXIiXScpOwogICAgICBkLmZpbmQoJ1tyb2xlPSJjYWxlbmRhck1vZGUiXScpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCBkLmZpbmQoJ1tyb2xlPSJkYXRlIl0nKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSwgZC5maW5kKCdbcm9sZT0iY2xvY2tNb2RlIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgZC5maW5kKCdbcm9sZT0iaG91ciJdJykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIGQuZmluZCgnW3JvbGU9Im1pbnV0ZSJdJykuYWRkQ2xhc3MoInNlbGVjdGVkIiksIGdqLnRpbWVwaWNrZXIubWV0aG9kcy5pbml0TW91c2UoYi5jaGlsZHJlbignW3JvbGU9ImJvZHkiXScpLCBhLCBiLCBjLnRpbWVwaWNrZXIpLCBnai50aW1lcGlja2VyLm1ldGhvZHMucmVuZGVyTWludXRlcyhhLCBiLCBjLnRpbWVwaWNrZXIpOwogICAgfTsKICB9LAogIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShhKSB7CiAgICB2YXIgYiA9ICQoImJvZHkiKS5maW5kKCdbcm9sZT0iY2FsZW5kYXIiXVtndWlkPSInICsgYS5hdHRyKCJkYXRhLWd1aWQiKSArICciXScpOwogICAgYi5oaWRlKCksIGIuY2xvc2VzdCgnZGl2W3JvbGU9Im1vZGFsIl0nKS5oaWRlKCk7CiAgfSwKICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCwKICAgICAgICBlLAogICAgICAgIGYgPSBhLmRhdGEoKTsKICAgIHJldHVybiB2b2lkIDAgPT09IGIgPyBhLnZhbCgpIDogKGQgPSBnai5jb3JlLnBhcnNlRGF0ZShiLCBmLmZvcm1hdCwgZi5sb2NhbGUpLCBkID8gKGMgPSAkKCJib2R5IikuZmluZCgnW3JvbGU9ImNhbGVuZGFyIl1bZ3VpZD0iJyArIGEuYXR0cigiZGF0YS1ndWlkIikgKyAnIl0nKSwgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLmRheUNsaWNrSGFuZGxlcihhLCBjLCBmLCBkKSgpLCBlID0gZC5nZXRIb3VycygpLCAiYW1wbSIgPT09IGYubW9kZSAmJiBjLmF0dHIoIm1vZGUiLCBlID4gMTIgPyAicG0iIDogImFtIiksIGMuYXR0cigiaG91ciIsIGUpLCBjLmF0dHIoIm1pbnV0ZSIsIGQuZ2V0TWludXRlcygpKSwgYS52YWwoYikpIDogYS52YWwoIiIpLCBhKTsKICB9LAogIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koYSkgewogICAgdmFyIGIgPSBhLmRhdGEoKSwKICAgICAgICBjID0gYS5wYXJlbnQoKSwKICAgICAgICBkID0gJCgiYm9keSIpLmZpbmQoJ1tyb2xlPSJjYWxlbmRhciJdW2d1aWQ9IicgKyBhLmF0dHIoImRhdGEtZ3VpZCIpICsgJyJdJyk7CiAgICByZXR1cm4gYiAmJiAoYS5vZmYoKSwgZC5wYXJlbnQoJ1tyb2xlPSJtb2RhbCJdJykubGVuZ3RoID4gMCAmJiBkLnVud3JhcCgpLCBkLnJlbW92ZSgpLCBhLnJlbW92ZURhdGEoKSwgYS5yZW1vdmVBdHRyKCJkYXRhLXR5cGUiKS5yZW1vdmVBdHRyKCJkYXRhLWd1aWQiKS5yZW1vdmVBdHRyKCJkYXRhLWRhdGV0aW1lcGlja2VyIiksIGEucmVtb3ZlQ2xhc3MoKSwgYy5jaGlsZHJlbignW3JvbGU9InJpZ2h0LWljb24iXScpLnJlbW92ZSgpLCBhLnVud3JhcCgpKSwgYTsKICB9Cn0sIGdqLmRhdGV0aW1lcGlja2VyLmV2ZW50cyA9IHsKICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShhKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiY2hhbmdlIik7CiAgfQp9LCBnai5kYXRldGltZXBpY2tlci53aWRnZXQgPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gdGhpcywKICAgICAgZCA9IGdqLmRhdGV0aW1lcGlja2VyLm1ldGhvZHM7CiAgcmV0dXJuIGMubW91c2VNb3ZlID0gITEsIGMudmFsdWUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGQudmFsdWUodGhpcywgYSk7CiAgfSwgYy5vcGVuID0gZnVuY3Rpb24gKCkgewogICAgZ2ouZGF0ZXBpY2tlci5tZXRob2RzLm9wZW4odGhpcywgdGhpcy5kYXRhKCkuZGF0ZXBpY2tlcik7CiAgfSwgYy5jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgIGdqLmRhdGVwaWNrZXIubWV0aG9kcy5jbG9zZSh0aGlzKTsKICB9LCBjLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5kZXN0cm95KHRoaXMpOwogIH0sICQuZXh0ZW5kKGEsIGMpLCAidHJ1ZSIgIT09IGEuYXR0cigiZGF0YS1kYXRldGltZXBpY2tlciIpICYmIGQuaW5pdC5jYWxsKGEsIGIpLCBhOwp9LCBnai5kYXRldGltZXBpY2tlci53aWRnZXQucHJvdG90eXBlID0gbmV3IGdqLndpZGdldCgpLCBnai5kYXRldGltZXBpY2tlci53aWRnZXQuY29uc3RydWN0b3IgPSBnai5kYXRldGltZXBpY2tlci53aWRnZXQsIGdqLmRhdGV0aW1lcGlja2VyLndpZGdldC5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZ2ouZGF0ZXRpbWVwaWNrZXIubWV0aG9kcy5nZXRDb25maWcsIGZ1bmN0aW9uIChhKSB7CiAgYS5mbi5kYXRldGltZXBpY2tlciA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYjsKCiAgICBpZiAodGhpcyAmJiB0aGlzLmxlbmd0aCkgewogICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZihhKSAmJiBhKSB7CiAgICAgICAgaWYgKGIgPSBuZXcgZ2ouZGF0ZXRpbWVwaWNrZXIud2lkZ2V0KHRoaXMsIG51bGwpLCBiW2FdKSByZXR1cm4gYlthXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgICAgICB0aHJvdyAiTWV0aG9kICIgKyBhICsgIiBkb2VzIG5vdCBleGlzdC4iOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IGdqLmRhdGV0aW1lcGlja2VyLndpZGdldCh0aGlzLCBhKTsKICAgIH0KICB9Owp9KGpRdWVyeSksIGdqLnNsaWRlciA9IHsKICBwbHVnaW5zOiB7fSwKICBtZXNzYWdlczogewogICAgImVuLXVzIjoge30KICB9Cn0sIGdqLnNsaWRlci5jb25maWcgPSB7CiAgYmFzZTogewogICAgbWluOiAwLAogICAgbWF4OiAxMDAsCiAgICB3aWR0aDogdm9pZCAwLAogICAgdWlMaWJyYXJ5OiAibWF0ZXJpYWxkZXNpZ24iLAogICAgdmFsdWU6IHZvaWQgMCwKICAgIGljb25zOiB7fSwKICAgIHN0eWxlOiB7CiAgICAgIHdyYXBwZXI6ICJnai1zbGlkZXIgZ2otc2xpZGVyLW1kIiwKICAgICAgcHJvZ3Jlc3M6IHZvaWQgMCwKICAgICAgdHJhY2s6IHZvaWQgMAogICAgfQogIH0sCiAgYm9vdHN0cmFwOiB7CiAgICBzdHlsZTogewogICAgICB3cmFwcGVyOiAiZ2otc2xpZGVyIGdqLXNsaWRlci1ib290c3RyYXAgZ2otc2xpZGVyLWJvb3RzdHJhcC0zIiwKICAgICAgcHJvZ3Jlc3M6ICJwcm9ncmVzcy1iYXIiLAogICAgICB0cmFjazogInByb2dyZXNzIgogICAgfQogIH0sCiAgYm9vdHN0cmFwNDogewogICAgc3R5bGU6IHsKICAgICAgd3JhcHBlcjogImdqLXNsaWRlciBnai1zbGlkZXItYm9vdHN0cmFwIGdqLXNsaWRlci1ib290c3RyYXAtNCIsCiAgICAgIHByb2dyZXNzOiAicHJvZ3Jlc3MtYmFyIiwKICAgICAgdHJhY2s6ICJwcm9ncmVzcyIKICAgIH0KICB9Cn0sIGdqLnNsaWRlci5tZXRob2RzID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSkgewogICAgcmV0dXJuIGdqLndpZGdldC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIGEsICJzbGlkZXIiKSwgdGhpcy5hdHRyKCJkYXRhLXNsaWRlciIsICJ0cnVlIiksIGdqLnNsaWRlci5tZXRob2RzLmluaXRpYWxpemUodGhpcywgdGhpcy5kYXRhKCkpLCB0aGlzOwogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShhLCBiKSB7CiAgICB2YXIgYywgZCwgZSwgZjsKICAgIGFbMF0uc3R5bGUuZGlzcGxheSA9ICJub25lIiwgIndyYXBwZXIiICE9PSBhWzBdLnBhcmVudEVsZW1lbnQuYXR0cmlidXRlcy5yb2xlID8gKGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgYy5zZXRBdHRyaWJ1dGUoInJvbGUiLCAid3JhcHBlciIpLCBhWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGMsIGFbMF0pLCBjLmFwcGVuZENoaWxkKGFbMF0pKSA6IGMgPSBhWzBdLnBhcmVudEVsZW1lbnQsIGIud2lkdGggJiYgKGMuc3R5bGUud2lkdGggPSBiLndpZHRoICsgInB4IiksIGdqLmNvcmUuYWRkQ2xhc3NlcyhjLCBiLnN0eWxlLndyYXBwZXIpLCBkID0gYVswXS5xdWVyeVNlbGVjdG9yKCdbcm9sZT0idHJhY2siXScpLCBudWxsID09IGQgJiYgKGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgZC5zZXRBdHRyaWJ1dGUoInJvbGUiLCAidHJhY2siKSwgYy5hcHBlbmRDaGlsZChkKSksIGdqLmNvcmUuYWRkQ2xhc3NlcyhkLCBiLnN0eWxlLnRyYWNrKSwgZSA9IGFbMF0ucXVlcnlTZWxlY3RvcignW3JvbGU9ImhhbmRsZSJdJyksIG51bGwgPT0gZSAmJiAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBlLnNldEF0dHJpYnV0ZSgicm9sZSIsICJoYW5kbGUiKSwgYy5hcHBlbmRDaGlsZChlKSksIGYgPSBhWzBdLnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPSJwcm9ncmVzcyJdJyksIG51bGwgPT0gZiAmJiAoZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBmLnNldEF0dHJpYnV0ZSgicm9sZSIsICJwcm9ncmVzcyIpLCBjLmFwcGVuZENoaWxkKGYpKSwgZ2ouY29yZS5hZGRDbGFzc2VzKGYsIGIuc3R5bGUucHJvZ3Jlc3MpLCBiLnZhbHVlIHx8IChiLnZhbHVlID0gYi5taW4pLCBnai5zbGlkZXIubWV0aG9kcy52YWx1ZShhLCBiLCBiLnZhbHVlKSwgZ2ouZG9jdW1lbnRNYW5hZ2VyLnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZXVwIiwgYS5kYXRhKCJndWlkIiksIGdqLnNsaWRlci5tZXRob2RzLmNyZWF0ZU1vdXNlVXBIYW5kbGVyKGEsIGUsIGIpKSwgZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCBnai5zbGlkZXIubWV0aG9kcy5jcmVhdGVNb3VzZURvd25IYW5kbGVyKGUsIGIpKSwgZ2ouZG9jdW1lbnRNYW5hZ2VyLnN1YnNjcmliZUZvckV2ZW50KCJtb3VzZW1vdmUiLCBhLmRhdGEoImd1aWQiKSwgZ2ouc2xpZGVyLm1ldGhvZHMuY3JlYXRlTW91c2VNb3ZlSGFuZGxlcihhLCBkLCBlLCBmLCBiKSksIGUuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoYSkgewogICAgICBhLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSksIGMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBnai5zbGlkZXIubWV0aG9kcy5jcmVhdGVDbGlja0hhbmRsZXIoYSwgZCwgZSwgYikpOwogIH0sCiAgY3JlYXRlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVDbGlja0hhbmRsZXIoYSwgYiwgYywgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBmLCBnLCBoLCBpLCBqOwogICAgICAidHJ1ZSIgIT09IGMuZ2V0QXR0cmlidXRlKCJkcmFnIikgJiYgKGYgPSBnai5jb3JlLnBvc2l0aW9uKGFbMF0ucGFyZW50RWxlbWVudCksIGcgPSBuZXcgZ2oud2lkZ2V0KCkubW91c2VYKGUpIC0gZi5sZWZ0LCBoID0gZ2ouY29yZS53aWR0aChjKSAvIDIsIGkgPSBnai5jb3JlLndpZHRoKGIpIC8gKGQubWF4IC0gZC5taW4pLCBqID0gTWF0aC5yb3VuZCgoZyAtIGgpIC8gaSkgKyBkLm1pbiwgZ2ouc2xpZGVyLm1ldGhvZHMudmFsdWUoYSwgZCwgaikpOwogICAgfTsKICB9LAogIGNyZWF0ZU1vdXNlVXBIYW5kbGVyOiBmdW5jdGlvbiBjcmVhdGVNb3VzZVVwSGFuZGxlcihhLCBiLCBjKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGMpIHsKICAgICAgInRydWUiID09PSBiLmdldEF0dHJpYnV0ZSgiZHJhZyIpICYmIChiLnNldEF0dHJpYnV0ZSgiZHJhZyIsICJmYWxzZSIpLCBnai5zbGlkZXIuZXZlbnRzLmNoYW5nZShhKSk7CiAgICB9OwogIH0sCiAgY3JlYXRlTW91c2VEb3duSGFuZGxlcjogZnVuY3Rpb24gY3JlYXRlTW91c2VEb3duSGFuZGxlcihhLCBiKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHsKICAgICAgYS5zZXRBdHRyaWJ1dGUoImRyYWciLCAidHJ1ZSIpOwogICAgfTsKICB9LAogIGNyZWF0ZU1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uIGNyZWF0ZU1vdXNlTW92ZUhhbmRsZXIoYSwgYiwgYywgZCwgZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICAgIHZhciBmLCBnLCBoLCBpLCBqLCBrLCBsOwogICAgICAidHJ1ZSIgPT09IGMuZ2V0QXR0cmlidXRlKCJkcmFnIikgJiYgKGYgPSBnai5jb3JlLnBvc2l0aW9uKGFbMF0ucGFyZW50RWxlbWVudCksIGcgPSBuZXcgZ2oud2lkZ2V0KCkubW91c2VYKGQpIC0gZi5sZWZ0LCBoID0gZ2ouY29yZS53aWR0aChiKSwgaSA9IGdqLmNvcmUud2lkdGgoYykgLyAyLCBqID0gaCAvIChlLm1heCAtIGUubWluKSwgayA9IChlLnZhbHVlIC0gZS5taW4pICogaiwgZyA+PSBpICYmIGcgPD0gaCArIGkgJiYgKGcgPiBrICsgaiAvIDIgfHwgZyA8IGsgLSBqIC8gMikgJiYgKGwgPSBNYXRoLnJvdW5kKChnIC0gaSkgLyBqKSArIGUubWluLCBnai5zbGlkZXIubWV0aG9kcy52YWx1ZShhLCBlLCBsKSkpOwogICAgfTsKICB9LAogIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShhLCBiLCBjKSB7CiAgICB2YXIgZCwgZSwgZiwgZzsKICAgIHJldHVybiB2b2lkIDAgPT09IGMgPyBhWzBdLnZhbHVlIDogKGFbMF0uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIGMpLCBiLnZhbHVlID0gYywgZSA9IGEucGFyZW50KCkuY2hpbGRyZW4oJ1tyb2xlPSJ0cmFjayJdJylbMF0sIGQgPSBnai5jb3JlLndpZHRoKGUpIC8gKGIubWF4IC0gYi5taW4pLCBmID0gYS5wYXJlbnQoKS5jaGlsZHJlbignW3JvbGU9ImhhbmRsZSJdJylbMF0sIGYuc3R5bGUubGVmdCA9IChjIC0gYi5taW4pICogZCArICJweCIsIGcgPSBhLnBhcmVudCgpLmNoaWxkcmVuKCdbcm9sZT0icHJvZ3Jlc3MiXScpWzBdLCBnLnN0eWxlLndpZHRoID0gKGMgLSBiLm1pbikgKiBkICsgInB4IiwgZ2ouc2xpZGVyLmV2ZW50cy5zbGlkZShhLCBjKSwgYSk7CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KGEpIHsKICAgIHZhciBiID0gYS5kYXRhKCksCiAgICAgICAgYyA9IGEucGFyZW50KCk7CiAgICByZXR1cm4gYiAmJiAoYy5jaGlsZHJlbignW3JvbGU9InRyYWNrIl0nKS5yZW1vdmUoKSwgYy5jaGlsZHJlbignW3JvbGU9ImhhbmRsZSJdJykucmVtb3ZlKCksIGMuY2hpbGRyZW4oJ1tyb2xlPSJwcm9ncmVzcyJdJykucmVtb3ZlKCksIGEudW53cmFwKCksIGEub2ZmKCksIGEucmVtb3ZlRGF0YSgpLCBhLnJlbW92ZUF0dHIoImRhdGEtdHlwZSIpLnJlbW92ZUF0dHIoImRhdGEtZ3VpZCIpLnJlbW92ZUF0dHIoImRhdGEtc2xpZGVyIiksIGEucmVtb3ZlQ2xhc3MoKSwgYS5zaG93KCkpLCBhOwogIH0KfSwgZ2ouc2xpZGVyLmV2ZW50cyA9IHsKICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShhKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiY2hhbmdlIik7CiAgfSwKICBzbGlkZTogZnVuY3Rpb24gc2xpZGUoYSwgYikgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoInNsaWRlIiwgW2JdKTsKICB9Cn0sIGdqLnNsaWRlci53aWRnZXQgPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gdGhpcywKICAgICAgZCA9IGdqLnNsaWRlci5tZXRob2RzOwogIHJldHVybiBjLnZhbHVlID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkLnZhbHVlKHRoaXMsIHRoaXMuZGF0YSgpLCBhKTsKICB9LCBjLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZC5kZXN0cm95KHRoaXMpOwogIH0sICQuZXh0ZW5kKGEsIGMpLCAidHJ1ZSIgIT09IGEuYXR0cigiZGF0YS1zbGlkZXIiKSAmJiBkLmluaXQuY2FsbChhLCBiKSwgYTsKfSwgZ2ouc2xpZGVyLndpZGdldC5wcm90b3R5cGUgPSBuZXcgZ2oud2lkZ2V0KCksIGdqLnNsaWRlci53aWRnZXQuY29uc3RydWN0b3IgPSBnai5zbGlkZXIud2lkZ2V0LCBmdW5jdGlvbiAoYSkgewogIGEuZm4uc2xpZGVyID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiOwoKICAgIGlmICh0aGlzICYmIHRoaXMubGVuZ3RoKSB7CiAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGEpICYmIGEpIHsKICAgICAgICBpZiAoYiA9IG5ldyBnai5zbGlkZXIud2lkZ2V0KHRoaXMsIG51bGwpLCBiW2FdKSByZXR1cm4gYlthXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgICAgICB0aHJvdyAiTWV0aG9kICIgKyBhICsgIiBkb2VzIG5vdCBleGlzdC4iOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IGdqLnNsaWRlci53aWRnZXQodGhpcywgYSk7CiAgICB9CiAgfTsKfShqUXVlcnkpLCBnai5jb2xvcnBpY2tlciA9IHsKICBwbHVnaW5zOiB7fSwKICBtZXNzYWdlczogewogICAgImVuLXVzIjoge30KICB9Cn0sIGdqLmNvbG9ycGlja2VyLmNvbmZpZyA9IHsKICBiYXNlOiB7CiAgICB1aUxpYnJhcnk6ICJtYXRlcmlhbGRlc2lnbiIsCiAgICB2YWx1ZTogdm9pZCAwLAogICAgaWNvbnM6IHsKICAgICAgcmlnaHRJY29uOiAnPGkgY2xhc3M9ImdqLWljb24iPmV2ZW50PC9pPicKICAgIH0sCiAgICBzdHlsZTogewogICAgICBtb2RhbDogImdqLW1vZGFsIiwKICAgICAgd3JhcHBlcjogImdqLWNvbG9ycGlja2VyIGdqLWNvbG9ycGlja2VyLW1kIGdqLXVuc2VsZWN0YWJsZSIsCiAgICAgIGlucHV0OiAiZ2otdGV4dGJveC1tZCIsCiAgICAgIHBpY2tlcjogImdqLXBpY2tlciBnai1waWNrZXItbWQgY29sb3JwaWNrZXIgZ2otdW5zZWxlY3RhYmxlIiwKICAgICAgZm9vdGVyOiAiIiwKICAgICAgYnV0dG9uOiAiZ2otYnV0dG9uLW1kIgogICAgfQogIH0sCiAgYm9vdHN0cmFwOiB7CiAgICBzdHlsZToge30KICB9LAogIGJvb3RzdHJhcDQ6IHsKICAgIHN0eWxlOiB7fQogIH0KfSwgZ2ouY29sb3JwaWNrZXIubWV0aG9kcyA9IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGEpIHsKICAgIHJldHVybiBnai5waWNrZXIud2lkZ2V0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcywgYSwgImNvbG9ycGlja2VyIiksIGdqLmNvbG9ycGlja2VyLm1ldGhvZHMuaW5pdGlhbGl6ZSh0aGlzKSwgdGhpczsKICB9LAogIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoYSkge30sCiAgY3JlYXRlUGlja2VyOiBmdW5jdGlvbiBjcmVhdGVQaWNrZXIoYSwgYikgewogICAgdmFyIGMgPSAkKCc8ZGl2IHJvbGU9InBpY2tlciIgLz4nKS5hZGRDbGFzcyhiLnN0eWxlLnBpY2tlcikuYXR0cigiZ3VpZCIsIGEuYXR0cigiZGF0YS1ndWlkIikpOwogICAgcmV0dXJuIGMuaHRtbCgidGVzdCIpLCBjLmhpZGUoKSwgJCgiYm9keSIpLmFwcGVuZChjKSwgYzsKICB9LAogIG9wZW46IGZ1bmN0aW9uIG9wZW4oYSkgewogICAgcmV0dXJuIGEudmFsKCkgJiYgYS52YWx1ZShhLnZhbCgpKSwgZ2oucGlja2VyLndpZGdldC5wcm90b3R5cGUub3Blbi5jYWxsKGEsICJjb2xvcnBpY2tlciIpOwogIH0KfSwgZ2ouY29sb3JwaWNrZXIuZXZlbnRzID0gewogIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2UiKTsKICB9LAogIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGEpIHsKICAgIHJldHVybiBhLnRyaWdnZXJIYW5kbGVyKCJzZWxlY3QiKTsKICB9LAogIG9wZW46IGZ1bmN0aW9uIG9wZW4oYSkgewogICAgcmV0dXJuIGEudHJpZ2dlckhhbmRsZXIoIm9wZW4iKTsKICB9LAogIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShhKSB7CiAgICByZXR1cm4gYS50cmlnZ2VySGFuZGxlcigiY2xvc2UiKTsKICB9Cn0sIGdqLmNvbG9ycGlja2VyLndpZGdldCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSB0aGlzLAogICAgICBkID0gZ2ouY29sb3JwaWNrZXIubWV0aG9kczsKICByZXR1cm4gYy52YWx1ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZC52YWx1ZSh0aGlzLCBhKTsKICB9LCBjLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZ2oucGlja2VyLndpZGdldC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsICJjb2xvcnBpY2tlciIpOwogIH0sIGMub3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkLm9wZW4odGhpcyk7CiAgfSwgYy5jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBnai5waWNrZXIud2lkZ2V0LnByb3RvdHlwZS5jbG9zZS5jYWxsKHRoaXMsICJjb2xvcnBpY2tlciIpOwogIH0sICQuZXh0ZW5kKGEsIGMpLCAidHJ1ZSIgIT09IGEuYXR0cigiZGF0YS1jb2xvcnBpY2tlciIpICYmIGQuaW5pdC5jYWxsKGEsIGIpLCBhOwp9LCBnai5jb2xvcnBpY2tlci53aWRnZXQucHJvdG90eXBlID0gbmV3IGdqLnBpY2tlci53aWRnZXQoKSwgZ2ouY29sb3JwaWNrZXIud2lkZ2V0LmNvbnN0cnVjdG9yID0gZ2ouY29sb3JwaWNrZXIud2lkZ2V0LCBmdW5jdGlvbiAoYSkgewogIGEuZm4uY29sb3JwaWNrZXIgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGI7CgogICAgaWYgKHRoaXMgJiYgdGhpcy5sZW5ndGgpIHsKICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoYSkgJiYgYSkgewogICAgICAgIGlmIChiID0gbmV3IGdqLmNvbG9ycGlja2VyLndpZGdldCh0aGlzLCBudWxsKSwgYlthXSkgcmV0dXJuIGJbYV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7CiAgICAgICAgdGhyb3cgIk1ldGhvZCAiICsgYSArICIgZG9lcyBub3QgZXhpc3QuIjsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBnai5jb2xvcnBpY2tlci53aWRnZXQodGhpcywgYSk7CiAgICB9CiAgfTsKfShqUXVlcnkpOw=="},{"version":3,"sources":["/var/www/html/firebase-auth/src/assets/front/plugins/date-picker/js/gijgo.min.js"],"names":["$","jQuery","gj","widget","a","xhr","generateGUID","Math","floor","random","toString","substring","mouseX","pageX","clientX","document","documentElement","scrollLeft","body","touches","length","changedTouches","originalEvent","mouseY","pageY","clientY","scrollTop","prototype","init","b","c","d","e","attr","extend","getHTMLConfig","getConfig","guid","data","events","hasOwnProperty","on","plugin","plugins","configure","f","config","base","uiLibrary","iconsLibrary","attributes","width","value","height","align","source","dataSource","createDoneHandler","JSON","parse","methods","render","createErrorHandler","statusText","alert","reload","useHtmlDataSource","params","isArray","filter","url","abort","ajax","done","fail","dataType","stringify","success","error","documentManager","subscribeForEvent","push","widgetId","callback","executeCallbacks","type","unsubscribeForEvent","splice","off","core","messages","monthNames","monthShortNames","weekDaysMin","weekDaysShort","weekDays","am","pm","ok","cancel","titleFormat","parseDate","g","h","i","j","k","l","test","Date","indexOf","parseInt","substr","split","formatDate","getSeconds","pad","getMinutes","getHours","getDate","getDay","getMonth","getFullYear","String","center","window","css","isIE","navigator","userAgent","match","setChildPosition","getBoundingClientRect","scrollY","pageYOffset","scrollX","pageXOffset","top","innerHeight","style","round","left","clientWidth","getComputedStyle","boxSizing","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","marginTop","marginBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","marginLeft","marginRight","addClasses","classList","add","position","tagName","offsetLeft","offsetTop","offsetParent","bottom","right","setCaretAtEnd","selection","focus","createRange","moveStart","moveEnd","select","selectionStart","selectionEnd","getScrollParent","scrollHeight","clientHeight","parentNode","picker","initialize","createPicker","parent","icons","rightIcon","addClass","wrapper","wrap","val","input","fontSize","size","is","close","open","append","footer","timeout","setTimeout","mousedown","clearTimeout","destroy","constructor","call","find","show","closest","modal","hide","unwrap","remove","removeData","removeAttr","removeClass","children","dialog","autoOpen","closeButtonInHeader","closeOnEscape","draggable","locale","maxHeight","maxWidth","minHeight","minWidth","resizable","scrollable","title","content","header","headerTitle","headerCloseButton","bootstrap","bootstrap4","initialized","trigger","opening","opened","closing","closed","drag","dragStart","dragStop","resize","resizeStart","resizeStop","localization","DefaultTitle","setSize","keyup","keyCode","wrapInner","renderHeader","outerHeight","wrapAll","prepend","Close","appendTo","handle","start","stop","removeAttribute","horizontal","vertical","offset","hasClass","html","isOpen","fn","apply","Array","slice","arguments","containment","getHandleElement","createMoveHandler","createUpHandler","x","y","move","triggerHandler","droppable","hoverClass","createMouseDownHandler","createMouseMoveHandler","createMouseUpHandler","isDragging","isOver","over","out","drop","outerWidth","grid","columns","autoGenerateColumns","defaultColumnSettings","hidden","sortable","field","cssClass","headerCssClass","tooltip","icon","format","decimalDigits","tmpl","stopPropagation","renderer","mapping","dataField","totalRecordsField","paramNames","sortBy","direction","selectionType","selectionMethod","autoLoad","notFoundText","headerRowHeight","bodyRowHeight","primaryKey","defaultIconColumnWidth","defaultCheckBoxColumnWidth","table","loadingCover","loadingText","cell","rowSelected","asc","desc","materialicons","fontawesome","glyphicons","beforeEmptyRowInsert","dataBinding","dataBound","rowDataBound","cellDataBound","rowSelect","rowUnselect","rowRemoving","destroying","columnHide","columnShow","dataFiltered","setDefaultColumnConfig","each","text","eventsParser","result","list","key","func","trim","eval","getColumnPositionNotInRole","role","click","setSelected","id","appendEmptyRow","NoRecordsFound","checkbox","checked","selectAll","unSelectAll","createSortHandler","empty","count","updateHeader","getColumnPosition","after","startLoading","stopLoading","abs","Loading","insertAfter","countVisibleColumns","Object","getOwnPropertyNames","loadData","getAll","prop","not","eq","renderRow","totalRecords","getId","createRowClickHandler","renderCell","renderDisplayElement","record","createCellEventHandler","cursor","replace","formatText","parseFloat","toFixed","setRecordsData","isNaN","selectRow","getSelections","getById","unselectRow","getRowById","siblings","get","getSelected","getSelectedRows","getRecVPosById","getByPosition","getColumnInfo","getCell","setCellContent","clone","clear","records","sort","sorter","createDefaultSorter","grep","toUpperCase","localeCompare","showColumn","hideColumn","isLastRecordVisible","addRow","updateRow","index","removeRow","getColumnPositionByRole","fixedHeader","private","refresh","getRowsHeight","getScrollBarWidth","toLowerCase","createElement","visibility","overflow","appendChild","offsetWidth","removeChild","public","expandCollapseRows","detailTemplate","keepExpandedRows","expandedRows","expandRow","collapseRow","expandDetail","updateDetails","keepSelection","detailExpand","collapseDetail","next","removeSelection","detailCollapse","updateDetailsColSpan","collapseAll","grouping","collapseGroup","expandAll","expandGroup","concat","first","inlineEditing","renderers","editManager","editButton","deleteButton","updateButton","cancelButton","edit","update","editor","editField","mode","managementColumn","managementColumnConfig","Edit","Delete","Update","Cancel","editMode","updateOtherCells","dropdown","showOnFocus","datepicker","timepicker","datetimepicker","displayMode","selectedIndex","options","innerHTML","cellDataChanged","updateChanges","sessionStorage","getItem","setItem","getChanges","rowDataChanged","optimisticPersistence","localStorage","applyParams","saveParams","pagination","pager","panel","stateDisabled","activeButton","page","limit","sizes","leftControls","rightControls","previous","last","float","updatePagerColSpan","initPagerControl","localizationBootstrap","localizationBootstrap4","localizationMaterialDesign","First","FirstPageTooltip","Previous","PreviousPageTooltip","Page","Of","Next","NextPageTooltip","Last","LastPageTooltip","Refresh","DisplayingRecords","RowsPerPage","change","changePage","pageSizeChange","presenter","reloadPager","ceil","reloadPagerControl","assignPageHandler","createChangePageHandler","assignButtonHandler","pageChanging","responsiveDesign","resizeCheckInterval","responsive","showHiddenColumnsAsDetails","defaultColumn","priority","rowDetailItem","orderColumns","oldWidth","resizeCheckIntervalId","makeResponsive","setInterval","clearInterval","toolbar","toolbarTemplate","prev","before","resizableColumns","removeProperty","createResizeHandle","m","n","o","cellIndex","parentElement","setAttribute","tBodies","cells","rowReorder","rowReorderColumn","orderNumberField","targetRowIndicatorTop","targetRowIndicatorBottom","createRowMouseDownHandler","createDragStopHandler","zIndex","createDroppableOverHandler","droppableOut","export","getCSV","isColumnApplicable","downloadCSV","download","href","URL","createObjectURL","Blob","escape","columnReorder","dragReady","moveRowCells","headerFilter","filterable","which","groupBy","groupByDirection","rowIndex","createExpandCollapseHandler","insertBefore","nextUntil","tree","cascadeSelection","textField","childrenField","hasChildrenField","imageCssClassField","imageUrlField","imageHtmlField","disabledField","border","autoGenId","autoGenFieldName","indentation","item","active","leafIcon","expand","collapse","expander","unselect","enable","disable","nodeDataBound","genAutoId","appendNode","$wrapper","$expander","$display","hasChildren","disabled","disableNode","expanderClickHandler","displayClickHandler","unselectAll","has","getDataById","getDataByText","getNodeById","getNodeByText","addNode","parentsUntil","removeDataById","getChildren","enableAll","enableNode","disableAll","pathFinder","removeNode","updateNode","parents","reverse","checkboxes","checkedField","cascadeCheck","updateChildrenState","updateParentState","checkboxChange","state","getCheckedNodes","checkAll","uncheckAll","check","uncheck","dragAndDrop","dragEl","dropAsChildIcon","dropAbove","dropBelow","createNodeMouseDownHandler","createNodeMouseMoveHandler","createNodeMouseUpHandler","createDragHandler","getTargetDisplays","getTargetWrappers","nodeDrop","prevAll","refreshNode","lazyLoading","parentId","wrapperCssClass","spanCssClass","iconsCssClass","toggle","buttons","buttonsGroup","button","buttonActive","bold","italic","strikethrough","underline","listBulleted","listNumbered","indentDecrease","indentIncrease","alignLeft","alignCenter","alignRight","alignJustify","undo","redo","innerText","event","charCode","changing","preventDefault","updateToolbar","changed","executeCmd","$buttons","queryCommandEnabled","queryCommandValue","execCommand","valueField","selectedField","placeholder","dropup","setListPosition","overflowX","parentScrollHandler","addParentsScrollListener","removeParentsScrollListener","addEventListener","removeEventListener","getRecordByValue","showOtherMonths","selectOtherMonths","minDate","maxDate","weekStartDay","disableDates","disableDaysOfWeek","calendarWeeks","keyboardNavigation","previousMonth","nextMonth","showRightIcon","calendar","createCalendar","activeElement","createKeyDownHandler","getTime","renderDecade","renderMonth","createNavigation","changePeriod","p","q","r","s","t","u","v","$row","getPrevMonth","month","year","getWeekNumber","isSelectable","dayClickHandler","getNextMonth","renderYear","selectMonth","$cell","selectYear","renderCentury","selectDecade","valueOf","setDate","UTC","setUTCDate","getUTCDate","getUTCDay","getUTCFullYear","getMinDate","getMaxDate","Function","date","setMonth","selectDay","autoClose","display","getActiveCell","clock","initMouse","mouseDownHandler","mouseMoveHandler","mouseUpHandler","renderHours","renderMinutes","getHour","setTime","getMinute","getPointerValue","atan2","PI","sqrt","pow","updateArrow","target","dialMode","mouseMove","$dial","createShowHourHandler","selectedDay","createShowDateHandler","createShowMinuteHandler","slider","min","max","progress","track","querySelector","createClickHandler","getAttribute","slide","colorpicker"],"mappings":"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","sourcesContent":["import $ from 'jquery'\nimport jQuery from 'jquery'\n\n\nvar gj = {};\n(gj.widget = function () {\n    var a = this;\n    (a.xhr = null),\n        (a.generateGUID = function () {\n            function a() {\n                return Math.floor(65536 * (1 + Math.random()))\n                    .toString(16)\n                    .substring(1);\n            }\n            return a() + a() + \"-\" + a() + \"-\" + a() + \"-\" + a() + \"-\" + a() + a() + a();\n        }),\n        (a.mouseX = function (a) {\n            if (a) {\n                if (a.pageX) return a.pageX;\n                if (a.clientX) return a.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\n                if (a.touches && a.touches.length) return a.touches[0].pageX;\n                if (a.changedTouches && a.changedTouches.length) return a.changedTouches[0].pageX;\n                if (a.originalEvent && a.originalEvent.touches && a.originalEvent.touches.length) return a.originalEvent.touches[0].pageX;\n                if (a.originalEvent && a.originalEvent.changedTouches && a.originalEvent.changedTouches.length) return a.originalEvent.touches[0].pageX;\n            }\n            return null;\n        }),\n        (a.mouseY = function (a) {\n            if (a) {\n                if (a.pageY) return a.pageY;\n                if (a.clientY) return a.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\n                if (a.touches && a.touches.length) return a.touches[0].pageY;\n                if (a.changedTouches && a.changedTouches.length) return a.changedTouches[0].pageY;\n                if (a.originalEvent && a.originalEvent.touches && a.originalEvent.touches.length) return a.originalEvent.touches[0].pageY;\n                if (a.originalEvent && a.originalEvent.changedTouches && a.originalEvent.changedTouches.length) return a.originalEvent.touches[0].pageY;\n            }\n            return null;\n        });\n}),\n    (gj.widget.prototype.init = function (a, b) {\n        var c, d, e;\n        this.attr(\"data-type\", b), (d = $.extend(!0, {}, this.getHTMLConfig() || {})), $.extend(!0, d, a || {}), (e = this.getConfig(d, b)), this.attr(\"data-guid\", e.guid), this.data(e);\n        for (c in e) gj[b].events.hasOwnProperty(c) && (this.on(c, e[c]), delete e[c]);\n        for (plugin in gj[b].plugins) gj[b].plugins.hasOwnProperty(plugin) && gj[b].plugins[plugin].configure(this, e, d);\n        return this;\n    }),\n    (gj.widget.prototype.getConfig = function (a, b) {\n        var c, d, e, f;\n        (c = $.extend(!0, {}, gj[b].config.base)),\n            (d = a.hasOwnProperty(\"uiLibrary\") ? a.uiLibrary : c.uiLibrary),\n            gj[b].config[d] && $.extend(!0, c, gj[b].config[d]),\n            (e = a.hasOwnProperty(\"iconsLibrary\") ? a.iconsLibrary : c.iconsLibrary),\n            gj[b].config[e] && $.extend(!0, c, gj[b].config[e]);\n        for (f in gj[b].plugins)\n            gj[b].plugins.hasOwnProperty(f) &&\n                ($.extend(!0, c, gj[b].plugins[f].config.base), gj[b].plugins[f].config[d] && $.extend(!0, c, gj[b].plugins[f].config[d]), gj[b].plugins[f].config[e] && $.extend(!0, c, gj[b].plugins[f].config[e]));\n        return $.extend(!0, c, a), c.guid || (c.guid = this.generateGUID()), c;\n    }),\n    (gj.widget.prototype.getHTMLConfig = function () {\n        var a = this.data(),\n            b = this[0].attributes;\n        return b.width && (a.width = b.width.value), b.height && (a.height = b.height.value), b.value && (a.value = b.value.value), b.align && (a.align = b.align.value), a && a.source && ((a.dataSource = a.source), delete a.source), a;\n    }),\n    (gj.widget.prototype.createDoneHandler = function () {\n        var a = this;\n        return function (b) {\n            \"string\" == typeof b && JSON && (b = JSON.parse(b)), gj[a.data(\"type\")].methods.render(a, b);\n        };\n    }),\n    (gj.widget.prototype.createErrorHandler = function () {\n        return function (a) {\n            a && a.statusText && \"abort\" !== a.statusText && alert(a.statusText);\n        };\n    }),\n    (gj.widget.prototype.reload = function (a) {\n        var b,\n            c,\n            d = this.data(),\n            e = this.data(\"type\");\n        return (\n            void 0 === d.dataSource && gj[e].methods.useHtmlDataSource(this, d),\n            $.extend(d.params, a),\n            $.isArray(d.dataSource)\n                ? ((c = gj[e].methods.filter(this)), gj[e].methods.render(this, c))\n                : \"string\" == typeof d.dataSource\n                ? ((b = { url: d.dataSource, data: d.params }), this.xhr && this.xhr.abort(), (this.xhr = $.ajax(b).done(this.createDoneHandler()).fail(this.createErrorHandler())))\n                : \"object\" == typeof d.dataSource &&\n                  (d.dataSource.data || (d.dataSource.data = {}),\n                  $.extend(d.dataSource.data, d.params),\n                  (b = $.extend(!0, {}, d.dataSource)),\n                  \"json\" === b.dataType && \"object\" == typeof b.data && (b.data = JSON.stringify(b.data)),\n                  b.success || (b.success = this.createDoneHandler()),\n                  b.error || (b.error = this.createErrorHandler()),\n                  this.xhr && this.xhr.abort(),\n                  (this.xhr = $.ajax(b))),\n            this\n        );\n    }),\n    (gj.documentManager = {\n        events: {},\n        subscribeForEvent: function (a, b, c) {\n            if (gj.documentManager.events[a] && 0 !== gj.documentManager.events[a].length) {\n                if (gj.documentManager.events[a][b]) throw \"Event \" + a + ' for widget with guid=\"' + b + '\" is already attached.';\n                gj.documentManager.events[a].push({ widgetId: b, callback: c });\n            } else (gj.documentManager.events[a] = [{ widgetId: b, callback: c }]), $(document).on(a, gj.documentManager.executeCallbacks);\n        },\n        executeCallbacks: function (a) {\n            var b = gj.documentManager.events[a.type];\n            if (b) for (var c = 0; c < b.length; c++) b[c].callback(a);\n        },\n        unsubscribeForEvent: function (a, b) {\n            var c = !1,\n                d = gj.documentManager.events[a];\n            if (d) for (var e = 0; e < d.length; e++) d[e].widgetId === b && (d.splice(e, 1), (c = !0), 0 === d.length && ($(document).off(a), delete gj.documentManager.events[a]));\n            if (!c) throw 'The \"' + a + '\" for widget with guid=\"' + b + \"\\\" can't be removed.\";\n        },\n    }),\n    (gj.core = {\n        messages: {\n            \"en-us\": {\n                monthNames: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n                monthShortNames: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n                weekDaysMin: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n                weekDaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                weekDays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                am: \"AM\",\n                pm: \"PM\",\n                ok: \"Ok\",\n                cancel: \"Cancel\",\n                titleFormat: \"mmmm yyyy\",\n            },\n        },\n        parseDate: function (a, b, c) {\n            var d,\n                e,\n                f,\n                g,\n                h = 0,\n                i = 0,\n                j = 1,\n                k = 0,\n                l = 0;\n            if (a && \"string\" == typeof a) {\n                if (/^\\d+$/.test(a)) g = new Date(a);\n                else if (a.indexOf(\"/Date(\") > -1) g = new Date(parseInt(a.substr(6), 10));\n                else if (a) {\n                    for (f = b.split(/[\\s,-\\.\\/\\/\\:]+/), e = a.split(/[\\s]+/), e.length != f.length && (e = a.split(/[\\s,-\\.\\/\\/\\:]+/)), d = 0; d < f.length; d++)\n                        [\"d\", \"dd\"].indexOf(f[d]) > -1\n                            ? (j = parseInt(e[d], 10))\n                            : [\"m\", \"mm\"].indexOf(f[d]) > -1\n                            ? (i = parseInt(e[d], 10) - 1)\n                            : \"mmm\" === f[d]\n                            ? (i = gj.core.messages[c || \"en-us\"].monthShortNames.indexOf(e[d]))\n                            : \"mmmm\" === f[d]\n                            ? (i = gj.core.messages[c || \"en-us\"].monthNames.indexOf(e[d]))\n                            : [\"yy\", \"yyyy\"].indexOf(f[d]) > -1\n                            ? ((h = parseInt(e[d], 10)), \"yy\" === f[d] && (h += 2e3))\n                            : [\"h\", \"hh\", \"H\", \"HH\"].indexOf(f[d]) > -1\n                            ? (k = parseInt(e[d], 10))\n                            : [\"M\", \"MM\"].indexOf(f[d]) > -1 && (l = parseInt(e[d], 10));\n                    g = new Date(h, i, j, k, l);\n                }\n            } else \"number\" == typeof a ? (g = new Date(a)) : a instanceof Date && (g = a);\n            return g;\n        },\n        formatDate: function (a, b, c) {\n            var d,\n                e,\n                f = \"\",\n                g = b.split(/[\\s,-\\.\\/\\/\\:]+/),\n                h = b.split(/s+|M+|H+|h+|t+|T+|d+|m+|y+/);\n            for (h = h.splice(1, h.length - 2), i = 0; i < g.length; i++)\n                switch (((d = h[i] || \"\"), g[i])) {\n                    case \"s\":\n                        f += a.getSeconds() + d;\n                        break;\n                    case \"ss\":\n                        f += gj.core.pad(a.getSeconds()) + d;\n                        break;\n                    case \"M\":\n                        f += a.getMinutes() + d;\n                        break;\n                    case \"MM\":\n                        f += gj.core.pad(a.getMinutes()) + d;\n                        break;\n                    case \"H\":\n                        f += a.getHours() + d;\n                        break;\n                    case \"HH\":\n                        f += gj.core.pad(a.getHours()) + d;\n                        break;\n                    case \"h\":\n                        (e = a.getHours() > 12 ? a.getHours() % 12 : a.getHours()), (f += e + d);\n                        break;\n                    case \"hh\":\n                        (e = a.getHours() > 12 ? a.getHours() % 12 : a.getHours()), (f += gj.core.pad(e) + d);\n                        break;\n                    case \"tt\":\n                        f += (a.getHours() >= 12 ? \"pm\" : \"am\") + d;\n                        break;\n                    case \"TT\":\n                        f += (a.getHours() >= 12 ? \"PM\" : \"AM\") + d;\n                        break;\n                    case \"d\":\n                        f += a.getDate() + d;\n                        break;\n                    case \"dd\":\n                        f += gj.core.pad(a.getDate()) + d;\n                        break;\n                    case \"ddd\":\n                        f += gj.core.messages[c || \"en-us\"].weekDaysShort[a.getDay()] + d;\n                        break;\n                    case \"dddd\":\n                        f += gj.core.messages[c || \"en-us\"].weekDays[a.getDay()] + d;\n                        break;\n                    case \"m\":\n                        f += a.getMonth() + 1 + d;\n                        break;\n                    case \"mm\":\n                        f += gj.core.pad(a.getMonth() + 1) + d;\n                        break;\n                    case \"mmm\":\n                        f += gj.core.messages[c || \"en-us\"].monthShortNames[a.getMonth()] + d;\n                        break;\n                    case \"mmmm\":\n                        f += gj.core.messages[c || \"en-us\"].monthNames[a.getMonth()] + d;\n                        break;\n                    case \"yy\":\n                        f += a.getFullYear().toString().substr(2) + d;\n                        break;\n                    case \"yyyy\":\n                        f += a.getFullYear() + d;\n                }\n            return f;\n        },\n        pad: function (a, b) {\n            for (a = String(a), b = b || 2; a.length < b; ) a = \"0\" + a;\n            return a;\n        },\n        center: function (a) {\n            var b = $(window).width() / 2 - a.width() / 2,\n                c = $(window).height() / 2 - a.height() / 2;\n            a.css(\"position\", \"absolute\"), a.css(\"left\", b > 0 ? b : 0), a.css(\"top\", c > 0 ? c : 0);\n        },\n        isIE: function () {\n            return !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g);\n        },\n        setChildPosition: function (a, b) {\n            var c = a.getBoundingClientRect(),\n                d = gj.core.height(a, !0),\n                e = gj.core.height(b, !0),\n                f = gj.core.width(a, !0),\n                g = gj.core.width(b, !0),\n                h = window.scrollY || window.pageYOffset || 0,\n                i = window.scrollX || window.pageXOffset || 0;\n            c.top + d + e > window.innerHeight && c.top > e ? (b.style.top = Math.round(c.top + h - e - 3) + \"px\") : (b.style.top = Math.round(c.top + h + d + 3) + \"px\"),\n                c.left + g > document.body.clientWidth ? (b.style.left = Math.round(c.left + i + f - g) + \"px\") : (b.style.left = Math.round(c.left + i) + \"px\");\n        },\n        height: function (a, b) {\n            var c,\n                d = window.getComputedStyle(a);\n            return (\n                \"border-box\" === d.boxSizing\n                    ? ((c = parseInt(d.height, 10)), gj.core.isIE() && ((c += parseInt(d.paddingTop || 0, 10) + parseInt(d.paddingBottom || 0, 10)), (c += parseInt(d.borderTopWidth || 0, 10) + parseInt(d.borderBottomWidth || 0, 10))))\n                    : ((c = parseInt(d.height, 10)), (c += parseInt(d.paddingTop || 0, 10) + parseInt(d.paddingBottom || 0, 10)), (c += parseInt(d.borderTopWidth || 0, 10) + parseInt(d.borderBottomWidth || 0, 10))),\n                b && (c += parseInt(d.marginTop || 0, 10) + parseInt(d.marginBottom || 0, 10)),\n                c\n            );\n        },\n        width: function (a, b) {\n            var c,\n                d = window.getComputedStyle(a);\n            return (\n                \"border-box\" === d.boxSizing\n                    ? (c = parseInt(d.width, 10))\n                    : ((c = parseInt(d.width, 10)), (c += parseInt(d.paddingLeft || 0, 10) + parseInt(d.paddingRight || 0, 10)), (c += parseInt(d.borderLeftWidth || 0, 10) + parseInt(d.borderRightWidth || 0, 10))),\n                b && (c += parseInt(d.marginLeft || 0, 10) + parseInt(d.marginRight || 0, 10)),\n                c\n            );\n        },\n        addClasses: function (a, b) {\n            var c, d;\n            if (b) for (d = b.split(\" \"), c = 0; c < d.length; c++) a.classList.add(d[c]);\n        },\n        position: function (a) {\n            for (var b, c, d = 0, e = 0, f = gj.core.height(a), g = gj.core.width(a); a; )\n                \"BODY\" == a.tagName\n                    ? ((b = a.scrollLeft || document.documentElement.scrollLeft), (c = a.scrollTop || document.documentElement.scrollTop), (d += a.offsetLeft - b), (e += a.offsetTop - c))\n                    : ((d += a.offsetLeft - a.scrollLeft), (e += a.offsetTop - a.scrollTop)),\n                    (a = a.offsetParent);\n            return { top: e, left: d, bottom: e + f, right: d + g };\n        },\n        setCaretAtEnd: function (a) {\n            var b;\n            if (a)\n                if (((b = a.value.length), document.selection)) {\n                    a.focus();\n                    var c = document.selection.createRange();\n                    c.moveStart(\"character\", -b), c.moveStart(\"character\", b), c.moveEnd(\"character\", 0), c.select();\n                } else (a.selectionStart || \"0\" == a.selectionStart) && ((a.selectionStart = b), (a.selectionEnd = b), a.focus());\n        },\n        getScrollParent: function (a) {\n            return null == a ? null : a.scrollHeight > a.clientHeight ? a : gj.core.getScrollParent(a.parentNode);\n        },\n    }),\n    (gj.picker = { messages: { \"en-us\": {} } }),\n    (gj.picker.methods = {\n        initialize: function (a, b, c) {\n            var d,\n                e = c.createPicker(a, b),\n                f = a.parent('div[role=\"wrapper\"]');\n            (d =\n                \"bootstrap\" === b.uiLibrary\n                    ? $('<span class=\"input-group-addon\">' + b.icons.rightIcon + \"</span>\")\n                    : \"bootstrap4\" === b.uiLibrary\n                    ? $('<span class=\"input-group-append\"><button class=\"btn btn-outline-secondary border-left-0\" type=\"button\">' + b.icons.rightIcon + \"</button></span>\")\n                    : $(b.icons.rightIcon)),\n                d.attr(\"role\", \"right-icon\"),\n                0 === f.length ? ((f = $('<div role=\"wrapper\" />').addClass(b.style.wrapper)), a.wrap(f)) : f.addClass(b.style.wrapper),\n                (f = a.parent('div[role=\"wrapper\"]')),\n                b.width && f.css(\"width\", b.width),\n                a.val(b.value).addClass(b.style.input).attr(\"role\", \"input\"),\n                b.fontSize && a.css(\"font-size\", b.fontSize),\n                \"bootstrap\" === b.uiLibrary || \"bootstrap4\" === b.uiLibrary\n                    ? \"small\" === b.size\n                        ? (f.addClass(\"input-group-sm\"), a.addClass(\"form-control-sm\"))\n                        : \"large\" === b.size && (f.addClass(\"input-group-lg\"), a.addClass(\"form-control-lg\"))\n                    : \"small\" === b.size\n                    ? f.addClass(\"small\")\n                    : \"large\" === b.size && f.addClass(\"large\"),\n                d.on(\"click\", function (b) {\n                    e.is(\":visible\") ? a.close() : a.open();\n                }),\n                f.append(d),\n                !0 !== b.footer &&\n                    (a.on(\"blur\", function () {\n                        a.timeout = setTimeout(function () {\n                            a.close();\n                        }, 500);\n                    }),\n                    e.mousedown(function () {\n                        return clearTimeout(a.timeout), a.focus(), !1;\n                    }),\n                    e.on(\"click\", function () {\n                        clearTimeout(a.timeout), a.focus();\n                    }));\n        },\n    }),\n    (gj.picker.widget = function (a, b) {\n        var c = this,\n            d = gj.picker.methods;\n        return (\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            a\n        );\n    }),\n    (gj.picker.widget.prototype = new gj.widget()),\n    (gj.picker.widget.constructor = gj.picker.widget),\n    (gj.picker.widget.prototype.init = function (a, b, c) {\n        return gj.widget.prototype.init.call(this, a, b), this.attr(\"data-\" + b, \"true\"), gj.picker.methods.initialize(this, this.data(), gj[b].methods), this;\n    }),\n    (gj.picker.widget.prototype.open = function (a) {\n        var b = this.data(),\n            c = $(\"body\").find('[role=\"picker\"][guid=\"' + this.attr(\"data-guid\") + '\"]');\n        return c.show(), c.closest('div[role=\"modal\"]').show(), b.modal ? gj.core.center(c) : (gj.core.setChildPosition(this[0], c[0]), this.focus()), clearTimeout(this.timeout), gj[a].events.open(this), this;\n    }),\n    (gj.picker.widget.prototype.close = function (a) {\n        var b = $(\"body\").find('[role=\"picker\"][guid=\"' + this.attr(\"data-guid\") + '\"]');\n        return b.hide(), b.closest('div[role=\"modal\"]').hide(), gj[a].events.close(this), this;\n    }),\n    (gj.picker.widget.prototype.destroy = function (a) {\n        var b = this.data(),\n            c = this.parent(),\n            d = $(\"body\").find('[role=\"picker\"][guid=\"' + this.attr(\"data-guid\") + '\"]');\n        return (\n            b &&\n                (this.off(),\n                d.parent('[role=\"modal\"]').length > 0 && d.unwrap(),\n                d.remove(),\n                this.removeData(),\n                this.removeAttr(\"data-type\")\n                    .removeAttr(\"data-guid\")\n                    .removeAttr(\"data-\" + a),\n                this.removeClass(),\n                c.children('[role=\"right-icon\"]').remove(),\n                this.unwrap()),\n            this\n        );\n    }),\n    (gj.dialog = { plugins: {}, messages: {} }),\n    (gj.dialog.config = {\n        base: {\n            autoOpen: !0,\n            closeButtonInHeader: !0,\n            closeOnEscape: !0,\n            draggable: !0,\n            height: \"auto\",\n            locale: \"en-us\",\n            maxHeight: void 0,\n            maxWidth: void 0,\n            minHeight: void 0,\n            minWidth: void 0,\n            modal: !1,\n            resizable: !1,\n            scrollable: !1,\n            title: void 0,\n            uiLibrary: void 0,\n            width: 300,\n            style: {\n                modal: \"gj-modal\",\n                content: \"gj-dialog-md\",\n                header: \"gj-dialog-md-header gj-unselectable\",\n                headerTitle: \"gj-dialog-md-title\",\n                headerCloseButton: \"gj-dialog-md-close\",\n                body: \"gj-dialog-md-body\",\n                footer: \"gj-dialog-footer gj-dialog-md-footer\",\n            },\n        },\n        bootstrap: { style: { modal: \"modal\", content: \"modal-content gj-dialog-bootstrap\", header: \"modal-header\", headerTitle: \"modal-title\", headerCloseButton: \"close\", body: \"modal-body\", footer: \"gj-dialog-footer modal-footer\" } },\n        bootstrap4: { style: { modal: \"modal\", content: \"modal-content gj-dialog-bootstrap4\", header: \"modal-header\", headerTitle: \"modal-title\", headerCloseButton: \"close\", body: \"modal-body\", footer: \"gj-dialog-footer modal-footer\" } },\n    }),\n    (gj.dialog.events = {\n        initialized: function (a) {\n            a.trigger(\"initialized\");\n        },\n        opening: function (a) {\n            a.trigger(\"opening\");\n        },\n        opened: function (a) {\n            a.trigger(\"opened\");\n        },\n        closing: function (a) {\n            a.trigger(\"closing\");\n        },\n        closed: function (a) {\n            a.trigger(\"closed\");\n        },\n        drag: function (a) {\n            a.trigger(\"drag\");\n        },\n        dragStart: function (a) {\n            a.trigger(\"dragStart\");\n        },\n        dragStop: function (a) {\n            a.trigger(\"dragStop\");\n        },\n        resize: function (a) {\n            a.trigger(\"resize\");\n        },\n        resizeStart: function (a) {\n            a.trigger(\"resizeStart\");\n        },\n        resizeStop: function (a) {\n            a.trigger(\"resizeStop\");\n        },\n    }),\n    (gj.dialog.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"dialog\"), gj.dialog.methods.localization(this), gj.dialog.methods.initialize(this), gj.dialog.events.initialized(this), this;\n        },\n        localization: function (a) {\n            var b = a.data();\n            void 0 === b.title && (b.title = gj.dialog.messages[b.locale].DefaultTitle);\n        },\n        getHTMLConfig: function () {\n            var a = gj.widget.prototype.getHTMLConfig.call(this),\n                b = this[0].attributes;\n            return b.title && (a.title = b.title.value), a;\n        },\n        initialize: function (a) {\n            var b,\n                c,\n                d,\n                e = a.data();\n            a.addClass(e.style.content),\n                gj.dialog.methods.setSize(a),\n                e.closeOnEscape &&\n                    $(document).keyup(function (b) {\n                        27 === b.keyCode && a.close();\n                    }),\n                (c = a.children('div[data-role=\"body\"]')),\n                0 === c.length ? ((c = $('<div data-role=\"body\"/>').addClass(e.style.body)), a.wrapInner(c)) : c.addClass(e.style.body),\n                (b = gj.dialog.methods.renderHeader(a)),\n                (d = a.children('div[data-role=\"footer\"]').addClass(e.style.footer)),\n                a.find('[data-role=\"close\"]').on(\"click\", function () {\n                    a.close();\n                }),\n                gj.draggable && (e.draggable && gj.dialog.methods.draggable(a, b), e.resizable && gj.dialog.methods.resizable(a)),\n                e.scrollable &&\n                    e.height &&\n                    (a.addClass(\"gj-dialog-scrollable\"),\n                    a.on(\"opened\", function () {\n                        a.children('div[data-role=\"body\"]').css(\"height\", e.height - b.outerHeight() - (d.length ? d.outerHeight() : 0));\n                    })),\n                gj.core.center(a),\n                e.modal && a.wrapAll('<div data-role=\"modal\" class=\"' + e.style.modal + '\"/>'),\n                e.autoOpen && a.open();\n        },\n        setSize: function (a) {\n            var b = a.data();\n            b.width && a.css(\"width\", b.width), b.height && a.css(\"height\", b.height);\n        },\n        renderHeader: function (a) {\n            var b,\n                c,\n                d,\n                e = a.data();\n            return (\n                (b = a.children('div[data-role=\"header\"]')),\n                0 === b.length && ((b = $('<div data-role=\"header\" />')), a.prepend(b)),\n                b.addClass(e.style.header),\n                (c = b.find('[data-role=\"title\"]')),\n                0 === c.length && ((c = $('<h4 data-role=\"title\">' + e.title + \"</h4>\")), b.append(c)),\n                c.addClass(e.style.headerTitle),\n                (d = b.find('[data-role=\"close\"]')),\n                0 === d.length && e.closeButtonInHeader\n                    ? ((d = $('<button type=\"button\" data-role=\"close\" title=\"' + gj.dialog.messages[e.locale].Close + '\"><span>×</span></button>')), d.addClass(e.style.headerCloseButton), b.append(d))\n                    : d.length > 0 && !1 === e.closeButtonInHeader\n                    ? d.hide()\n                    : d.addClass(e.style.headerCloseButton),\n                b\n            );\n        },\n        draggable: function (a, b) {\n            a.appendTo(\"body\"),\n                b.addClass(\"gj-draggable\"),\n                a.draggable({\n                    handle: b,\n                    start: function () {\n                        a.addClass(\"gj-unselectable\"), gj.dialog.events.dragStart(a);\n                    },\n                    stop: function () {\n                        a.removeClass(\"gj-unselectable\"), gj.dialog.events.dragStop(a);\n                    },\n                });\n        },\n        resizable: function (a) {\n            var b = {\n                drag: gj.dialog.methods.resize,\n                start: function () {\n                    a.addClass(\"gj-unselectable\"), gj.dialog.events.resizeStart(a);\n                },\n                stop: function () {\n                    this.removeAttribute(\"style\"), a.removeClass(\"gj-unselectable\"), gj.dialog.events.resizeStop(a);\n                },\n            };\n            a.append($('<div class=\"gj-resizable-handle gj-resizable-n\"></div>').draggable($.extend(!0, { horizontal: !1 }, b))),\n                a.append($('<div class=\"gj-resizable-handle gj-resizable-e\"></div>').draggable($.extend(!0, { vertical: !1 }, b))),\n                a.append($('<div class=\"gj-resizable-handle gj-resizable-s\"></div>').draggable($.extend(!0, { horizontal: !1 }, b))),\n                a.append($('<div class=\"gj-resizable-handle gj-resizable-w\"></div>').draggable($.extend(!0, { vertical: !1 }, b))),\n                a.append($('<div class=\"gj-resizable-handle gj-resizable-ne\"></div>').draggable($.extend(!0, {}, b))),\n                a.append($('<div class=\"gj-resizable-handle gj-resizable-nw\"></div>').draggable($.extend(!0, {}, b))),\n                a.append($('<div class=\"gj-resizable-handle gj-resizable-sw\"></div>').draggable($.extend(!0, {}, b))),\n                a.append($('<div class=\"gj-resizable-handle gj-resizable-se\"></div>').draggable($.extend(!0, {}, b)));\n        },\n        resize: function (a, b) {\n            var c,\n                d,\n                e,\n                f,\n                g,\n                h,\n                i,\n                j,\n                k = !1;\n            return (\n                (c = $(this)),\n                (d = c.parent()),\n                (e = gj.core.position(this)),\n                (offset = { top: b.top - e.top, left: b.left - e.left }),\n                (f = d.data()),\n                c.hasClass(\"gj-resizable-n\")\n                    ? ((g = d.height() - offset.top), (i = d.offset().top + offset.top))\n                    : c.hasClass(\"gj-resizable-e\")\n                    ? (h = d.width() + offset.left)\n                    : c.hasClass(\"gj-resizable-s\")\n                    ? (g = d.height() + offset.top)\n                    : c.hasClass(\"gj-resizable-w\")\n                    ? ((h = d.width() - offset.left), (j = d.offset().left + offset.left))\n                    : c.hasClass(\"gj-resizable-ne\")\n                    ? ((g = d.height() - offset.top), (i = d.offset().top + offset.top), (h = d.width() + offset.left))\n                    : c.hasClass(\"gj-resizable-nw\")\n                    ? ((g = d.height() - offset.top), (i = d.offset().top + offset.top), (h = d.width() - offset.left), (j = d.offset().left + offset.left))\n                    : c.hasClass(\"gj-resizable-se\")\n                    ? ((g = d.height() + offset.top), (h = d.width() + offset.left))\n                    : c.hasClass(\"gj-resizable-sw\") && ((g = d.height() + offset.top), (h = d.width() - offset.left), (j = d.offset().left + offset.left)),\n                g && (!f.minHeight || g >= f.minHeight) && (!f.maxHeight || g <= f.maxHeight) && (d.height(g), i && d.css(\"top\", i), (k = !0)),\n                h && (!f.minWidth || h >= f.minWidth) && (!f.maxWidth || h <= f.maxWidth) && (d.width(h), j && d.css(\"left\", j), (k = !0)),\n                k && gj.dialog.events.resize(d),\n                k\n            );\n        },\n        open: function (a, b) {\n            var c;\n            return (\n                gj.dialog.events.opening(a),\n                a.css(\"display\", \"block\"),\n                a.closest('div[data-role=\"modal\"]').css(\"display\", \"block\"),\n                (c = a.children('div[data-role=\"footer\"]')),\n                c.length && c.outerHeight() && a.children('div[data-role=\"body\"]').css(\"margin-bottom\", c.outerHeight()),\n                void 0 !== b && a.find('[data-role=\"title\"]').html(b),\n                gj.dialog.events.opened(a),\n                a\n            );\n        },\n        close: function (a) {\n            return a.is(\":visible\") && (gj.dialog.events.closing(a), a.css(\"display\", \"none\"), a.closest('div[data-role=\"modal\"]').css(\"display\", \"none\"), gj.dialog.events.closed(a)), a;\n        },\n        isOpen: function (a) {\n            return a.is(\":visible\");\n        },\n        content: function (a, b) {\n            var c = a.children('div[data-role=\"body\"]');\n            return void 0 === b ? c.html() : c.html(b);\n        },\n        destroy: function (a, b) {\n            var c = a.data();\n            return (\n                c &&\n                    (!1 === b\n                        ? a.remove()\n                        : (a.close(),\n                          a.off(),\n                          a.removeData(),\n                          a.removeAttr(\"data-type\"),\n                          a.removeClass(c.style.content),\n                          a.find('[data-role=\"header\"]').removeClass(c.style.header),\n                          a.find('[data-role=\"title\"]').removeClass(c.style.headerTitle),\n                          a.find('[data-role=\"close\"]').remove(),\n                          a.find('[data-role=\"body\"]').removeClass(c.style.body),\n                          a.find('[data-role=\"footer\"]').removeClass(c.style.footer))),\n                a\n            );\n        },\n    }),\n    (gj.dialog.widget = function (a, b) {\n        var c = this,\n            d = gj.dialog.methods;\n        return (\n            (c.open = function (a) {\n                return d.open(this, a);\n            }),\n            (c.close = function () {\n                return d.close(this);\n            }),\n            (c.isOpen = function () {\n                return d.isOpen(this);\n            }),\n            (c.content = function (a) {\n                return d.content(this, a);\n            }),\n            (c.destroy = function (a) {\n                return d.destroy(this, a);\n            }),\n            $.extend(a, c),\n            \"dialog\" !== a.attr(\"data-type\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.dialog.widget.prototype = new gj.widget()),\n    (gj.dialog.widget.constructor = gj.dialog.widget),\n    (gj.dialog.widget.prototype.getHTMLConfig = gj.dialog.methods.getHTMLConfig),\n    (function (a) {\n        a.fn.dialog = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.dialog.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.dialog.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.dialog.messages[\"en-us\"] = { Close: \"Close\", DefaultTitle: \"Dialog\" }),\n    (gj.draggable = { plugins: {} }),\n    (gj.draggable.config = { base: { handle: void 0, vertical: !0, horizontal: !0, containment: void 0 } }),\n    (gj.draggable.methods = {\n        init: function (a) {\n            var b,\n                c,\n                d = this;\n            return (\n                gj.widget.prototype.init.call(this, a, \"draggable\"),\n                (c = this.data()),\n                d.attr(\"data-draggable\", \"true\"),\n                (b = gj.draggable.methods.getHandleElement(d)),\n                b.on(\"touchstart mousedown\", function (a) {\n                    var e = gj.core.position(d[0]);\n                    (d[0].style.top = e.top + \"px\"),\n                        (d[0].style.left = e.left + \"px\"),\n                        (d[0].style.position = \"fixed\"),\n                        d.attr(\"draggable-dragging\", !0),\n                        d.removeAttr(\"draggable-x\").removeAttr(\"draggable-y\"),\n                        gj.documentManager.subscribeForEvent(\"touchmove\", d.data(\"guid\"), gj.draggable.methods.createMoveHandler(d, b, c)),\n                        gj.documentManager.subscribeForEvent(\"mousemove\", d.data(\"guid\"), gj.draggable.methods.createMoveHandler(d, b, c));\n                }),\n                gj.documentManager.subscribeForEvent(\"mouseup\", d.data(\"guid\"), gj.draggable.methods.createUpHandler(d)),\n                gj.documentManager.subscribeForEvent(\"touchend\", d.data(\"guid\"), gj.draggable.methods.createUpHandler(d)),\n                gj.documentManager.subscribeForEvent(\"touchcancel\", d.data(\"guid\"), gj.draggable.methods.createUpHandler(d)),\n                d\n            );\n        },\n        getHandleElement: function (a) {\n            var b = a.data(\"handle\");\n            return b && b.length ? b : a;\n        },\n        createUpHandler: function (a) {\n            return function (b) {\n                \"true\" === a.attr(\"draggable-dragging\") &&\n                    (a.attr(\"draggable-dragging\", !1),\n                    gj.documentManager.unsubscribeForEvent(\"mousemove\", a.data(\"guid\")),\n                    gj.documentManager.unsubscribeForEvent(\"touchmove\", a.data(\"guid\")),\n                    gj.draggable.events.stop(a, { x: a.mouseX(b), y: a.mouseY(b) }));\n            };\n        },\n        createMoveHandler: function (a, b, c) {\n            return function (b) {\n                var d, e, f, g, h, i;\n                \"true\" === a.attr(\"draggable-dragging\") &&\n                    ((d = Math.round(a.mouseX(b))),\n                    (e = Math.round(a.mouseY(b))),\n                    (h = a.attr(\"draggable-x\")),\n                    (i = a.attr(\"draggable-y\")),\n                    h && i ? ((f = c.horizontal ? d - parseInt(h, 10) : 0), (g = c.vertical ? e - parseInt(i, 10) : 0), gj.draggable.methods.move(a[0], c, f, g, d, e)) : gj.draggable.events.start(a, d, e),\n                    a.attr(\"draggable-x\", d),\n                    a.attr(\"draggable-y\", e));\n            };\n        },\n        move: function (a, b, c, d, e, f) {\n            var g,\n                h,\n                i,\n                j = gj.core.position(a),\n                k = j.top + d,\n                l = j.left + c;\n            b.containment &&\n                ((g = gj.core.position(b.containment)),\n                (h = g.top + gj.core.height(b.containment) - gj.core.height(a)),\n                (i = g.left + gj.core.width(b.containment) - gj.core.width(a)),\n                k > g.top && k < h ? (g.top >= f || g.bottom <= f) && (k = j.top) : (k = k <= g.top ? g.top + 1 : h - 1),\n                l > g.left && l < i ? (g.left >= e || g.right <= e) && (l = j.left) : (l = l <= g.left ? g.left + 1 : i - 1)),\n                !1 !== gj.draggable.events.drag($(a), l, k, e, f) && ((a.style.top = k + \"px\"), (a.style.left = l + \"px\"));\n        },\n        destroy: function (a) {\n            return (\n                \"true\" === a.attr(\"data-draggable\") &&\n                    (gj.documentManager.unsubscribeForEvent(\"mouseup\", a.data(\"guid\")),\n                    a.removeData(),\n                    a.removeAttr(\"data-guid\").removeAttr(\"data-type\").removeAttr(\"data-draggable\"),\n                    a.removeAttr(\"draggable-x\").removeAttr(\"draggable-y\").removeAttr(\"draggable-dragging\"),\n                    (a[0].style.top = \"\"),\n                    (a[0].style.left = \"\"),\n                    (a[0].style.position = \"\"),\n                    a.off(\"drag\").off(\"start\").off(\"stop\"),\n                    gj.draggable.methods.getHandleElement(a).off(\"mousedown\")),\n                a\n            );\n        },\n    }),\n    (gj.draggable.events = {\n        drag: function (a, b, c, d, e) {\n            return a.triggerHandler(\"drag\", [\n                { left: b, top: c },\n                { x: d, y: e },\n            ]);\n        },\n        start: function (a, b, c) {\n            a.triggerHandler(\"start\", [{ x: b, y: c }]);\n        },\n        stop: function (a, b) {\n            a.triggerHandler(\"stop\", [b]);\n        },\n    }),\n    (gj.draggable.widget = function (a, b) {\n        var c = this,\n            d = gj.draggable.methods;\n        return (\n            a.destroy ||\n                (c.destroy = function () {\n                    return d.destroy(this);\n                }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-draggable\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.draggable.widget.prototype = new gj.widget()),\n    (gj.draggable.widget.constructor = gj.draggable.widget),\n    (function (a) {\n        a.fn.draggable = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.draggable.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.draggable.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.droppable = { plugins: {} }),\n    (gj.droppable.config = { hoverClass: void 0 }),\n    (gj.droppable.methods = {\n        init: function (a) {\n            var b = this;\n            return (\n                gj.widget.prototype.init.call(this, a, \"droppable\"),\n                b.attr(\"data-droppable\", \"true\"),\n                gj.documentManager.subscribeForEvent(\"mousedown\", b.data(\"guid\"), gj.droppable.methods.createMouseDownHandler(b)),\n                gj.documentManager.subscribeForEvent(\"mousemove\", b.data(\"guid\"), gj.droppable.methods.createMouseMoveHandler(b)),\n                gj.documentManager.subscribeForEvent(\"mouseup\", b.data(\"guid\"), gj.droppable.methods.createMouseUpHandler(b)),\n                b\n            );\n        },\n        createMouseDownHandler: function (a) {\n            return function (b) {\n                a.isDragging = !0;\n            };\n        },\n        createMouseMoveHandler: function (a) {\n            return function (b) {\n                if (a.isDragging) {\n                    var c = a.data(\"hoverClass\"),\n                        d = { x: a.mouseX(b), y: a.mouseY(b) },\n                        e = gj.droppable.methods.isOver(a, d);\n                    e != a.isOver && (e ? (c && a.addClass(c), gj.droppable.events.over(a, d)) : (c && a.removeClass(c), gj.droppable.events.out(a))), (a.isOver = e);\n                }\n            };\n        },\n        createMouseUpHandler: function (a) {\n            return function (b) {\n                var c = { left: a.mouseX(b), top: a.mouseY(b) };\n                (a.isDragging = !1), gj.droppable.methods.isOver(a, c) && gj.droppable.events.drop(a);\n            };\n        },\n        isOver: function (a, b) {\n            var c = a.offset().top,\n                d = a.offset().left;\n            return b.x > d && b.x < d + a.outerWidth(!0) && b.y > c && b.y < c + a.outerHeight(!0);\n        },\n        destroy: function (a) {\n            return (\n                \"true\" === a.attr(\"data-droppable\") &&\n                    (gj.documentManager.unsubscribeForEvent(\"mousedown\", a.data(\"guid\")),\n                    gj.documentManager.unsubscribeForEvent(\"mousemove\", a.data(\"guid\")),\n                    gj.documentManager.unsubscribeForEvent(\"mouseup\", a.data(\"guid\")),\n                    a.removeData(),\n                    a.removeAttr(\"data-guid\"),\n                    a.removeAttr(\"data-droppable\"),\n                    a.off(\"drop\").off(\"over\").off(\"out\")),\n                a\n            );\n        },\n    }),\n    (gj.droppable.events = {\n        drop: function (a, b, c) {\n            a.trigger(\"drop\", [{ top: c, left: b }]);\n        },\n        over: function (a, b) {\n            a.trigger(\"over\", [b]);\n        },\n        out: function (a) {\n            a.trigger(\"out\");\n        },\n    }),\n    (gj.droppable.widget = function (a, b) {\n        var c = this,\n            d = gj.droppable.methods;\n        return (\n            (c.isOver = !1),\n            (c.isDragging = !1),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            (c.isOver = function (a) {\n                return d.isOver(this, a);\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-droppable\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.droppable.widget.prototype = new gj.widget()),\n    (gj.droppable.widget.constructor = gj.droppable.widget),\n    (function (a) {\n        a.fn.droppable = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.droppable.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.droppable.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.grid = { plugins: {}, messages: {} }),\n    (gj.grid.config = {\n        base: {\n            dataSource: void 0,\n            columns: [],\n            autoGenerateColumns: !1,\n            defaultColumnSettings: {\n                hidden: !1,\n                width: void 0,\n                sortable: !1,\n                type: \"text\",\n                title: void 0,\n                field: void 0,\n                align: void 0,\n                cssClass: void 0,\n                headerCssClass: void 0,\n                tooltip: void 0,\n                icon: void 0,\n                events: void 0,\n                format: \"mm/dd/yyyy\",\n                decimalDigits: void 0,\n                tmpl: void 0,\n                stopPropagation: !1,\n                renderer: void 0,\n                filter: void 0,\n            },\n            mapping: { dataField: \"records\", totalRecordsField: \"total\" },\n            params: {},\n            paramNames: { sortBy: \"sortBy\", direction: \"direction\" },\n            uiLibrary: \"materialdesign\",\n            iconsLibrary: \"materialicons\",\n            selectionType: \"single\",\n            selectionMethod: \"basic\",\n            autoLoad: !0,\n            notFoundText: void 0,\n            width: void 0,\n            minWidth: void 0,\n            headerRowHeight: \"fixed\",\n            bodyRowHeight: \"autogrow\",\n            fontSize: void 0,\n            primaryKey: void 0,\n            locale: \"en-us\",\n            defaultIconColumnWidth: 70,\n            defaultCheckBoxColumnWidth: 70,\n            style: {\n                wrapper: \"gj-grid-wrapper\",\n                table: \"gj-grid gj-grid-md\",\n                loadingCover: \"gj-grid-loading-cover\",\n                loadingText: \"gj-grid-loading-text\",\n                header: { cell: void 0, sortable: \"gj-cursor-pointer gj-unselectable\" },\n                content: { rowSelected: \"gj-grid-md-select\" },\n            },\n            icons: { asc: \"▲\", desc: \"▼\" },\n        },\n        bootstrap: {\n            style: { wrapper: \"gj-grid-wrapper\", table: \"gj-grid gj-grid-bootstrap gj-grid-bootstrap-3 table table-bordered table-hover\", content: { rowSelected: \"active\" } },\n            iconsLibrary: \"glyphicons\",\n            defaultIconColumnWidth: 34,\n            defaultCheckBoxColumnWidth: 36,\n        },\n        bootstrap4: {\n            style: { wrapper: \"gj-grid-wrapper\", table: \"gj-grid gj-grid-bootstrap gj-grid-bootstrap-4 table table-bordered table-hover\", content: { rowSelected: \"active\" } },\n            defaultIconColumnWidth: 42,\n            defaultCheckBoxColumnWidth: 44,\n        },\n        materialicons: { icons: { asc: '<i class=\"gj-icon arrow-upward\" />', desc: '<i class=\"gj-icon arrow-downward\" />' } },\n        fontawesome: { icons: { asc: '<i class=\"fa fa-sort-amount-asc\" aria-hidden=\"true\"></i>', desc: '<i class=\"fa fa-sort-amount-desc\" aria-hidden=\"true\"></i>' } },\n        glyphicons: { icons: { asc: '<span class=\"glyphicon glyphicon-sort-by-alphabet\" />', desc: '<span class=\"glyphicon glyphicon-sort-by-alphabet-alt\" />' } },\n    }),\n    (gj.grid.events = {\n        beforeEmptyRowInsert: function (a, b) {\n            return a.triggerHandler(\"beforeEmptyRowInsert\", [b]);\n        },\n        dataBinding: function (a, b) {\n            return a.triggerHandler(\"dataBinding\", [b]);\n        },\n        dataBound: function (a, b, c) {\n            return a.triggerHandler(\"dataBound\", [b, c]);\n        },\n        rowDataBound: function (a, b, c, d) {\n            return a.triggerHandler(\"rowDataBound\", [b, c, d]);\n        },\n        cellDataBound: function (a, b, c, d, e) {\n            return a.triggerHandler(\"cellDataBound\", [b, c, d, e]);\n        },\n        rowSelect: function (a, b, c, d) {\n            return a.triggerHandler(\"rowSelect\", [b, c, d]);\n        },\n        rowUnselect: function (a, b, c, d) {\n            return a.triggerHandler(\"rowUnselect\", [b, c, d]);\n        },\n        rowRemoving: function (a, b, c, d) {\n            return a.triggerHandler(\"rowRemoving\", [b, c, d]);\n        },\n        destroying: function (a) {\n            return a.triggerHandler(\"destroying\");\n        },\n        columnHide: function (a, b) {\n            return a.triggerHandler(\"columnHide\", [b]);\n        },\n        columnShow: function (a, b) {\n            return a.triggerHandler(\"columnShow\", [b]);\n        },\n        initialized: function (a) {\n            return a.triggerHandler(\"initialized\");\n        },\n        dataFiltered: function (a, b) {\n            return a.triggerHandler(\"dataFiltered\", [b]);\n        },\n    }),\n    (gj.grid.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"grid\"), gj.grid.methods.initialize(this), this.data(\"autoLoad\") && this.reload(), this;\n        },\n        getConfig: function (a, b) {\n            var c = gj.widget.prototype.getConfig.call(this, a, b);\n            return gj.grid.methods.setDefaultColumnConfig(c.columns, c.defaultColumnSettings), c;\n        },\n        setDefaultColumnConfig: function (a, b) {\n            var c, d;\n            if (a && a.length) for (d = 0; d < a.length; d++) (c = $.extend(!0, {}, b)), $.extend(!0, c, a[d]), (a[d] = c);\n        },\n        getHTMLConfig: function () {\n            var a = gj.widget.prototype.getHTMLConfig.call(this);\n            return (\n                (a.columns = []),\n                this.find(\"thead > tr > th\").each(function () {\n                    var b = $(this),\n                        c = b.text(),\n                        d = gj.widget.prototype.getHTMLConfig.call(b);\n                    (d.title = c), d.field || (d.field = c), d.events && (d.events = gj.grid.methods.eventsParser(d.events)), a.columns.push(d);\n                }),\n                a\n            );\n        },\n        eventsParser: function (events) {\n            var result = {},\n                list,\n                i,\n                key,\n                func,\n                position;\n            for (list = events.split(\",\"), i = 0; i < list.length; i++)\n                (position = list[i].indexOf(\":\")) > 0 && ((key = $.trim(list[i].substr(0, position))), (func = $.trim(list[i].substr(position + 1, list[i].length))), (result[key] = eval(\"window.\" + func)));\n            return result;\n        },\n        initialize: function (a) {\n            var b = a.data(),\n                c = a.parent('div[data-role=\"wrapper\"]');\n            gj.grid.methods.localization(b),\n                0 === c.length ? ((c = $('<div data-role=\"wrapper\" />').addClass(b.style.wrapper)), a.wrap(c)) : c.addClass(b.style.wrapper),\n                b.width && a.parent().css(\"width\", b.width),\n                b.minWidth && a.css(\"min-width\", b.minWidth),\n                b.fontSize && a.css(\"font-size\", b.fontSize),\n                \"autogrow\" === b.headerRowHeight && a.addClass(\"autogrow-header-row\"),\n                \"fixed\" === b.bodyRowHeight && a.addClass(\"fixed-body-rows\"),\n                a.addClass(b.style.table),\n                \"checkbox\" === b.selectionMethod &&\n                    b.columns.splice(gj.grid.methods.getColumnPositionNotInRole(a), 0, {\n                        title: \"\",\n                        width: b.defaultCheckBoxColumnWidth,\n                        align: \"center\",\n                        type: \"checkbox\",\n                        role: \"selectRow\",\n                        events: {\n                            click: function (b) {\n                                gj.grid.methods.setSelected(a, b.data.id, $(this).closest(\"tr\"));\n                            },\n                        },\n                        headerCssClass: \"gj-grid-select-all\",\n                        stopPropagation: !0,\n                    }),\n                0 === a.children(\"tbody\").length && a.append($(\"<tbody/>\")),\n                gj.grid.methods.renderHeader(a),\n                gj.grid.methods.appendEmptyRow(a, \"&nbsp;\"),\n                gj.grid.events.initialized(a);\n        },\n        localization: function (a) {\n            a.notFoundText || (a.notFoundText = gj.grid.messages[a.locale].NoRecordsFound);\n        },\n        renderHeader: function (a) {\n            var b, c, d, e, f, g, h, i, j;\n            for (b = a.data(), c = b.columns, d = b.style.header, e = a.children(\"thead\"), 0 === e.length && ((e = $(\"<thead />\")), a.prepend(e)), f = $('<tr data-role=\"caption\" />'), i = 0; i < c.length; i += 1)\n                (g = $('<th data-field=\"' + (c[i].field || \"\") + '\" />')),\n                    c[i].width ? g.attr(\"width\", c[i].width) : \"checkbox\" === c[i].type && g.attr(\"width\", b.defaultIconColumnWidth),\n                    g.addClass(d.cell),\n                    c[i].headerCssClass && g.addClass(c[i].headerCssClass),\n                    g.css(\"text-align\", c[i].align || \"left\"),\n                    \"checkbox\" === b.selectionMethod && \"multiple\" === b.selectionType && \"checkbox\" === c[i].type && \"selectRow\" === c[i].role\n                        ? ((j = g.find('input[data-role=\"selectAll\"]')),\n                          0 === j.length && ((j = $('<input type=\"checkbox\" data-role=\"selectAll\" />')), g.append(j), j.checkbox({ uiLibrary: b.uiLibrary })),\n                          j.off(\"click\").on(\"click\", function () {\n                              this.checked ? a.selectAll() : a.unSelectAll();\n                          }))\n                        : ((h = $('<div data-role=\"title\"/>').html(void 0 === c[i].title ? c[i].field : c[i].title)), g.append(h), c[i].sortable && (h.addClass(d.sortable), h.on(\"click\", gj.grid.methods.createSortHandler(a, c[i])))),\n                    c[i].hidden && g.hide(),\n                    f.append(g);\n            e.empty().append(f);\n        },\n        createSortHandler: function (a, b) {\n            return function () {\n                var c,\n                    d = {};\n                a.count() > 0 && ((c = a.data()), (d[c.paramNames.sortBy] = b.field), (b.direction = \"asc\" === b.direction ? \"desc\" : \"asc\"), (d[c.paramNames.direction] = b.direction), a.reload(d));\n            };\n        },\n        updateHeader: function (a) {\n            var b,\n                c,\n                d = a.data(),\n                e = d.params[d.paramNames.sortBy],\n                f = d.params[d.paramNames.direction];\n            a.find('thead tr th [data-role=\"sorticon\"]').remove(),\n                e &&\n                    ((position = gj.grid.methods.getColumnPosition(a.data(\"columns\"), e)),\n                    position > -1 && ((c = a.find(\"thead tr th:eq(\" + position + ') div[data-role=\"title\"]')), (b = $('<div data-role=\"sorticon\" class=\"gj-unselectable\" />').append(\"desc\" === f ? d.icons.desc : d.icons.asc)), c.after(b)));\n        },\n        useHtmlDataSource: function (a, b) {\n            var c,\n                d,\n                e,\n                f,\n                g = [],\n                h = a.find('tbody tr[data-role != \"empty\"]');\n            for (c = 0; c < h.length; c++) {\n                for (e = $(h[c]).find(\"td\"), f = {}, d = 0; d < e.length; d++) f[b.columns[d].field] = $(e[d]).html();\n                g.push(f);\n            }\n            b.dataSource = g;\n        },\n        startLoading: function (a) {\n            var b, c, d, e, f, g, h;\n            gj.grid.methods.stopLoading(a),\n                (h = a.data()),\n                0 !== a.outerHeight() &&\n                    ((b = a.children(\"tbody\")),\n                    (e = b.outerWidth(!1)),\n                    (f = b.outerHeight(!1)),\n                    (g = Math.abs(a.parent().offset().top - b.offset().top)),\n                    (c = $('<div data-role=\"loading-cover\" />').addClass(h.style.loadingCover).css({ width: e, height: f, top: g })),\n                    (d = $('<div data-role=\"loading-text\">' + gj.grid.messages[h.locale].Loading + \"</div>\").addClass(h.style.loadingText)),\n                    d.insertAfter(a),\n                    c.insertAfter(a),\n                    d.css({ top: g + f / 2 - d.outerHeight(!1) / 2, left: e / 2 - d.outerWidth(!1) / 2 }));\n        },\n        stopLoading: function (a) {\n            a.parent().find('div[data-role=\"loading-cover\"]').remove(), a.parent().find('div[data-role=\"loading-text\"]').remove();\n        },\n        appendEmptyRow: function (a, b) {\n            var c, d, e, f;\n            (c = a.data()),\n                (d = $('<tr data-role=\"empty\"/>')),\n                (e = $(\"<td/>\").css({ width: \"100%\", \"text-align\": \"center\" })),\n                e.attr(\"colspan\", gj.grid.methods.countVisibleColumns(a)),\n                (f = $(\"<div />\").html(b || c.notFoundText)),\n                e.append(f),\n                d.append(e),\n                gj.grid.events.beforeEmptyRowInsert(a, d),\n                a.append(d);\n        },\n        autoGenerateColumns: function (a, b) {\n            var c,\n                d,\n                e,\n                f,\n                g = a.data();\n            if (((g.columns = []), b.length > 0)) {\n                for (c = Object.getOwnPropertyNames(b[0]), f = 0; f < c.length; f++)\n                    (d = b[0][c[f]]), (e = \"text\"), d && (\"number\" == typeof d ? (e = \"number\") : d.indexOf(\"/Date(\") > -1 && (e = \"date\")), g.columns.push({ field: c[f], type: e });\n                gj.grid.methods.setDefaultColumnConfig(g.columns, g.defaultColumnSettings);\n            }\n            gj.grid.methods.renderHeader(a);\n        },\n        loadData: function (a) {\n            var b, c, d, e, f, g, h, i;\n            for (\n                b = a.data(),\n                    c = a.getAll(),\n                    gj.grid.events.dataBinding(a, c),\n                    e = c.length,\n                    gj.grid.methods.stopLoading(a),\n                    b.autoGenerateColumns && gj.grid.methods.autoGenerateColumns(a, c),\n                    g = a.children(\"tbody\"),\n                    \"checkbox\" === b.selectionMethod && \"multiple\" === b.selectionType && a.find('thead input[data-role=\"selectAll\"]').prop(\"checked\", !1),\n                    g.children(\"tr\").not('[data-role=\"row\"]').remove(),\n                    0 === e && (g.empty(), gj.grid.methods.appendEmptyRow(a)),\n                    h = g.children(\"tr\"),\n                    f = h.length,\n                    d = 0;\n                d < f;\n                d++\n            ) {\n                if (!(d < e)) {\n                    g.find('tr[data-role=\"row\"]:gt(' + (d - 1) + \")\").remove();\n                    break;\n                }\n                (i = h.eq(d)), gj.grid.methods.renderRow(a, i, c[d], d);\n            }\n            for (d = f; d < e; d++) gj.grid.methods.renderRow(a, null, c[d], d);\n            gj.grid.events.dataBound(a, c, b.totalRecords);\n        },\n        getId: function (a, b, c) {\n            return b && a[b] ? a[b] : c;\n        },\n        renderRow: function (a, b, c, d) {\n            var e, f, g, h, i;\n            for (\n                h = a.data(),\n                    b && 0 !== b.length ? ((i = \"update\"), b.removeClass(h.style.content.rowSelected).removeAttr(\"data-selected\").off(\"click\")) : ((i = \"create\"), (b = $('<tr data-role=\"row\"/>')), a.children(\"tbody\").append(b)),\n                    e = gj.grid.methods.getId(c, h.primaryKey, d + 1),\n                    b.attr(\"data-position\", d + 1),\n                    \"checkbox\" !== h.selectionMethod && b.on(\"click\", gj.grid.methods.createRowClickHandler(a, e)),\n                    g = 0;\n                g < h.columns.length;\n                g++\n            )\n                \"update\" === i ? ((f = b.find(\"td:eq(\" + g + \")\")), gj.grid.methods.renderCell(a, f, h.columns[g], c, e)) : ((f = gj.grid.methods.renderCell(a, null, h.columns[g], c, e)), b.append(f));\n            gj.grid.events.rowDataBound(a, b, e, c);\n        },\n        renderCell: function (a, b, c, d, e, f) {\n            var g, h;\n            if (\n                (b && 0 !== b.length\n                    ? ((g = b.find('div[data-role=\"display\"]')), (f = \"update\"))\n                    : ((b = $(\"<td/>\")), (g = $('<div data-role=\"display\" />')), c.align && b.css(\"text-align\", c.align), c.cssClass && b.addClass(c.cssClass), b.append(g), (f = \"create\")),\n                gj.grid.methods.renderDisplayElement(a, g, c, d, e, f),\n                \"update\" === f && (b.off(), g.off()),\n                c.events)\n            )\n                for (h in c.events) c.events.hasOwnProperty(h) && b.on(h, { id: e, field: c.field, record: d }, gj.grid.methods.createCellEventHandler(c, c.events[h]));\n            return c.hidden && b.hide(), gj.grid.events.cellDataBound(a, g, e, c, d), b;\n        },\n        createCellEventHandler: function (a, b) {\n            return function (c) {\n                a.stopPropagation && c.stopPropagation(), b.call(this, c);\n            };\n        },\n        renderDisplayElement: function (a, b, c, d, e, f) {\n            var g, h;\n            \"checkbox\" === c.type && gj.checkbox\n                ? \"create\" === f\n                    ? ((h = $('<input type=\"checkbox\" />').val(e).prop(\"checked\", !!d[c.field])),\n                      c.role && h.attr(\"data-role\", c.role),\n                      b.append(h),\n                      h.checkbox({ uiLibrary: a.data(\"uiLibrary\") }),\n                      \"selectRow\" === c.role\n                          ? h.on(\"click\", function () {\n                                return !1;\n                            })\n                          : h.prop(\"disabled\", !0))\n                    : b.find('input[type=\"checkbox\"]').val(e).prop(\"checked\", !!d[c.field])\n                : \"icon\" === c.type\n                ? \"create\" === f && (b.append($(\"<span/>\").addClass(c.icon).css({ cursor: \"pointer\" })), \"bootstrap\" === a.data().uiLibrary && b.children(\"span\").addClass(\"glyphicon\"), (c.stopPropagation = !0))\n                : c.tmpl\n                ? ((g = c.tmpl),\n                  c.tmpl.replace(/\\{(.+?)\\}/g, function (a, b) {\n                      g = g.replace(a, gj.grid.methods.formatText(d[b], c));\n                  }),\n                  b.html(g))\n                : c.renderer && \"function\" == typeof c.renderer\n                ? (g = c.renderer(d[c.field], d, b.parent(), b, e, a)) && b.html(g)\n                : ((d[c.field] = gj.grid.methods.formatText(d[c.field], c)), !c.tooltip && d[c.field] && b.attr(\"title\", d[c.field]), b.html(d[c.field])),\n                c.tooltip && \"create\" === f && b.attr(\"title\", c.tooltip);\n        },\n        formatText: function (a, b) {\n            return (\n                (a = a && [\"date\", \"time\", \"datetime\"].indexOf(b.type) > -1 ? gj.core.formatDate(gj.core.parseDate(a, b.format), b.format) : void 0 === a || null === a ? \"\" : a.toString()),\n                b.decimalDigits && a && (a = parseFloat(a).toFixed(b.decimalDigits)),\n                a\n            );\n        },\n        setRecordsData: function (a, b) {\n            var c = [],\n                d = 0,\n                e = a.data();\n            return (\n                $.isArray(b) ? ((c = b), (d = b.length)) : e && e.mapping && $.isArray(b[e.mapping.dataField]) && ((c = b[e.mapping.dataField]), ((d = b[e.mapping.totalRecordsField]) && !isNaN(d)) || (d = 0)),\n                a.data(\"records\", c),\n                a.data(\"totalRecords\", d),\n                c\n            );\n        },\n        createRowClickHandler: function (a, b) {\n            return function () {\n                gj.grid.methods.setSelected(a, b, $(this));\n            };\n        },\n        selectRow: function (a, b, c, d) {\n            var e;\n            return (\n                c.addClass(b.style.content.rowSelected),\n                c.attr(\"data-selected\", \"true\"),\n                \"checkbox\" === b.selectionMethod &&\n                    ((e = c.find('input[type=\"checkbox\"][data-role=\"selectRow\"]')),\n                    e.length && !e.prop(\"checked\") && e.prop(\"checked\", !0),\n                    \"multiple\" === b.selectionType && a.getSelections().length === a.count(!1) && a.find('thead input[data-role=\"selectAll\"]').prop(\"checked\", !0)),\n                gj.grid.events.rowSelect(a, c, d, a.getById(d))\n            );\n        },\n        unselectRow: function (a, b, c, d) {\n            var e;\n            if (\"true\" === c.attr(\"data-selected\"))\n                return (\n                    c.removeClass(b.style.content.rowSelected),\n                    \"checkbox\" === b.selectionMethod &&\n                        ((e = c.find('td input[type=\"checkbox\"][data-role=\"selectRow\"]')),\n                        e.length && e.prop(\"checked\") && e.prop(\"checked\", !1),\n                        \"multiple\" === b.selectionType && a.find('thead input[data-role=\"selectAll\"]').prop(\"checked\", !1)),\n                    c.removeAttr(\"data-selected\"),\n                    gj.grid.events.rowUnselect(a, c, d, a.getById(d))\n                );\n        },\n        setSelected: function (a, b, c) {\n            var d = a.data();\n            return (\n                (c && c.length) || (c = gj.grid.methods.getRowById(a, b)),\n                c &&\n                    (\"true\" === c.attr(\"data-selected\")\n                        ? gj.grid.methods.unselectRow(a, d, c, b)\n                        : (\"single\" === d.selectionType &&\n                              c.siblings('[data-selected=\"true\"]').each(function () {\n                                  var b = $(this),\n                                      c = gj.grid.methods.getId(b, d.primaryKey, b.data(\"position\"));\n                                  gj.grid.methods.unselectRow(a, d, b, c);\n                              }),\n                          gj.grid.methods.selectRow(a, d, c, b))),\n                a\n            );\n        },\n        selectAll: function (a) {\n            var b = a.data();\n            return (\n                a.find('tbody tr[data-role=\"row\"]').each(function () {\n                    var c = $(this),\n                        d = c.data(\"position\"),\n                        e = a.get(d),\n                        f = gj.grid.methods.getId(e, b.primaryKey, d);\n                    gj.grid.methods.selectRow(a, b, c, f);\n                }),\n                a.find('thead input[data-role=\"selectAll\"]').prop(\"checked\", !0),\n                a\n            );\n        },\n        unSelectAll: function (a) {\n            var b = a.data();\n            return (\n                a.find(\"tbody tr\").each(function () {\n                    var c = $(this),\n                        d = c.data(\"position\"),\n                        e = a.get(d),\n                        f = gj.grid.methods.getId(e, b.primaryKey, d);\n                    gj.grid.methods.unselectRow(a, b, c, f), c.find('input[type=\"checkbox\"][data-role=\"selectRow\"]').prop(\"checked\", !1);\n                }),\n                a.find('thead input[data-role=\"selectAll\"]').prop(\"checked\", !1),\n                a\n            );\n        },\n        getSelected: function (a) {\n            var b,\n                c,\n                d,\n                e = null;\n            return (b = a.find('tbody>tr[data-selected=\"true\"]')), b.length > 0 && ((d = $(b[0]).data(\"position\")), (c = a.get(d)), (e = gj.grid.methods.getId(c, a.data().primaryKey, d))), e;\n        },\n        getSelectedRows: function (a) {\n            a.data();\n            return a.find('tbody>tr[data-selected=\"true\"]');\n        },\n        getSelections: function (a) {\n            var b,\n                c,\n                d = [],\n                e = a.data(),\n                f = gj.grid.methods.getSelectedRows(a);\n            return (\n                0 < f.length &&\n                    f.each(function () {\n                        (b = $(this).data(\"position\")), (c = a.get(b)), d.push(gj.grid.methods.getId(c, e.primaryKey, b));\n                    }),\n                d\n            );\n        },\n        getById: function (a, b) {\n            var c,\n                d = null,\n                e = a.data(\"primaryKey\"),\n                f = a.data(\"records\");\n            if (e) {\n                for (c = 0; c < f.length; c++)\n                    if (f[c][e] == b) {\n                        d = f[c];\n                        break;\n                    }\n            } else d = a.get(b);\n            return d;\n        },\n        getRecVPosById: function (a, b) {\n            var c,\n                d = b,\n                e = a.data();\n            if (e.primaryKey)\n                for (c = 0; c < e.dataSource.length; c++)\n                    if (e.dataSource[c][e.primaryKey] == b) {\n                        d = c;\n                        break;\n                    }\n            return d;\n        },\n        getRowById: function (a, b) {\n            var c,\n                d,\n                e = a.getAll(!1),\n                f = a.data(\"primaryKey\"),\n                g = void 0;\n            if (f) {\n                for (d = 0; d < e.length; d++)\n                    if (e[d][f] == b) {\n                        c = d + 1;\n                        break;\n                    }\n            } else c = b;\n            return c && (g = a.children(\"tbody\").children('tr[data-position=\"' + c + '\"]')), g;\n        },\n        getByPosition: function (a, b) {\n            return a.getAll(!1)[b - 1];\n        },\n        getColumnPosition: function (a, b) {\n            var c,\n                d = -1;\n            for (c = 0; c < a.length; c++)\n                if (a[c].field === b) {\n                    d = c;\n                    break;\n                }\n            return d;\n        },\n        getColumnInfo: function (a, b) {\n            var c,\n                d = {},\n                e = a.data();\n            for (c = 0; c < e.columns.length; c += 1)\n                if (e.columns[c].field === b) {\n                    d = e.columns[c];\n                    break;\n                }\n            return d;\n        },\n        getCell: function (a, b, c) {\n            var d,\n                e,\n                f = null;\n            return (d = gj.grid.methods.getColumnPosition(a.data(\"columns\"), c)), d > -1 && ((e = gj.grid.methods.getRowById(a, b)), (f = e.find(\"td:eq(\" + d + ') div[data-role=\"display\"]'))), f;\n        },\n        setCellContent: function (a, b, c, d) {\n            var e,\n                f = gj.grid.methods.getCell(a, b, c);\n            f && (f.empty(), \"object\" == typeof d ? f.append(d) : ((e = gj.grid.methods.getColumnInfo(a, c)), gj.grid.methods.renderDisplayElement(a, f, e, a.getById(b), b, \"update\")));\n        },\n        clone: function (a) {\n            var b = [];\n            return (\n                $.each(a, function () {\n                    b.push(this.clone());\n                }),\n                b\n            );\n        },\n        getAll: function (a) {\n            return a.data(\"records\");\n        },\n        countVisibleColumns: function (a) {\n            var b, c, d;\n            for (b = a.data().columns, c = 0, d = 0; d < b.length; d++) !0 !== b[d].hidden && c++;\n            return c;\n        },\n        clear: function (a, b) {\n            var c = a.data();\n            return a.xhr && a.xhr.abort(), a.children(\"tbody\").empty(), (c.records = []), gj.grid.methods.stopLoading(a), gj.grid.methods.appendEmptyRow(a, b ? c.notFoundText : \"&nbsp;\"), gj.grid.events.dataBound(a, [], 0), a;\n        },\n        render: function (a, b) {\n            return b && (gj.grid.methods.setRecordsData(a, b), gj.grid.methods.updateHeader(a), gj.grid.methods.loadData(a)), a;\n        },\n        filter: function (a) {\n            var b,\n                c,\n                d = a.data(),\n                e = d.dataSource.slice();\n            d.params[d.paramNames.sortBy] && ((c = gj.grid.methods.getColumnInfo(a, d.params[d.paramNames.sortBy])), e.sort(c.sortable.sorter ? c.sortable.sorter(c.direction, c) : gj.grid.methods.createDefaultSorter(c.direction, c.field)));\n            for (b in d.params)\n                d.params[b] &&\n                    !d.paramNames[b] &&\n                    ((c = gj.grid.methods.getColumnInfo(a, b)),\n                    (e = $.grep(e, function (a) {\n                        var e = a[b] || \"\",\n                            f = d.params[b] || \"\";\n                        return c && \"function\" == typeof c.filter ? c.filter(e, f) : e.toUpperCase().indexOf(f.toUpperCase()) > -1;\n                    })));\n            return gj.grid.events.dataFiltered(a, e), e;\n        },\n        createDefaultSorter: function (a, b) {\n            return function (c, d) {\n                var e = (c[b] || \"\").toString(),\n                    f = (d[b] || \"\").toString();\n                return \"asc\" === a ? e.localeCompare(f) : f.localeCompare(e);\n            };\n        },\n        destroy: function (a, b, c) {\n            return (\n                a.data() &&\n                    (gj.grid.events.destroying(a),\n                    gj.grid.methods.stopLoading(a),\n                    a.xhr && a.xhr.abort(),\n                    a.off(),\n                    !1 === c && a.parent('div[data-role=\"wrapper\"]').length > 0 && a.unwrap(),\n                    a.removeData(),\n                    !1 === b ? a.remove() : a.removeClass().empty(),\n                    a.removeAttr(\"data-type\")),\n                a\n            );\n        },\n        showColumn: function (a, b) {\n            var c,\n                d = a.data(),\n                e = gj.grid.methods.getColumnPosition(d.columns, b);\n            return (\n                e > -1 &&\n                    (a.find(\"thead>tr\").each(function () {\n                        $(this).children(\"th\").eq(e).show();\n                    }),\n                    $.each(a.find(\"tbody>tr\"), function () {\n                        $(this).children(\"td\").eq(e).show();\n                    }),\n                    (d.columns[e].hidden = !1),\n                    (c = a.find('tbody > tr[data-role=\"empty\"] > td')),\n                    c && c.length && c.attr(\"colspan\", gj.grid.methods.countVisibleColumns(a)),\n                    gj.grid.events.columnShow(a, d.columns[e])),\n                a\n            );\n        },\n        hideColumn: function (a, b) {\n            var c,\n                d = a.data(),\n                e = gj.grid.methods.getColumnPosition(d.columns, b);\n            return (\n                e > -1 &&\n                    (a.find(\"thead>tr\").each(function () {\n                        $(this).children(\"th\").eq(e).hide();\n                    }),\n                    $.each(a.find(\"tbody>tr\"), function () {\n                        $(this).children(\"td\").eq(e).hide();\n                    }),\n                    (d.columns[e].hidden = !0),\n                    (c = a.find('tbody > tr[data-role=\"empty\"] > td')),\n                    c && c.length && c.attr(\"colspan\", gj.grid.methods.countVisibleColumns(a)),\n                    gj.grid.events.columnHide(a, d.columns[e])),\n                a\n            );\n        },\n        isLastRecordVisible: function () {\n            return !0;\n        },\n        addRow: function (a, b) {\n            var c = a.data();\n            return (\n                (c.totalRecords = a.data(\"totalRecords\") + 1),\n                gj.grid.events.dataBinding(a, [b]),\n                c.records.push(b),\n                $.isArray(c.dataSource) && c.dataSource.push(b),\n                1 === c.totalRecords && a.children(\"tbody\").empty(),\n                gj.grid.methods.isLastRecordVisible(a) && gj.grid.methods.renderRow(a, null, b, a.count() - 1),\n                gj.grid.events.dataBound(a, [b], c.totalRecords),\n                a\n            );\n        },\n        updateRow: function (a, b, c) {\n            var d,\n                e = gj.grid.methods.getRowById(a, b),\n                f = a.data();\n            return (f.records[e.data(\"position\") - 1] = c), $.isArray(f.dataSource) && ((d = gj.grid.methods.getRecVPosById(a, b)), (f.dataSource[d] = c)), gj.grid.methods.renderRow(a, e, c, e.index()), a;\n        },\n        removeRow: function (a, b) {\n            var c,\n                d = a.data(),\n                e = gj.grid.methods.getRowById(a, b);\n            return gj.grid.events.rowRemoving(a, e, b, a.getById(b)), $.isArray(d.dataSource) && ((c = gj.grid.methods.getRecVPosById(a, b)), d.dataSource.splice(c, 1)), a.reload(), a;\n        },\n        count: function (a, b) {\n            return b ? a.data().totalRecords : a.getAll().length;\n        },\n        getColumnPositionByRole: function (a, b) {\n            var c,\n                d,\n                e = a.data(\"columns\");\n            for (c = 0; c < e.length; c++)\n                if (e[c].role === b) {\n                    d = c;\n                    break;\n                }\n            return d;\n        },\n        getColumnPositionNotInRole: function (a) {\n            var b,\n                c = 0,\n                d = a.data(\"columns\");\n            for (b = 0; b < d.length; b++)\n                if (!d[b].role) {\n                    c = b;\n                    break;\n                }\n            return c;\n        },\n    }),\n    (gj.grid.widget = function (a, b) {\n        var c = this,\n            d = gj.grid.methods;\n        return (\n            (c.reload = function (a) {\n                return d.startLoading(this), gj.widget.prototype.reload.call(this, a);\n            }),\n            (c.clear = function (a) {\n                return d.clear(this, a);\n            }),\n            (c.count = function (a) {\n                return d.count(this, a);\n            }),\n            (c.render = function (b) {\n                return d.render(a, b);\n            }),\n            (c.destroy = function (a, b) {\n                return d.destroy(this, a, b);\n            }),\n            (c.setSelected = function (a) {\n                return d.setSelected(this, a);\n            }),\n            (c.getSelected = function () {\n                return d.getSelected(this);\n            }),\n            (c.getSelections = function () {\n                return d.getSelections(this);\n            }),\n            (c.selectAll = function () {\n                return d.selectAll(this);\n            }),\n            (c.unSelectAll = function () {\n                return d.unSelectAll(this);\n            }),\n            (c.getById = function (a) {\n                return d.getById(this, a);\n            }),\n            (c.get = function (a) {\n                return d.getByPosition(this, a);\n            }),\n            (c.getAll = function (a) {\n                return d.getAll(this, a);\n            }),\n            (c.showColumn = function (a) {\n                return d.showColumn(this, a);\n            }),\n            (c.hideColumn = function (a) {\n                return d.hideColumn(this, a);\n            }),\n            (c.addRow = function (a) {\n                return d.addRow(this, a);\n            }),\n            (c.updateRow = function (a, b) {\n                return d.updateRow(this, a, b);\n            }),\n            (c.setCellContent = function (a, b, c) {\n                d.setCellContent(this, a, b, c);\n            }),\n            (c.removeRow = function (a) {\n                return d.removeRow(this, a);\n            }),\n            $.extend(a, c),\n            \"grid\" !== a.attr(\"data-type\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.grid.widget.prototype = new gj.widget()),\n    (gj.grid.widget.constructor = gj.grid.widget),\n    (gj.grid.widget.prototype.getConfig = gj.grid.methods.getConfig),\n    (gj.grid.widget.prototype.getHTMLConfig = gj.grid.methods.getHTMLConfig),\n    (function (a) {\n        a.fn.grid = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.grid.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.grid.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.grid.plugins.fixedHeader = {\n        config: { base: { fixedHeader: !1, height: 300 } },\n        private: {\n            init: function (a) {\n                var b = a.data(),\n                    c = a.children(\"tbody\"),\n                    d = a.children(\"thead\"),\n                    e = b.height - d.outerHeight() - (a.children(\"tfoot\").outerHeight() || 0);\n                a.addClass(\"gj-grid-scrollable\"), c.css(\"width\", d.outerWidth()), c.height(e);\n            },\n            refresh: function (a) {\n                var b,\n                    c,\n                    d = (a.data(), a.children(\"tbody\")),\n                    e = a.children(\"thead\"),\n                    f = a.find('tbody tr[data-role=\"row\"] td'),\n                    g = a.find('thead tr[data-role=\"caption\"] th');\n                for (\n                    a.children(\"tbody\").height() < gj.grid.plugins.fixedHeader.private.getRowsHeight(a)\n                        ? d.css(\"width\", e.outerWidth() + gj.grid.plugins.fixedHeader.private.getScrollBarWidth() + (navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1 ? 1 : 0))\n                        : d.css(\"width\", e.outerWidth()),\n                        b = 0;\n                    b < g.length;\n                    b++\n                )\n                    (c = $(g[b]).outerWidth()), 0 === b && gj.core.isIE() && (c -= 1), $(f[b]).attr(\"width\", c);\n            },\n            getRowsHeight: function (a) {\n                var b = 0;\n                return (\n                    a.find(\"tbody tr\").each(function () {\n                        b += $(this).height();\n                    }),\n                    b\n                );\n            },\n            getScrollBarWidth: function () {\n                var a = document.createElement(\"p\");\n                (a.style.width = \"100%\"), (a.style.height = \"200px\");\n                var b = document.createElement(\"div\");\n                (b.style.position = \"absolute\"),\n                    (b.style.top = \"0px\"),\n                    (b.style.left = \"0px\"),\n                    (b.style.visibility = \"hidden\"),\n                    (b.style.width = \"200px\"),\n                    (b.style.height = \"150px\"),\n                    (b.style.overflow = \"hidden\"),\n                    b.appendChild(a),\n                    document.body.appendChild(b);\n                var c = a.offsetWidth;\n                b.style.overflow = \"scroll\";\n                var d = a.offsetWidth;\n                return c == d && (d = b.clientWidth), document.body.removeChild(b), c - d;\n            },\n        },\n        public: {},\n        events: {},\n        configure: function (a, b, c) {\n            $.extend(!0, a, gj.grid.plugins.fixedHeader.public);\n            a.data();\n            c.fixedHeader &&\n                (a.on(\"initialized\", function () {\n                    gj.grid.plugins.fixedHeader.private.init(a);\n                }),\n                a.on(\"dataBound\", function () {\n                    gj.grid.plugins.fixedHeader.private.refresh(a);\n                }),\n                a.on(\"resize\", function () {\n                    gj.grid.plugins.fixedHeader.private.refresh(a);\n                }));\n        },\n    }),\n    (gj.grid.plugins.expandCollapseRows = {\n        config: {\n            base: { detailTemplate: void 0, keepExpandedRows: !0, expandedRows: [], icons: { expandRow: '<i class=\"gj-icon chevron-right\" />', collapseRow: '<i class=\"gj-icon chevron-down\" />' } },\n            fontawesome: { icons: { expandRow: '<i class=\"fa fa-angle-right\" aria-hidden=\"true\"></i>', collapseRow: '<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>' } },\n            glyphicons: { icons: { expandRow: '<span class=\"glyphicon glyphicon-chevron-right\" />', collapseRow: '<span class=\"glyphicon glyphicon-chevron-down\" />' } },\n        },\n        private: {\n            expandDetail: function (a, b, c) {\n                var d = b.closest(\"tr\"),\n                    e = $('<tr data-role=\"details\" />'),\n                    f = $('<td colspan=\"' + gj.grid.methods.countVisibleColumns(a) + '\" />'),\n                    g = $('<div data-role=\"display\" />'),\n                    h = a.data(),\n                    i = d.data(\"position\"),\n                    j = a.get(i),\n                    k = gj.grid.plugins.expandCollapseRows;\n                void 0 === typeof c && (c = gj.grid.methods.getId(j, h.primaryKey, j)),\n                    e.append(f.append(g.append(d.data(\"details\")))),\n                    e.insertAfter(d),\n                    b.children('div[data-role=\"display\"]').empty().append(h.icons.collapseRow),\n                    a.updateDetails(d),\n                    k.private.keepSelection(a, c),\n                    k.events.detailExpand(a, e.find(\"td>div\"), c);\n            },\n            collapseDetail: function (a, b, c) {\n                var d = b.closest(\"tr\"),\n                    e = d.next('tr[data-role=\"details\"]'),\n                    f = a.data(),\n                    g = gj.grid.plugins.expandCollapseRows;\n                void 0 === typeof c && (c = gj.grid.methods.getId(record, f.primaryKey, record)),\n                    e.remove(),\n                    b.children('div[data-role=\"display\"]').empty().append(f.icons.expandRow),\n                    g.private.removeSelection(a, c),\n                    g.events.detailCollapse(a, e.find(\"td>div\"), c);\n            },\n            keepSelection: function (a, b) {\n                var c = a.data();\n                c.keepExpandedRows && ($.isArray(c.expandedRows) ? -1 == c.expandedRows.indexOf(b) && c.expandedRows.push(b) : (c.expandedRows = [b]));\n            },\n            removeSelection: function (a, b) {\n                var c = a.data();\n                c.keepExpandedRows && $.isArray(c.expandedRows) && c.expandedRows.indexOf(b) > -1 && c.expandedRows.splice(c.expandedRows.indexOf(b), 1);\n            },\n            updateDetailsColSpan: function (a) {\n                var b = a.find('tbody > tr[data-role=\"details\"] > td');\n                b && b.length && b.attr(\"colspan\", gj.grid.methods.countVisibleColumns(a));\n            },\n        },\n        public: {\n            collapseAll: function () {\n                var a,\n                    b = this,\n                    c = b.data();\n                return (\n                    void 0 !== c.detailTemplate &&\n                        ((a = gj.grid.methods.getColumnPositionByRole(b, \"expander\")),\n                        b.find('tbody tr[data-role=\"row\"]').each(function () {\n                            gj.grid.plugins.expandCollapseRows.private.collapseDetail(b, $(this).find(\"td:eq(\" + a + \")\"));\n                        })),\n                    void 0 !== c.grouping &&\n                        b.find('tbody tr[role=\"group\"]').each(function () {\n                            gj.grid.plugins.grouping.private.collapseGroup(c, $(this).find(\"td:eq(0)\"));\n                        }),\n                    b\n                );\n            },\n            expandAll: function () {\n                var a,\n                    b = this,\n                    c = b.data();\n                return (\n                    void 0 !== c.detailTemplate &&\n                        ((a = gj.grid.methods.getColumnPositionByRole(b, \"expander\")),\n                        b.find('tbody tr[data-role=\"row\"]').each(function () {\n                            gj.grid.plugins.expandCollapseRows.private.expandDetail(b, $(this).find(\"td:eq(\" + a + \")\"));\n                        })),\n                    void 0 !== c.grouping &&\n                        b.find('tbody tr[role=\"group\"]').each(function () {\n                            gj.grid.plugins.grouping.private.expandGroup(c, $(this).find(\"td:eq(0)\"));\n                        }),\n                    b\n                );\n            },\n            updateDetails: function (a) {\n                var b = this,\n                    c = a.data(\"details\"),\n                    d = c.html(),\n                    e = b.get(a.data(\"position\"));\n                return (\n                    e &&\n                        d &&\n                        (c.html().replace(/\\{(.+?)\\}/g, function (a, c) {\n                            var f = gj.grid.methods.getColumnInfo(b, c);\n                            d = d.replace(a, gj.grid.methods.formatText(e[c], f));\n                        }),\n                        c.html(d)),\n                    b\n                );\n            },\n        },\n        events: {\n            detailExpand: function (a, b, c) {\n                a.triggerHandler(\"detailExpand\", [b, c]);\n            },\n            detailCollapse: function (a, b, c) {\n                a.triggerHandler(\"detailCollapse\", [b, c]);\n            },\n        },\n        configure: function (a) {\n            var b,\n                c = a.data();\n            $.extend(!0, a, gj.grid.plugins.expandCollapseRows.public),\n                void 0 !== c.detailTemplate &&\n                    ((b = {\n                        title: \"\",\n                        width: c.defaultIconColumnWidth,\n                        align: \"center\",\n                        stopPropagation: !0,\n                        cssClass: \"gj-cursor-pointer gj-unselectable\",\n                        tmpl: c.icons.expandRow,\n                        role: \"expander\",\n                        events: {\n                            click: function (b) {\n                                var c = $(this),\n                                    d = gj.grid.plugins.expandCollapseRows.private;\n                                \"details\" === c.closest(\"tr\").next().attr(\"data-role\") ? d.collapseDetail(a, c, b.data.id) : d.expandDetail(a, $(this), b.data.id);\n                            },\n                        },\n                    }),\n                    (c.columns = [b].concat(c.columns)),\n                    a.on(\"rowDataBound\", function (a, b, d, e) {\n                        b.data(\"details\", $(c.detailTemplate));\n                    }),\n                    a.on(\"columnShow\", function (b, c) {\n                        gj.grid.plugins.expandCollapseRows.private.updateDetailsColSpan(a);\n                    }),\n                    a.on(\"columnHide\", function (b, c) {\n                        gj.grid.plugins.expandCollapseRows.private.updateDetailsColSpan(a);\n                    }),\n                    a.on(\"rowRemoving\", function (b, c, d, e) {\n                        gj.grid.plugins.expandCollapseRows.private.collapseDetail(a, c.children(\"td\").first(), d);\n                    }),\n                    a.on(\"dataBinding\", function () {\n                        a.collapseAll();\n                    }),\n                    a.on(\"pageChanging\", function () {\n                        a.collapseAll();\n                    }),\n                    a.on(\"dataBound\", function () {\n                        var b,\n                            c,\n                            d,\n                            e,\n                            f = a.data();\n                        if (f.keepExpandedRows && $.isArray(f.expandedRows))\n                            for (b = 0; b < f.expandedRows.length; b++)\n                                (d = gj.grid.methods.getRowById(a, f.expandedRows[b])) &&\n                                    d.length &&\n                                    ((e = gj.grid.methods.getColumnPositionByRole(a, \"expander\")), (c = d.children(\"td:eq(\" + e + \")\")) && c.length && gj.grid.plugins.expandCollapseRows.private.expandDetail(a, c));\n                    }));\n        },\n    }),\n    (gj.grid.plugins.inlineEditing = {\n        renderers: {\n            editManager: function (a, b, c, d, e, f) {\n                var g = f.data(),\n                    h = $(g.inlineEditing.editButton).attr(\"key\", e),\n                    i = $(g.inlineEditing.deleteButton).attr(\"key\", e),\n                    j = $(g.inlineEditing.updateButton).attr(\"key\", e).hide(),\n                    k = $(g.inlineEditing.cancelButton).attr(\"key\", e).hide();\n                h.on(\"click\", function (a) {\n                    f.edit($(this).attr(\"key\"));\n                }),\n                    i.on(\"click\", function (a) {\n                        f.removeRow($(this).attr(\"key\"));\n                    }),\n                    j.on(\"click\", function (a) {\n                        f.update($(this).attr(\"key\"));\n                    }),\n                    k.on(\"click\", function (a) {\n                        f.cancel($(this).attr(\"key\"));\n                    }),\n                    d.empty().append(h).append(i).append(j).append(k);\n            },\n        },\n    }),\n    (gj.grid.plugins.inlineEditing.config = {\n        base: {\n            defaultColumnSettings: { editor: void 0, editField: void 0, mode: \"readEdit\" },\n            inlineEditing: {\n                mode: \"click\",\n                managementColumn: !0,\n                managementColumnConfig: { width: 300, role: \"managementColumn\", align: \"center\", renderer: gj.grid.plugins.inlineEditing.renderers.editManager, cssClass: \"gj-grid-management-column\" },\n            },\n        },\n        bootstrap: { inlineEditing: { managementColumnConfig: { width: 200, role: \"managementColumn\", align: \"center\", renderer: gj.grid.plugins.inlineEditing.renderers.editManager, cssClass: \"gj-grid-management-column\" } } },\n        bootstrap4: { inlineEditing: { managementColumnConfig: { width: 280, role: \"managementColumn\", align: \"center\", renderer: gj.grid.plugins.inlineEditing.renderers.editManager, cssClass: \"gj-grid-management-column\" } } },\n    }),\n    (gj.grid.plugins.inlineEditing.private = {\n        localization: function (a) {\n            \"bootstrap\" === a.uiLibrary\n                ? ((a.inlineEditing.editButton = '<button role=\"edit\" class=\"btn btn-default btn-sm\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span> ' + gj.grid.messages[a.locale].Edit + \"</button>\"),\n                  (a.inlineEditing.deleteButton =\n                      '<button role=\"delete\" class=\"btn btn-default btn-sm gj-margin-left-10\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span> ' + gj.grid.messages[a.locale].Delete + \"</button>\"),\n                  (a.inlineEditing.updateButton = '<button role=\"update\" class=\"btn btn-default btn-sm\"><span class=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span> ' + gj.grid.messages[a.locale].Update + \"</button>\"),\n                  (a.inlineEditing.cancelButton =\n                      '<button role=\"cancel\" class=\"btn btn-default btn-sm gj-margin-left-10\"><span class=\"glyphicon glyphicon-ban-circle\" aria-hidden=\"true\"></span> ' + gj.grid.messages[a.locale].Cancel + \"</button>\"))\n                : ((a.inlineEditing.editButton = '<button role=\"edit\" class=\"gj-button-md\"><i class=\"gj-icon pencil\" /> ' + gj.grid.messages[a.locale].Edit.toUpperCase() + \"</button>\"),\n                  (a.inlineEditing.deleteButton = '<button role=\"delete\" class=\"gj-button-md\"><i class=\"gj-icon delete\" /> ' + gj.grid.messages[a.locale].Delete.toUpperCase() + \"</button>\"),\n                  (a.inlineEditing.updateButton = '<button role=\"update\" class=\"gj-button-md\"><i class=\"gj-icon check-circle\" /> ' + gj.grid.messages[a.locale].Update.toUpperCase() + \"</button>\"),\n                  (a.inlineEditing.cancelButton = '<button role=\"cancel\" class=\"gj-button-md\"><i class=\"gj-icon cancel\" /> ' + gj.grid.messages[a.locale].Cancel.toUpperCase() + \"</button>\"));\n        },\n        editMode: function (a, b, c, d) {\n            var e,\n                f,\n                g,\n                h,\n                i,\n                j = a.data();\n            if (\"edit\" !== b.attr(\"data-mode\"))\n                if (c.editor) {\n                    if (\n                        (gj.grid.plugins.inlineEditing.private.updateOtherCells(a, c.mode),\n                        (e = b.find('div[data-role=\"display\"]').hide()),\n                        (f = b.find('div[data-role=\"edit\"]').show()),\n                        0 === f.length && ((f = $('<div data-role=\"edit\" />')), b.append(f)),\n                        (h = d[c.editField || c.field]),\n                        (g = f.find(\"input, select, textarea\").first()),\n                        g.length)\n                    )\n                        switch (c.type) {\n                            case \"checkbox\":\n                                g.prop(\"checked\", h);\n                                break;\n                            case \"dropdown\":\n                                g = g.dropdown(\"value\", h);\n                                break;\n                            default:\n                                g.val(h);\n                        }\n                    else {\n                        if (\"function\" == typeof c.editor) c.editor(f, h, d), (g = f.find(\"input, select, textarea\").first());\n                        else if (\n                            ((i = \"object\" == typeof c.editor ? c.editor : {}), (i.uiLibrary = j.uiLibrary), (i.iconsLibrary = j.iconsLibrary), (i.fontSize = a.css(\"font-size\")), (i.showOnFocus = !1), \"checkbox\" === c.type && gj.checkbox)\n                        )\n                            (g = $('<input type=\"checkbox\" />').prop(\"checked\", h)), f.append(g), g.checkbox(i);\n                        else if ((\"date\" === c.type && gj.datepicker) || (\"time\" === c.type && gj.timepicker) || (\"datetime\" === c.type && gj.datetimepicker)) {\n                            switch (((g = $('<input type=\"text\" width=\"100%\"/>')), f.append(g), c.format && (i.format = c.format), c.type)) {\n                                case \"date\":\n                                    g = g.datepicker(i);\n                                    break;\n                                case \"time\":\n                                    g = g.timepicker(i);\n                                    break;\n                                case \"datetime\":\n                                    g = g.datetimepicker(i);\n                            }\n                            g.value && g.value(e.html());\n                        } else\n                            \"dropdown\" === c.type && gj.dropdown\n                                ? ((g = $('<select type=\"text\" width=\"100%\"/>')),\n                                  f.append(g),\n                                  (i.dataBound = function (a) {\n                                      var b = $(this).dropdown();\n                                      c.editField ? b.value(d[c.editField]) : b.value(d[c.field]);\n                                  }),\n                                  (g = g.dropdown(i)))\n                                : ((g = $('<input type=\"text\" value=\"' + h + '\" class=\"gj-width-full\"/>')), \"materialdesign\" === j.uiLibrary && g.addClass(\"gj-textbox-md\").css(\"font-size\", a.css(\"font-size\")), f.append(g));\n                        \"command\" !== j.inlineEditing.mode &&\n                            \"editOnly\" !== c.mode &&\n                            ((g = f.find(\"input, select, textarea\").first()),\n                            g.on(\"keyup\", function (d) {\n                                (13 !== d.keyCode && 27 !== d.keyCode) || gj.grid.plugins.inlineEditing.private.displayMode(a, b, c);\n                            }));\n                    }\n                    \"INPUT\" === g.prop(\"tagName\").toUpperCase() && \"TEXT\" === g.prop(\"type\").toUpperCase() ? gj.core.setCaretAtEnd(g[0]) : g.focus(), b.attr(\"data-mode\", \"edit\");\n                } else \"managementColumn\" === c.role && (b.find('[role=\"edit\"]').hide(), b.find('[role=\"delete\"]').hide(), b.find('[role=\"update\"]').show(), b.find('[role=\"cancel\"]').show());\n        },\n        displayMode: function (a, b, c, d) {\n            var e, f, g, h, i, j, k;\n            \"editOnly\" !== c.mode &&\n                (\"edit\" === b.attr(\"data-mode\") &&\n                    ((e = b.find('div[data-role=\"edit\"]')),\n                    (f = b.find('div[data-role=\"display\"]')),\n                    (g = e.find(\"input, select, textarea\").first()),\n                    \"SELECT\" === g[0].tagName.toUpperCase() && g[0].selectedIndex > -1\n                        ? ((h = g[0].options[g[0].selectedIndex].innerHTML), (i = g[0].value))\n                        : (h = \"INPUT\" === g[0].tagName.toUpperCase() && \"CHECKBOX\" === g[0].type.toUpperCase() ? g[0].checked : g.val()),\n                    (k = b.parent().data(\"position\")),\n                    (j = a.get(k)),\n                    !0 !== d &&\n                        h !== j[c.field] &&\n                        ((j[c.field] = \"date\" === c.type ? gj.core.parseDate(h, c.format) : h),\n                        c.editField && (j[c.editField] = i || h),\n                        \"editOnly\" !== c.mode &&\n                            (gj.grid.methods.renderDisplayElement(a, f, c, j, gj.grid.methods.getId(j, a.data(\"primaryKey\"), k), \"update\"), 0 === b.find(\"span.gj-dirty\").length && b.prepend($('<span class=\"gj-dirty\" />'))),\n                        gj.grid.plugins.inlineEditing.events.cellDataChanged(a, b, c, j, h),\n                        gj.grid.plugins.inlineEditing.private.updateChanges(a, c, j, h)),\n                    e.hide(),\n                    f.show(),\n                    b.attr(\"data-mode\", \"display\")),\n                \"managementColumn\" === c.role && (b.find('[role=\"update\"]').hide(), b.find('[role=\"cancel\"]').hide(), b.find('[role=\"edit\"]').show(), b.find('[role=\"delete\"]').show()));\n        },\n        updateOtherCells: function (a, b) {\n            var c = a.data();\n            \"command\" !== c.inlineEditing.mode &&\n                \"editOnly\" !== b &&\n                a\n                    .find('div[data-role=\"edit\"]:visible')\n                    .parent(\"td\")\n                    .each(function () {\n                        var b = $(this),\n                            d = c.columns[b.index()];\n                        gj.grid.plugins.inlineEditing.private.displayMode(a, b, d);\n                    });\n        },\n        updateChanges: function (a, b, c, d) {\n            var e,\n                f,\n                g,\n                h = a.data();\n            h.guid || (h.guid = gj.grid.plugins.inlineEditing.private.generateGUID()),\n                h.primaryKey &&\n                    ((e = JSON.parse(sessionStorage.getItem(\"gj.grid.\" + h.guid))),\n                    e\n                        ? (f = e.filter(function (a) {\n                              return a[h.primaryKey] === c[h.primaryKey];\n                          }))\n                        : (e = []),\n                    f && 1 === f.length ? (f[0][b.field] = d) : ((g = {}), (g[h.primaryKey] = c[h.primaryKey]), h.primaryKey !== b.field && (g[b.field] = d), e.push(g)),\n                    sessionStorage.setItem(\"gj.grid.\" + h.guid, JSON.stringify(e)));\n        },\n        generateGUID: function () {\n            function a() {\n                return Math.floor(65536 * (1 + Math.random()))\n                    .toString(16)\n                    .substring(1);\n            }\n            return a() + a() + \"-\" + a() + \"-\" + a() + \"-\" + a() + \"-\" + a() + a() + a();\n        },\n    }),\n    (gj.grid.plugins.inlineEditing.public = {\n        getChanges: function () {\n            return JSON.parse(sessionStorage.getItem(\"gj.grid.\" + this.data().guid));\n        },\n        edit: function (a) {\n            var b,\n                c = this.getById(a),\n                d = gj.grid.methods.getRowById(this, a).children(\"td\"),\n                e = this.data(\"columns\");\n            for (b = 0; b < d.length; b++) gj.grid.plugins.inlineEditing.private.editMode(this, $(d[b]), e[b], c);\n            return this;\n        },\n        update: function (a) {\n            var b,\n                c = this.getById(a),\n                d = gj.grid.methods.getRowById(this, a).children(\"td\"),\n                e = this.data(\"columns\");\n            for (b = 0; b < d.length; b++) gj.grid.plugins.inlineEditing.private.displayMode(this, $(d[b]), e[b], !1);\n            return gj.grid.plugins.inlineEditing.events.rowDataChanged(this, a, c), this;\n        },\n        cancel: function (a) {\n            var b,\n                c = (this.getById(a), gj.grid.methods.getRowById(this, a).children(\"td\")),\n                d = this.data(\"columns\");\n            for (b = 0; b < c.length; b++) gj.grid.plugins.inlineEditing.private.displayMode(this, $(c[b]), d[b], !0);\n            return this;\n        },\n    }),\n    (gj.grid.plugins.inlineEditing.events = {\n        cellDataChanged: function (a, b, c, d, e, f) {\n            a.triggerHandler(\"cellDataChanged\", [b, c, d, e, f]);\n        },\n        rowDataChanged: function (a, b, c) {\n            a.triggerHandler(\"rowDataChanged\", [b, c]);\n        },\n    }),\n    (gj.grid.plugins.inlineEditing.configure = function (a, b, c) {\n        var d = a.data();\n        $.extend(!0, a, gj.grid.plugins.inlineEditing.public),\n            c.inlineEditing &&\n                (a.on(\"dataBound\", function () {\n                    a.find(\"span.gj-dirty\").remove();\n                }),\n                a.on(\"rowDataBound\", function (b, c, d, e) {\n                    a.cancel(d);\n                })),\n            \"command\" === d.inlineEditing.mode\n                ? (gj.grid.plugins.inlineEditing.private.localization(d), b.inlineEditing.managementColumn && d.columns.push(b.inlineEditing.managementColumnConfig))\n                : a.on(\"cellDataBound\", function (b, c, e, f, g) {\n                      f.editor &&\n                          (\"editOnly\" === f.mode\n                              ? gj.grid.plugins.inlineEditing.private.editMode(a, c.parent(), f, g)\n                              : c.parent(\"td\").on(\"dblclick\" === d.inlineEditing.mode ? \"dblclick\" : \"click\", function () {\n                                    gj.grid.plugins.inlineEditing.private.editMode(a, c.parent(), f, g);\n                                }));\n                  });\n    }),\n    (gj.grid.plugins.optimisticPersistence = {\n        config: { base: { optimisticPersistence: { localStorage: void 0, sessionStorage: void 0 } } },\n        private: {\n            applyParams: function (a) {\n                var b,\n                    c = a.data(),\n                    d = {};\n                (b = JSON.parse(sessionStorage.getItem(\"gj.grid.\" + c.guid))),\n                    b && b.optimisticPersistence && $.extend(d, b.optimisticPersistence),\n                    (b = JSON.parse(localStorage.getItem(\"gj.grid.\" + c.guid))),\n                    b && b.optimisticPersistence && $.extend(d, b.optimisticPersistence),\n                    $.extend(c.params, d);\n            },\n            saveParams: function (a) {\n                var b,\n                    c,\n                    d = a.data(),\n                    e = { optimisticPersistence: {} };\n                if (d.optimisticPersistence.sessionStorage) {\n                    for (b = 0; b < d.optimisticPersistence.sessionStorage.length; b++) (c = d.optimisticPersistence.sessionStorage[b]), (e.optimisticPersistence[c] = d.params[c]);\n                    (e = $.extend(!0, JSON.parse(sessionStorage.getItem(\"gj.grid.\" + d.guid)), e)), sessionStorage.setItem(\"gj.grid.\" + d.guid, JSON.stringify(e));\n                }\n                if (d.optimisticPersistence.localStorage) {\n                    for (e = { optimisticPersistence: {} }, b = 0; b < d.optimisticPersistence.localStorage.length; b++) (c = d.optimisticPersistence.localStorage[b]), (e.optimisticPersistence[c] = d.params[c]);\n                    (e = $.extend(!0, JSON.parse(localStorage.getItem(\"gj.grid.\" + d.guid)), e)), localStorage.setItem(\"gj.grid.\" + d.guid, JSON.stringify(e));\n                }\n            },\n        },\n        configure: function (a, b, c) {\n            b.guid &&\n                (b.optimisticPersistence.localStorage || b.optimisticPersistence.sessionStorage) &&\n                (gj.grid.plugins.optimisticPersistence.private.applyParams(a),\n                a.on(\"dataBound\", function (b) {\n                    gj.grid.plugins.optimisticPersistence.private.saveParams(a);\n                }));\n        },\n    }),\n    (gj.grid.plugins.pagination = {\n        config: {\n            base: { style: { pager: { panel: \"\", stateDisabled: \"\", activeButton: \"\" } }, paramNames: { page: \"page\", limit: \"limit\" }, pager: { limit: 10, sizes: [5, 10, 20, 100], leftControls: void 0, rightControls: void 0 } },\n            bootstrap: { style: { pager: { panel: \"\", stateDisabled: \"\" } } },\n            bootstrap4: { style: { pager: { panel: \"btn-toolbar\", stateDisabled: \"\" } } },\n            glyphicons: {\n                icons: {\n                    first: '<span class=\"glyphicon glyphicon-step-backward\"></span>',\n                    previous: '<span class=\"glyphicon glyphicon-backward\"></span>',\n                    next: '<span class=\"glyphicon glyphicon-forward\"></span>',\n                    last: '<span class=\"glyphicon glyphicon-step-forward\"></span>',\n                    refresh: '<span class=\"glyphicon glyphicon-refresh\"></span>',\n                },\n            },\n            materialicons: {\n                icons: {\n                    first: '<i class=\"gj-icon first-page\" />',\n                    previous: '<i class=\"gj-icon chevron-left\" />',\n                    next: '<i class=\"gj-icon chevron-right\" />',\n                    last: '<i class=\"gj-icon last-page\" />',\n                    refresh: '<i class=\"gj-icon refresh\" />',\n                },\n            },\n            fontawesome: {\n                icons: {\n                    first: '<i class=\"fa fa-fast-backward\" aria-hidden=\"true\"></i>',\n                    previous: '<i class=\"fa fa-backward\" aria-hidden=\"true\"></i>',\n                    next: '<i class=\"fa fa-forward\" aria-hidden=\"true\"></i>',\n                    last: '<i class=\"fa fa-fast-forward\" aria-hidden=\"true\"></i>',\n                    refresh: '<i class=\"fa fa-refresh\" aria-hidden=\"true\"></i>',\n                },\n            },\n        },\n        private: {\n            init: function (a) {\n                var b, c, d, e, f, g, h, i, j, k;\n                if (((d = a.data()), d.pager))\n                    for (\n                        d.params[d.paramNames.page] || (d.params[d.paramNames.page] = 1),\n                            d.params[d.paramNames.limit] || (d.params[d.paramNames.limit] = d.pager.limit),\n                            gj.grid.plugins.pagination.private.localization(d),\n                            b = $('<tr data-role=\"pager\"/>'),\n                            c = $(\"<th/>\"),\n                            b.append(c),\n                            f = $('<div data-role=\"display\" />').addClass(d.style.pager.panel).css({ float: \"left\" }),\n                            g = $('<div data-role=\"display\" />').addClass(d.style.pager.panel).css({ float: \"right\" }),\n                            c.append(f).append(g),\n                            h = $(\"<tfoot />\").append(b),\n                            a.append(h),\n                            gj.grid.plugins.pagination.private.updatePagerColSpan(a),\n                            i = gj.grid.methods.clone(d.pager.leftControls),\n                            $.each(i, function () {\n                                f.append(this);\n                            }),\n                            j = gj.grid.methods.clone(d.pager.rightControls),\n                            $.each(j, function () {\n                                g.append(this);\n                            }),\n                            e = a.find(\"tfoot [data-role]\"),\n                            k = 0;\n                        k < e.length;\n                        k++\n                    )\n                        gj.grid.plugins.pagination.private.initPagerControl($(e[k]), a);\n            },\n            localization: function (a) {\n                \"bootstrap\" === a.uiLibrary\n                    ? gj.grid.plugins.pagination.private.localizationBootstrap(a)\n                    : \"bootstrap4\" === a.uiLibrary\n                    ? gj.grid.plugins.pagination.private.localizationBootstrap4(a)\n                    : gj.grid.plugins.pagination.private.localizationMaterialDesign(a);\n            },\n            localizationBootstrap: function (a) {\n                var b = gj.grid.messages[a.locale];\n                void 0 === a.pager.leftControls &&\n                    (a.pager.leftControls = [\n                        $('<button type=\"button\" class=\"btn btn-default btn-sm\">' + (a.icons.first || b.First) + \"</button>\")\n                            .attr(\"title\", b.FirstPageTooltip)\n                            .attr(\"data-role\", \"page-first\"),\n                        $('<button type=\"button\" class=\"btn btn-default btn-sm\">' + (a.icons.previous || b.Previous) + \"</button>\")\n                            .attr(\"title\", b.PreviousPageTooltip)\n                            .attr(\"data-role\", \"page-previous\"),\n                        $(\"<div>\" + b.Page + \"</div>\"),\n                        $('<input data-role=\"page-number\" class=\"form-control input-sm\" type=\"text\" value=\"0\">'),\n                        $(\"<div>\" + b.Of + \"</div>\"),\n                        $('<div data-role=\"page-label-last\">0</div>'),\n                        $('<button type=\"button\" class=\"btn btn-default btn-sm\">' + (a.icons.next || b.Next) + \"</button>\")\n                            .attr(\"title\", b.NextPageTooltip)\n                            .attr(\"data-role\", \"page-next\"),\n                        $('<button type=\"button\" class=\"btn btn-default btn-sm\">' + (a.icons.last || b.Last) + \"</button>\")\n                            .attr(\"title\", b.LastPageTooltip)\n                            .attr(\"data-role\", \"page-last\"),\n                        $('<button type=\"button\" class=\"btn btn-default btn-sm\">' + (a.icons.refresh || b.Refresh) + \"</button>\")\n                            .attr(\"title\", b.Refresh)\n                            .attr(\"data-role\", \"page-refresh\"),\n                        $('<select data-role=\"page-size\" class=\"form-control input-sm\" width=\"60\"></select>'),\n                    ]),\n                    void 0 === a.pager.rightControls &&\n                        (a.pager.rightControls = [\n                            $(\"<div>\" + b.DisplayingRecords + \"</div>\"),\n                            $('<div data-role=\"record-first\">0</div>'),\n                            $(\"<div>-</div>\"),\n                            $('<div data-role=\"record-last\">0</div>'),\n                            $(\"<div>\" + b.Of + \"</div>\"),\n                            $('<div data-role=\"record-total\">0</div>'),\n                        ]);\n            },\n            localizationBootstrap4: function (a) {\n                var b = gj.grid.messages[a.locale];\n                void 0 === a.pager.leftControls &&\n                    (a.pager.leftControls = [\n                        $('<button class=\"btn btn-default btn-sm gj-cursor-pointer\">' + (a.icons.first || b.First) + \"</button>\")\n                            .attr(\"title\", b.FirstPageTooltip)\n                            .attr(\"data-role\", \"page-first\"),\n                        $('<button class=\"btn btn-default btn-sm gj-cursor-pointer\">' + (a.icons.previous || b.Previous) + \"</button>\")\n                            .attr(\"title\", b.PreviousPageTooltip)\n                            .attr(\"data-role\", \"page-previous\"),\n                        $(\"<div>\" + b.Page + \"</div>\"),\n                        $('<div class=\"input-group\"><input data-role=\"page-number\" class=\"form-control form-control-sm\" type=\"text\" value=\"0\"></div>'),\n                        $(\"<div>\" + b.Of + \"</div>\"),\n                        $('<div data-role=\"page-label-last\">0</div>'),\n                        $('<button class=\"btn btn-default btn-sm gj-cursor-pointer\">' + (a.icons.next || b.Next) + \"</button>\")\n                            .attr(\"title\", b.NextPageTooltip)\n                            .attr(\"data-role\", \"page-next\"),\n                        $('<button class=\"btn btn-default btn-sm gj-cursor-pointer\">' + (a.icons.last || b.Last) + \"</button>\")\n                            .attr(\"title\", b.LastPageTooltip)\n                            .attr(\"data-role\", \"page-last\"),\n                        $('<button class=\"btn btn-default btn-sm gj-cursor-pointer\">' + (a.icons.refresh || b.Refresh) + \"</button>\")\n                            .attr(\"title\", b.Refresh)\n                            .attr(\"data-role\", \"page-refresh\"),\n                        $('<select data-role=\"page-size\" class=\"form-control input-sm\" width=\"60\"></select>'),\n                    ]),\n                    void 0 === a.pager.rightControls &&\n                        (a.pager.rightControls = [\n                            $(\"<div>\" + b.DisplayingRecords + \"&nbsp;</div>\"),\n                            $('<div data-role=\"record-first\">0</div>'),\n                            $(\"<div>-</div>\"),\n                            $('<div data-role=\"record-last\">0</div>'),\n                            $(\"<div>\" + b.Of + \"</div>\"),\n                            $('<div data-role=\"record-total\">0</div>'),\n                        ]);\n            },\n            localizationMaterialDesign: function (a) {\n                var b = gj.grid.messages[a.locale];\n                void 0 === a.pager.leftControls && (a.pager.leftControls = []),\n                    void 0 === a.pager.rightControls &&\n                        (a.pager.rightControls = [\n                            $('<span class=\"\">' + b.RowsPerPage + \"</span>\"),\n                            $('<select data-role=\"page-size\" class=\"gj-grid-md-limit-select\" width=\"52\"></select></div>'),\n                            $('<span class=\"gj-md-spacer-32\">&nbsp;</span>'),\n                            $('<span data-role=\"record-first\" class=\"\">0</span>'),\n                            $('<span class=\"\">-</span>'),\n                            $('<span data-role=\"record-last\" class=\"\">0</span>'),\n                            $('<span class=\"gj-grid-mdl-pager-label\">' + b.Of + \"</span>\"),\n                            $('<span data-role=\"record-total\" class=\"\">0</span>'),\n                            $('<span class=\"gj-md-spacer-32\">&nbsp;</span>'),\n                            $('<button class=\"gj-button-md\">' + (a.icons.previous || b.Previous) + \"</button>\")\n                                .attr(\"title\", b.PreviousPageTooltip)\n                                .attr(\"data-role\", \"page-previous\")\n                                .addClass(a.icons.first ? \"gj-button-md-icon\" : \"\"),\n                            $('<span class=\"gj-md-spacer-24\">&nbsp;</span>'),\n                            $('<button class=\"gj-button-md\">' + (a.icons.next || b.Next) + \"</button>\")\n                                .attr(\"title\", b.NextPageTooltip)\n                                .attr(\"data-role\", \"page-next\")\n                                .addClass(a.icons.first ? \"gj-button-md-icon\" : \"\"),\n                        ]);\n            },\n            initPagerControl: function (a, b) {\n                var c = b.data();\n                switch (a.data(\"role\")) {\n                    case \"page-size\":\n                        c.pager.sizes && 0 < c.pager.sizes.length\n                            ? (a.show(),\n                              $.each(c.pager.sizes, function () {\n                                  a.append($(\"<option/>\").attr(\"value\", this.toString()).text(this.toString()));\n                              }),\n                              a.change(function () {\n                                  var a = parseInt(this.value, 10);\n                                  (c.params[c.paramNames.limit] = a), gj.grid.plugins.pagination.private.changePage(b, 1), gj.grid.plugins.pagination.events.pageSizeChange(b, a);\n                              }),\n                              a.val(c.params[c.paramNames.limit]),\n                              gj.dropdown && a.dropdown({ uiLibrary: c.uiLibrary, iconsLibrary: c.iconsLibrary, fontSize: a.css(\"font-size\"), style: { presenter: \"btn btn-default btn-sm\" } }))\n                            : a.hide();\n                        break;\n                    case \"page-refresh\":\n                        a.on(\"click\", function () {\n                            b.reload();\n                        });\n                }\n            },\n            reloadPager: function (a, b) {\n                var c, d, e, f, g, h, i, j;\n                if (((h = a.data()), h.pager)) {\n                    for (\n                        c = 0 === b ? 0 : parseInt(h.params[h.paramNames.page], 10),\n                            d = parseInt(h.params[h.paramNames.limit], 10),\n                            e = Math.ceil(b / d),\n                            f = 0 === c ? 0 : d * (c - 1) + 1,\n                            g = f + d > b ? b : f + d - 1,\n                            i = a.find(\"TFOOT [data-role]\"),\n                            j = 0;\n                        j < i.length;\n                        j++\n                    )\n                        gj.grid.plugins.pagination.private.reloadPagerControl($(i[j]), a, c, e, f, g, b);\n                    gj.grid.plugins.pagination.private.updatePagerColSpan(a);\n                }\n            },\n            reloadPagerControl: function (a, b, c, d, e, f, g) {\n                var h;\n                switch (a.data(\"role\")) {\n                    case \"page-first\":\n                        gj.grid.plugins.pagination.private.assignPageHandler(b, a, 1, c < 2);\n                        break;\n                    case \"page-previous\":\n                        gj.grid.plugins.pagination.private.assignPageHandler(b, a, c - 1, c < 2);\n                        break;\n                    case \"page-number\":\n                        a.val(c).off(\"change\").on(\"change\", gj.grid.plugins.pagination.private.createChangePageHandler(b, c));\n                        break;\n                    case \"page-label-last\":\n                        a.text(d);\n                        break;\n                    case \"page-next\":\n                        gj.grid.plugins.pagination.private.assignPageHandler(b, a, c + 1, d === c);\n                        break;\n                    case \"page-last\":\n                        gj.grid.plugins.pagination.private.assignPageHandler(b, a, d, d === c);\n                        break;\n                    case \"page-button-one\":\n                        (h = 1 === c ? 1 : c == d ? c - 2 : c - 1), gj.grid.plugins.pagination.private.assignButtonHandler(b, a, c, h, d);\n                        break;\n                    case \"page-button-two\":\n                        (h = 1 === c ? 2 : c == d ? d - 1 : c), gj.grid.plugins.pagination.private.assignButtonHandler(b, a, c, h, d);\n                        break;\n                    case \"page-button-three\":\n                        (h = 1 === c ? c + 2 : c == d ? c : c + 1), gj.grid.plugins.pagination.private.assignButtonHandler(b, a, c, h, d);\n                        break;\n                    case \"record-first\":\n                        a.text(e);\n                        break;\n                    case \"record-last\":\n                        a.text(f);\n                        break;\n                    case \"record-total\":\n                        a.text(g);\n                }\n            },\n            assignPageHandler: function (a, b, c, d) {\n                var e = a.data().style.pager;\n                d\n                    ? b.addClass(e.stateDisabled).prop(\"disabled\", !0).off(\"click\")\n                    : b\n                          .removeClass(e.stateDisabled)\n                          .prop(\"disabled\", !1)\n                          .off(\"click\")\n                          .on(\"click\", function () {\n                              gj.grid.plugins.pagination.private.changePage(a, c);\n                          });\n            },\n            assignButtonHandler: function (a, b, c, d, e) {\n                var f = a.data().style.pager;\n                d < 1 || d > e\n                    ? b.hide()\n                    : (b.show().off(\"click\").text(d),\n                      d === c\n                          ? b.addClass(f.activeButton)\n                          : b.removeClass(f.activeButton).on(\"click\", function () {\n                                gj.grid.plugins.pagination.private.changePage(a, d);\n                            }));\n            },\n            createChangePageHandler: function (a, b) {\n                return function () {\n                    var b = (a.data(), parseInt(this.value, 10));\n                    gj.grid.plugins.pagination.private.changePage(a, b);\n                };\n            },\n            changePage: function (a, b) {\n                var c = a.data();\n                !1 === gj.grid.plugins.pagination.events.pageChanging(a, b) || isNaN(b) || (a.find('TFOOT [data-role=\"page-number\"]').val(b), (c.params[c.paramNames.page] = b)), a.reload();\n            },\n            updatePagerColSpan: function (a) {\n                var b = a.find('tfoot > tr[data-role=\"pager\"] > th');\n                b && b.length && b.attr(\"colspan\", gj.grid.methods.countVisibleColumns(a));\n            },\n            isLastRecordVisible: function (a) {\n                var b = !0,\n                    c = a.data(),\n                    d = parseInt(c.params[c.paramNames.limit], 10),\n                    e = parseInt(c.params[c.paramNames.page], 10),\n                    f = a.count();\n                return d && e && (b = (e - 1) * d + f === c.totalRecords), b;\n            },\n        },\n        public: {\n            getAll: function (a) {\n                var b,\n                    c,\n                    d,\n                    e = this.data();\n                return $.isArray(e.dataSource)\n                    ? a\n                        ? e.dataSource\n                        : e.params[e.paramNames.limit] && e.params[e.paramNames.page]\n                        ? ((b = parseInt(e.params[e.paramNames.limit], 10)), (c = parseInt(e.params[e.paramNames.page], 10)), (d = (c - 1) * b), e.records.slice(d, d + b))\n                        : e.records\n                    : e.records;\n            },\n        },\n        events: {\n            pageSizeChange: function (a, b) {\n                a.triggerHandler(\"pageSizeChange\", [b]);\n            },\n            pageChanging: function (a, b) {\n                a.triggerHandler(\"pageChanging\", [b]);\n            },\n        },\n        configure: function (a, b, c) {\n            $.extend(!0, a, gj.grid.plugins.pagination.public);\n            a.data();\n            c.pager &&\n                ((gj.grid.methods.isLastRecordVisible = gj.grid.plugins.pagination.private.isLastRecordVisible),\n                a.on(\"initialized\", function () {\n                    gj.grid.plugins.pagination.private.init(a);\n                }),\n                a.on(\"dataBound\", function (b, c, d) {\n                    gj.grid.plugins.pagination.private.reloadPager(a, d);\n                }),\n                a.on(\"columnShow\", function () {\n                    gj.grid.plugins.pagination.private.updatePagerColSpan(a);\n                }),\n                a.on(\"columnHide\", function () {\n                    gj.grid.plugins.pagination.private.updatePagerColSpan(a);\n                }));\n        },\n    }),\n    (gj.grid.plugins.responsiveDesign = {\n        config: { base: { resizeCheckInterval: 500, responsive: !1, showHiddenColumnsAsDetails: !1, defaultColumn: { priority: void 0, minWidth: 250 }, style: { rowDetailItem: \"\" } }, bootstrap: { style: { rowDetailItem: \"col-lg-4\" } } },\n        private: {\n            orderColumns: function (a) {\n                var b = [];\n                if (a.columns && a.columns.length) {\n                    for (i = 0; i < a.columns.length; i++) b.push({ position: i, field: a.columns[i].field, minWidth: a.columns[i].width || a.columns[i].minWidth || a.defaultColumn.minWidth, priority: a.columns[i].priority || 0 });\n                    b.sort(function (a, b) {\n                        var c = 0;\n                        return a.priority < b.priority ? (c = -1) : a.priority > b.priority && (c = 1), c;\n                    });\n                }\n                return b;\n            },\n            updateDetails: function (a) {\n                var b, c, d, e, f, g, h, i, j;\n                for (b = a.find('tbody > tr[data-role=\"row\"]'), c = a.data(), d = 0; d < b.length; d++) {\n                    for (f = $(b[d]), g = f.data(\"details\"), e = 0; e < c.columns.length; e++)\n                        (i = c.columns[e]),\n                            (h = g && g.find('div[data-id=\"' + i.field + '\"]')),\n                            c.columns[e].hidden\n                                ? ((j = \"<b>\" + (i.title || i.field) + \"</b>: {\" + i.field + \"}\"),\n                                  h && h.length ? h.empty().html(j) : ((h = $('<div data-id=\"' + i.field + '\"/>').html(j)), h.addClass(c.style.rowDetailItem), (g && g.length) || (g = $('<div class=\"row\"/>')), g.append(h)))\n                                : h && h.length && h.remove();\n                    a.updateDetails(f);\n                }\n            },\n        },\n        public: {\n            oldWidth: void 0,\n            resizeCheckIntervalId: void 0,\n            makeResponsive: function () {\n                var a,\n                    b,\n                    c = 0,\n                    d = this.data(),\n                    e = gj.grid.plugins.responsiveDesign.private.orderColumns(d);\n                for (a = 0; a < e.length; a++) (b = this.find(\"thead>tr>th:eq(\" + e[a].position + \")\")), b.is(\":visible\") && e[a].minWidth < b.width() && (c += b.width() - e[a].minWidth);\n                if (c) for (a = 0; a < e.length; a++) (b = this.find(\"thead>tr>th:eq(\" + e[a].position + \")\")), !b.is(\":visible\") && e[a].minWidth <= c && (this.showColumn(e[a].field), (c -= b.width()));\n                for (a = e.length - 1; a >= 0; a--) (b = this.find(\"thead>tr>th:eq(\" + e[a].position + \")\")), b.is(\":visible\") && e[a].priority && e[a].minWidth > b.outerWidth() && this.hideColumn(e[a].field);\n                return this;\n            },\n        },\n        events: {\n            resize: function (a, b, c) {\n                a.triggerHandler(\"resize\", [b, c]);\n            },\n        },\n        configure: function (a, b, c) {\n            $.extend(!0, a, gj.grid.plugins.responsiveDesign.public),\n                b.responsive &&\n                    (a.on(\"initialized\", function () {\n                        a.makeResponsive(),\n                            (a.oldWidth = a.width()),\n                            (a.resizeCheckIntervalId = setInterval(function () {\n                                var b = a.width();\n                                b !== a.oldWidth && gj.grid.plugins.responsiveDesign.events.resize(a, b, a.oldWidth), (a.oldWidth = b);\n                            }, b.resizeCheckInterval));\n                    }),\n                    a.on(\"destroy\", function () {\n                        a.resizeCheckIntervalId && clearInterval(a.resizeCheckIntervalId);\n                    }),\n                    a.on(\"resize\", function () {\n                        a.makeResponsive();\n                    })),\n                b.showHiddenColumnsAsDetails &&\n                    gj.grid.plugins.expandCollapseRows &&\n                    (a.on(\"dataBound\", function () {\n                        gj.grid.plugins.responsiveDesign.private.updateDetails(a);\n                    }),\n                    a.on(\"columnHide\", function () {\n                        gj.grid.plugins.responsiveDesign.private.updateDetails(a);\n                    }),\n                    a.on(\"columnShow\", function () {\n                        gj.grid.plugins.responsiveDesign.private.updateDetails(a);\n                    }),\n                    a.on(\"rowDataBound\", function () {\n                        gj.grid.plugins.responsiveDesign.private.updateDetails(a);\n                    }));\n        },\n    }),\n    (gj.grid.plugins.toolbar = {\n        config: {\n            base: { toolbarTemplate: void 0, title: void 0, style: { toolbar: \"gj-grid-md-toolbar\" } },\n            bootstrap: { style: { toolbar: \"gj-grid-bootstrap-toolbar\" } },\n            bootstrap4: { style: { toolbar: \"gj-grid-bootstrap-4-toolbar\" } },\n        },\n        private: {\n            init: function (a) {\n                var b, c, d;\n                (b = a.data()),\n                    (c = a.prev('div[data-role=\"toolbar\"]')),\n                    (void 0 !== b.toolbarTemplate || void 0 !== b.title || c.length > 0) &&\n                        (0 === c.length && ((c = $('<div data-role=\"toolbar\"></div>')), a.before(c)),\n                        c.addClass(b.style.toolbar),\n                        0 === c.children().length && b.toolbarTemplate && c.append(b.toolbarTemplate),\n                        (d = c.find('[data-role=\"title\"]')),\n                        0 === d.length && ((d = $('<div data-role=\"title\"/>')), c.prepend(d)),\n                        b.title && d.text(b.title),\n                        b.minWidth && c.css(\"min-width\", b.minWidth));\n            },\n        },\n        public: {\n            title: function (a) {\n                var b = this.parent().find('div[data-role=\"toolbar\"] [data-role=\"title\"]');\n                return void 0 !== a ? (b.text(a), this) : b.text();\n            },\n        },\n        configure: function (a) {\n            $.extend(!0, a, gj.grid.plugins.toolbar.public),\n                a.on(\"initialized\", function () {\n                    gj.grid.plugins.toolbar.private.init(a);\n                }),\n                a.on(\"destroying\", function () {\n                    a.prev('[data-role=\"toolbar\"]').remove();\n                });\n        },\n    }),\n    (gj.grid.plugins.resizableColumns = {\n        config: { base: { resizableColumns: !1 } },\n        private: {\n            init: function (a, b) {\n                var c, d, e, f, g, h;\n                if (((c = a.find('thead tr[data-role=\"caption\"] th')), c.length)) {\n                    for (e = 0; e < c.length - 1; e++)\n                        (d = $(c[e])),\n                            (f = $('<div class=\"gj-grid-column-resizer-wrapper\" />')),\n                            (h = parseInt(d.css(\"padding-right\"), 10) + 3),\n                            (g = $('<span class=\"gj-grid-column-resizer\" />').css(\"margin-right\", \"-\" + h + \"px\")),\n                            g.draggable({\n                                start: function () {\n                                    a.addClass(\"gj-unselectable\"), a.addClass(\"gj-grid-resize-cursor\");\n                                },\n                                stop: function () {\n                                    a.removeClass(\"gj-unselectable\"), a.removeClass(\"gj-grid-resize-cursor\"), this.style.removeProperty(\"top\"), this.style.removeProperty(\"left\"), this.style.removeProperty(\"position\");\n                                },\n                                drag: gj.grid.plugins.resizableColumns.private.createResizeHandle(a, d, b.columns[e]),\n                            }),\n                            d.append(f.append(g));\n                    for (e = 0; e < c.length; e++) (d = $(c[e])), d.attr(\"width\") || d.attr(\"width\", d.outerWidth());\n                }\n            },\n            createResizeHandle: function (a, b, c) {\n                var d = a.data();\n                return function (e, f) {\n                    var g,\n                        h,\n                        i,\n                        j,\n                        k,\n                        l,\n                        m = parseInt(b.attr(\"width\"), 10),\n                        n = gj.core.position(this),\n                        o = { top: f.top - n.top, left: f.left - n.left };\n                    if (\n                        (m || (m = b.outerWidth()),\n                        o.left &&\n                            ((k = m + o.left),\n                            (c.width = k),\n                            b.attr(\"width\", k),\n                            (h = b[0].cellIndex),\n                            (j = b[0].parentElement.children[h + 1]),\n                            (l = parseInt($(j).attr(\"width\"), 10) - o.left),\n                            j.setAttribute(\"width\", l),\n                            d.resizableColumns))\n                    )\n                        for (i = a[0].tBodies[0].children, g = 0; g < i.length; g++) i[g].cells[h].setAttribute(\"width\", k), (j = i[g].cells[h + 1]), j.setAttribute(\"width\", l);\n                };\n            },\n        },\n        public: {},\n        configure: function (a, b, c) {\n            $.extend(!0, a, gj.grid.plugins.resizableColumns.public),\n                b.resizableColumns &&\n                    gj.draggable &&\n                    a.on(\"initialized\", function () {\n                        gj.grid.plugins.resizableColumns.private.init(a, b);\n                    });\n        },\n    }),\n    (gj.grid.plugins.rowReorder = {\n        config: { base: { rowReorder: !1, rowReorderColumn: void 0, orderNumberField: void 0, style: { targetRowIndicatorTop: \"gj-grid-row-reorder-indicator-top\", targetRowIndicatorBottom: \"gj-grid-row-reorder-indicator-bottom\" } } },\n        private: {\n            init: function (a) {\n                var b,\n                    c,\n                    d,\n                    e = a.find('tbody tr[data-role=\"row\"]');\n                for (a.data(\"rowReorderColumn\") && (c = gj.grid.methods.getColumnPosition(a.data(\"columns\"), a.data(\"rowReorderColumn\"))), b = 0; b < e.length; b++)\n                    (d = $(e[b])),\n                        void 0 !== c ? d.find(\"td:eq(\" + c + \")\").on(\"mousedown\", gj.grid.plugins.rowReorder.private.createRowMouseDownHandler(a, d)) : d.on(\"mousedown\", gj.grid.plugins.rowReorder.private.createRowMouseDownHandler(a, d));\n            },\n            createRowMouseDownHandler: function (a, b) {\n                return function (c) {\n                    var d,\n                        e,\n                        f = a.clone(),\n                        g = a.data(\"columns\");\n                    for (\n                        a.addClass(\"gj-unselectable\"),\n                            $(\"body\").append(f),\n                            f.attr(\"data-role\", \"draggable-clone\").css(\"cursor\", \"move\"),\n                            f.children(\"thead\").remove().children(\"tfoot\").remove(),\n                            f.find('tbody tr:not([data-position=\"' + b.data(\"position\") + '\"])').remove(),\n                            e = f.find(\"tbody tr td\"),\n                            d = 0;\n                        d < e.length;\n                        d++\n                    )\n                        g[d].width && e[d].setAttribute(\"width\", g[d].width);\n                    f.draggable({ stop: gj.grid.plugins.rowReorder.private.createDragStopHandler(a, b) }),\n                        f.css({ position: \"absolute\", top: b.offset().top, left: b.offset().left, width: b.width(), zIndex: 1 }),\n                        \"true\" === b.attr(\"data-droppable\") && b.droppable(\"destroy\"),\n                        b.siblings('tr[data-role=\"row\"]').each(function () {\n                            var a = $(this);\n                            \"true\" === a.attr(\"data-droppable\") && a.droppable(\"destroy\"), a.droppable({ over: gj.grid.plugins.rowReorder.private.createDroppableOverHandler(b), out: gj.grid.plugins.rowReorder.private.droppableOut });\n                        }),\n                        f.trigger(\"mousedown\");\n                };\n            },\n            createDragStopHandler: function (a, b) {\n                return function (c, d) {\n                    $('table[data-role=\"draggable-clone\"]').draggable(\"destroy\").remove(),\n                        a.removeClass(\"gj-unselectable\"),\n                        b.siblings('tr[data-role=\"row\"]').each(function () {\n                            var c,\n                                e,\n                                f,\n                                g,\n                                h,\n                                i = $(this),\n                                j = i.data(\"position\"),\n                                k = b.data(\"position\"),\n                                l = a.data();\n                            if (i.droppable(\"isOver\", d)) {\n                                for (j < k ? i.before(b) : i.after(b), l.records.splice(j - 1, 0, l.records.splice(k - 1, 1)[0]), c = i.parent().find('tr[data-role=\"row\"]'), f = 0; f < c.length; f++) $(c[f]).attr(\"data-position\", f + 1);\n                                if (l.orderNumberField) {\n                                    for (f = 0; f < l.records.length; f++) l.records[f][l.orderNumberField] = f + 1;\n                                    for (f = 0; f < c.length; f++)\n                                        (e = $(c[f])),\n                                            (h = gj.grid.methods.getId(e, l.primaryKey, e.attr(\"data-position\"))),\n                                            (g = gj.grid.methods.getByPosition(a, e.attr(\"data-position\"))),\n                                            a.setCellContent(h, l.orderNumberField, g[l.orderNumberField]);\n                                }\n                            }\n                            i.removeClass(\"gj-grid-top-border\"), i.removeClass(\"gj-grid-bottom-border\"), i.droppable(\"destroy\");\n                        });\n                };\n            },\n            createDroppableOverHandler: function (a) {\n                return function (b) {\n                    var c = $(this);\n                    c.data(\"position\") < a.data(\"position\") ? c.addClass(\"gj-grid-top-border\") : c.addClass(\"gj-grid-bottom-border\");\n                };\n            },\n            droppableOut: function () {\n                $(this).removeClass(\"gj-grid-top-border\"), $(this).removeClass(\"gj-grid-bottom-border\");\n            },\n        },\n        public: {},\n        configure: function (a, b, c) {\n            $.extend(!0, a, gj.grid.plugins.rowReorder.public),\n                b.rowReorder &&\n                    gj.draggable &&\n                    gj.droppable &&\n                    a.on(\"dataBound\", function () {\n                        gj.grid.plugins.rowReorder.private.init(a);\n                    });\n        },\n    }),\n    (gj.grid.plugins.export = {\n        config: { base: {} },\n        public: {\n            getCSV: function (a) {\n                var b,\n                    c,\n                    d = \"\",\n                    e = \"\",\n                    f = this.data().columns,\n                    g = this.getAll(a);\n                if (g.length) {\n                    for (b = 0; b < f.length; b++) gj.grid.plugins.export.public.isColumnApplicable(f[b]) && (d += '\"' + (f[b].title || f[b].field).replace(/<[^>]+>/g, \" \") + '\",');\n                    for (e += d.slice(0, d.length - 1) + \"\\r\\n\", b = 0; b < g.length; b++) {\n                        for (d = \"\", c = 0; c < f.length; c++) gj.grid.plugins.export.public.isColumnApplicable(f[c]) && (d += '\"' + g[b][f[c].field] + '\",');\n                        e += d.slice(0, d.length - 1) + \"\\r\\n\";\n                    }\n                }\n                return e;\n            },\n            downloadCSV: function (a, b) {\n                var c = document.createElement(\"a\");\n                return (\n                    document.body.appendChild(c),\n                    (c.download = a || \"griddata.csv\"),\n                    window.navigator.userAgent.indexOf(\"Edge\") > -1 ? (c.href = URL.createObjectURL(new Blob([this.getCSV(b)], { type: \"text/csv;charset=utf-8;\" }))) : (c.href = \"data:text/csv;charset=utf-8,\" + escape(this.getCSV(b))),\n                    c.click(),\n                    document.body.removeChild(c),\n                    this\n                );\n            },\n            isColumnApplicable: function (a) {\n                return !0 !== a.hidden && !a.role;\n            },\n        },\n        configure: function (a) {\n            $.extend(!0, a, gj.grid.plugins.export.public);\n        },\n    }),\n    (gj.grid.plugins.columnReorder = {\n        config: { base: { columnReorder: !1, dragReady: !1, style: { targetRowIndicatorTop: \"gj-grid-row-reorder-indicator-top\", targetRowIndicatorBottom: \"gj-grid-row-reorder-indicator-bottom\" } } },\n        private: {\n            init: function (a) {\n                var b,\n                    c,\n                    d = a.find(\"thead tr th\");\n                for (b = 0; b < d.length; b++)\n                    (c = $(d[b])),\n                        c.on(\"mousedown\", gj.grid.plugins.columnReorder.private.createMouseDownHandler(a, c)),\n                        c.on(\"mousemove\", gj.grid.plugins.columnReorder.private.createMouseMoveHandler(a, c)),\n                        c.on(\"mouseup\", gj.grid.plugins.columnReorder.private.createMouseUpHandler(a, c));\n            },\n            createMouseDownHandler: function (a) {\n                return function (b) {\n                    a.timeout = setTimeout(function () {\n                        a.data(\"dragReady\", !0);\n                    }, 100);\n                };\n            },\n            createMouseUpHandler: function (a) {\n                return function (b) {\n                    clearTimeout(a.timeout), a.data(\"dragReady\", !1);\n                };\n            },\n            createMouseMoveHandler: function (a, b) {\n                return function (c) {\n                    var d, e;\n                    a.data(\"dragReady\") &&\n                        (a.data(\"dragReady\", !1),\n                        (d = a.clone()),\n                        (e = b.index()),\n                        a.addClass(\"gj-unselectable\"),\n                        $(\"body\").append(d),\n                        d.attr(\"data-role\", \"draggable-clone\").css(\"cursor\", \"move\"),\n                        d\n                            .find(\"thead tr th:eq(\" + e + \")\")\n                            .siblings()\n                            .remove(),\n                        d.find('tbody tr[data-role != \"row\"]').remove(),\n                        d\n                            .find(\"tbody tr td:nth-child(\" + (e + 1) + \")\")\n                            .siblings()\n                            .remove(),\n                        d.find(\"tfoot\").remove(),\n                        d.draggable({ stop: gj.grid.plugins.columnReorder.private.createDragStopHandler(a, b) }),\n                        d.css({ position: \"absolute\", top: b.offset().top, left: b.offset().left, width: b.width(), zIndex: 1 }),\n                        \"true\" === b.attr(\"data-droppable\") && b.droppable(\"destroy\"),\n                        b.siblings(\"th\").each(function () {\n                            var c = $(this);\n                            \"true\" === c.attr(\"data-droppable\") && c.droppable(\"destroy\"),\n                                c.droppable({ over: gj.grid.plugins.columnReorder.private.createDroppableOverHandler(a, b), out: gj.grid.plugins.columnReorder.private.droppableOut });\n                        }),\n                        d.trigger(\"mousedown\"));\n                };\n            },\n            createDragStopHandler: function (a, b) {\n                return function (c, d) {\n                    $('table[data-role=\"draggable-clone\"]').draggable(\"destroy\").remove(),\n                        a.removeClass(\"gj-unselectable\"),\n                        b.siblings(\"th\").each(function () {\n                            var c = $(this),\n                                e = a.data(),\n                                f = gj.grid.methods.getColumnPosition(e.columns, c.data(\"field\")),\n                                g = gj.grid.methods.getColumnPosition(e.columns, b.data(\"field\"));\n                            c.removeClass(\"gj-grid-left-border\").removeClass(\"gj-grid-right-border\"),\n                                c\n                                    .closest(\"table\")\n                                    .find('tbody tr[data-role=\"row\"] td:nth-child(' + (c.index() + 1) + \")\")\n                                    .removeClass(\"gj-grid-left-border\")\n                                    .removeClass(\"gj-grid-right-border\"),\n                                c.droppable(\"isOver\", d) && (f < g ? c.before(b) : c.after(b), gj.grid.plugins.columnReorder.private.moveRowCells(a, g, f), e.columns.splice(f, 0, e.columns.splice(g, 1)[0])),\n                                c.droppable(\"destroy\");\n                        });\n                };\n            },\n            moveRowCells: function (a, b, c) {\n                var d,\n                    e,\n                    f = a.find('tbody tr[data-role=\"row\"]');\n                for (d = 0; d < f.length; d++) (e = $(f[d])), c < b ? e.find(\"td:eq(\" + c + \")\").before(e.find(\"td:eq(\" + b + \")\")) : e.find(\"td:eq(\" + c + \")\").after(e.find(\"td:eq(\" + b + \")\"));\n            },\n            createDroppableOverHandler: function (a, b) {\n                return function (c) {\n                    var d = $(this),\n                        e = a.data();\n                    gj.grid.methods.getColumnPosition(e.columns, d.data(\"field\")) < gj.grid.methods.getColumnPosition(e.columns, b.data(\"field\"))\n                        ? (d.addClass(\"gj-grid-left-border\"), a.find('tbody tr[data-role=\"row\"] td:nth-child(' + (d.index() + 1) + \")\").addClass(\"gj-grid-left-border\"))\n                        : (d.addClass(\"gj-grid-right-border\"), a.find('tbody tr[data-role=\"row\"] td:nth-child(' + (d.index() + 1) + \")\").addClass(\"gj-grid-right-border\"));\n                };\n            },\n            droppableOut: function () {\n                var a = $(this);\n                a.removeClass(\"gj-grid-left-border\").removeClass(\"gj-grid-right-border\"),\n                    a\n                        .closest(\"table\")\n                        .find('tbody tr[data-role=\"row\"] td:nth-child(' + (a.index() + 1) + \")\")\n                        .removeClass(\"gj-grid-left-border\")\n                        .removeClass(\"gj-grid-right-border\");\n            },\n        },\n        public: {},\n        configure: function (a, b, c) {\n            $.extend(!0, a, gj.grid.plugins.columnReorder.public),\n                b.columnReorder &&\n                    a.on(\"initialized\", function () {\n                        gj.grid.plugins.columnReorder.private.init(a);\n                    });\n        },\n    }),\n    (gj.grid.plugins.headerFilter = {\n        config: { base: { defaultColumnSettings: { filterable: !0 }, headerFilter: { type: \"onenterkeypress\" } } },\n        private: {\n            init: function (a) {\n                var b,\n                    c,\n                    d,\n                    e = a.data(),\n                    f = $('<tr data-role=\"filter\"/>');\n                for (b = 0; b < e.columns.length; b++)\n                    (c = $(\"<th/>\")),\n                        e.columns[b].filterable &&\n                            ((d = $('<input data-field=\"' + e.columns[b].field + '\" class=\"gj-width-full\" />')),\n                            \"onchange\" === e.headerFilter.type\n                                ? d.on(\"input propertychange\", function (b) {\n                                      gj.grid.plugins.headerFilter.private.reload(a, $(this));\n                                  })\n                                : (d.on(\"keypress\", function (b) {\n                                      13 == b.which && gj.grid.plugins.headerFilter.private.reload(a, $(this));\n                                  }),\n                                  d.on(\"blur\", function (b) {\n                                      gj.grid.plugins.headerFilter.private.reload(a, $(this));\n                                  })),\n                            c.append(d)),\n                        e.columns[b].hidden && c.hide(),\n                        f.append(c);\n                a.children(\"thead\").append(f);\n            },\n            reload: function (a, b) {\n                var c = {};\n                (c[b.data(\"field\")] = b.val()), a.reload(c);\n            },\n        },\n        public: {},\n        events: {},\n        configure: function (a, b, c) {\n            $.extend(!0, a, gj.grid.plugins.headerFilter.public);\n            a.data();\n            c.headerFilter &&\n                a.on(\"initialized\", function () {\n                    gj.grid.plugins.headerFilter.private.init(a);\n                });\n        },\n    }),\n    (gj.grid.plugins.grouping = {\n        config: {\n            base: {\n                paramNames: { groupBy: \"groupBy\", groupByDirection: \"groupByDirection\" },\n                grouping: { groupBy: void 0, direction: \"asc\" },\n                icons: { expandGroup: '<i class=\"gj-icon plus\" />', collapseGroup: '<i class=\"gj-icon minus\" />' },\n            },\n            fontawesome: { icons: { expandGroup: '<i class=\"fa fa-plus\" aria-hidden=\"true\"></i>', collapseGroup: '<i class=\"fa fa-minus\" aria-hidden=\"true\"></i>' } },\n            glyphicons: { icons: { expandGroup: '<span class=\"glyphicon glyphicon-plus\" />', collapseGroup: '<span class=\"glyphicon glyphicon-minus\" />' } },\n        },\n        private: {\n            init: function (a) {\n                var b,\n                    c = a.data();\n                (b = void 0),\n                    a.on(\"rowDataBound\", function (d, e, f, g) {\n                        if (b !== g[c.grouping.groupBy] || 1 === e[0].rowIndex) {\n                            var h = gj.grid.methods.countVisibleColumns(a) - 1,\n                                i = $('<tr role=\"group\" />'),\n                                j = $('<td class=\"gj-text-align-center gj-unselectable gj-cursor-pointer\" />');\n                            j.append('<div data-role=\"display\">' + c.icons.collapseGroup + \"</div>\"),\n                                j.on(\"click\", gj.grid.plugins.grouping.private.createExpandCollapseHandler(c)),\n                                i.append(j),\n                                i.append('<td colspan=\"' + h + '\"><div data-role=\"display\">' + c.grouping.groupBy + \": \" + g[c.grouping.groupBy] + \"</div></td>\"),\n                                i.insertBefore(e),\n                                (b = g[c.grouping.groupBy]);\n                        }\n                        e.show();\n                    }),\n                    (c.params[c.paramNames.groupBy] = c.grouping.groupBy),\n                    (c.params[c.paramNames.groupByDirection] = c.grouping.direction);\n            },\n            grouping: function (a, b) {\n                var c = a.data();\n                b.sort(gj.grid.methods.createDefaultSorter(c.grouping.direction, c.grouping.groupBy));\n            },\n            createExpandCollapseHandler: function (a) {\n                return function (b) {\n                    var c = $(this),\n                        d = gj.grid.plugins.grouping.private;\n                    \"row\" === c.closest(\"tr\").next(\":visible\").data(\"role\") ? d.collapseGroup(a, c) : d.expandGroup(a, c);\n                };\n            },\n            collapseGroup: function (a, b) {\n                var c = b.children('div[data-role=\"display\"]');\n                b.closest(\"tr\").nextUntil('[role=\"group\"]').hide(), c.empty().append(a.icons.expandGroup);\n            },\n            expandGroup: function (a, b) {\n                var c = b.children('div[data-role=\"display\"]');\n                b.closest(\"tr\").nextUntil('[role=\"group\"]').show(), c.empty().append(a.icons.collapseGroup);\n            },\n        },\n        public: {},\n        configure: function (a) {\n            var b,\n                c = a.data();\n            $.extend(!0, a, gj.grid.plugins.grouping.public),\n                c.grouping &&\n                    c.grouping.groupBy &&\n                    ((b = { title: \"\", width: c.defaultIconColumnWidth, align: \"center\", stopPropagation: !0, cssClass: \"gj-cursor-pointer gj-unselectable\" }),\n                    (c.columns = [b].concat(c.columns)),\n                    a.on(\"initialized\", function () {\n                        gj.grid.plugins.grouping.private.init(a);\n                    }),\n                    a.on(\"dataFiltered\", function (b, c) {\n                        gj.grid.plugins.grouping.private.grouping(a, c);\n                    }));\n        },\n    }),\n    (gj.grid.messages[\"en-us\"] = {\n        First: \"First\",\n        Previous: \"Previous\",\n        Next: \"Next\",\n        Last: \"Last\",\n        Page: \"Page\",\n        FirstPageTooltip: \"First Page\",\n        PreviousPageTooltip: \"Previous Page\",\n        NextPageTooltip: \"Next Page\",\n        LastPageTooltip: \"Last Page\",\n        Refresh: \"Refresh\",\n        Of: \"of\",\n        DisplayingRecords: \"Displaying records\",\n        RowsPerPage: \"Rows per page:\",\n        Edit: \"Edit\",\n        Delete: \"Delete\",\n        Update: \"Update\",\n        Cancel: \"Cancel\",\n        NoRecordsFound: \"No records found.\",\n        Loading: \"Loading...\",\n    }),\n    (gj.tree = { plugins: {} }),\n    (gj.tree.config = {\n        base: {\n            params: {},\n            autoLoad: !0,\n            selectionType: \"single\",\n            cascadeSelection: !1,\n            dataSource: void 0,\n            primaryKey: void 0,\n            textField: \"text\",\n            childrenField: \"children\",\n            hasChildrenField: \"hasChildren\",\n            imageCssClassField: \"imageCssClass\",\n            imageUrlField: \"imageUrl\",\n            imageHtmlField: \"imageHtml\",\n            disabledField: \"disabled\",\n            width: void 0,\n            border: !1,\n            uiLibrary: \"materialdesign\",\n            iconsLibrary: \"materialicons\",\n            autoGenId: 1,\n            autoGenFieldName: \"autoId_b5497cc5-7ef3-49f5-a7dc-4a932e1aee4a\",\n            indentation: 24,\n            style: { wrapper: \"gj-unselectable\", list: \"gj-list gj-list-md\", item: void 0, active: \"gj-list-md-active\", leafIcon: void 0, border: \"gj-tree-md-border\" },\n            icons: { expand: '<i class=\"gj-icon chevron-right\" />', collapse: '<i class=\"gj-icon chevron-down\" />' },\n        },\n        bootstrap: { style: { wrapper: \"gj-unselectable gj-tree-bootstrap-3\", list: \"gj-list gj-list-bootstrap list-group\", item: \"list-group-item\", active: \"active\", border: \"gj-tree-bootstrap-border\" }, iconsLibrary: \"glyphicons\" },\n        bootstrap4: {\n            style: { wrapper: \"gj-unselectable gj-tree-bootstrap-4\", list: \"gj-list gj-list-bootstrap\", item: \"list-group-item\", active: \"active\", border: \"gj-tree-bootstrap-border\" },\n            icons: { expand: '<i class=\"gj-icon plus\" />', collapse: '<i class=\"gj-icon minus\" />' },\n        },\n        materialicons: { style: { expander: \"gj-tree-material-icons-expander\" } },\n        fontawesome: { style: { expander: \"gj-tree-font-awesome-expander\" }, icons: { expand: '<i class=\"fa fa-plus\" aria-hidden=\"true\"></i>', collapse: '<i class=\"fa fa-minus\" aria-hidden=\"true\"></i>' } },\n        glyphicons: { style: { expander: \"gj-tree-glyphicons-expander\" }, icons: { expand: '<span class=\"glyphicon glyphicon-plus\" />', collapse: '<span class=\"glyphicon glyphicon-minus\" />' } },\n    }),\n    (gj.tree.events = {\n        initialized: function (a) {\n            a.triggerHandler(\"initialized\");\n        },\n        dataBinding: function (a) {\n            a.triggerHandler(\"dataBinding\");\n        },\n        dataBound: function (a) {\n            a.triggerHandler(\"dataBound\");\n        },\n        select: function (a, b, c) {\n            return a.triggerHandler(\"select\", [b, c]);\n        },\n        unselect: function (a, b, c) {\n            return a.triggerHandler(\"unselect\", [b, c]);\n        },\n        expand: function (a, b, c) {\n            return a.triggerHandler(\"expand\", [b, c]);\n        },\n        collapse: function (a, b, c) {\n            return a.triggerHandler(\"collapse\", [b, c]);\n        },\n        enable: function (a, b) {\n            return a.triggerHandler(\"enable\", [b]);\n        },\n        disable: function (a, b) {\n            return a.triggerHandler(\"disable\", [b]);\n        },\n        destroying: function (a) {\n            return a.triggerHandler(\"destroying\");\n        },\n        nodeDataBound: function (a, b, c, d) {\n            return a.triggerHandler(\"nodeDataBound\", [b, c, d]);\n        },\n    }),\n    (gj.tree.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"tree\"), gj.tree.methods.initialize.call(this), this.data(\"autoLoad\") && this.reload(), this;\n        },\n        initialize: function () {\n            var a = this.data(),\n                b = $('<ul class=\"' + a.style.list + '\"/>');\n            this.empty().addClass(a.style.wrapper).append(b), a.width && this.width(a.width), a.border && this.addClass(a.style.border), gj.tree.events.initialized(this);\n        },\n        useHtmlDataSource: function (a, b) {\n            b.dataSource = [];\n        },\n        render: function (a, b) {\n            var c;\n            return b && (\"string\" == typeof b && JSON && (b = JSON.parse(b)), (c = a.data()), (c.records = b), c.primaryKey || gj.tree.methods.genAutoId(c, c.records), gj.tree.methods.loadData(a)), a;\n        },\n        filter: function (a) {\n            return a.data().dataSource;\n        },\n        genAutoId: function (a, b) {\n            var c;\n            for (c = 0; c < b.length; c++) (b[c][a.autoGenFieldName] = a.autoGenId++), b[c][a.childrenField] && b[c][a.childrenField].length && gj.tree.methods.genAutoId(a, b[c][a.childrenField]);\n        },\n        loadData: function (a) {\n            var b,\n                c = a.data(\"records\"),\n                d = a.children(\"ul\");\n            for (gj.tree.events.dataBinding(a), d.off().empty(), b = 0; b < c.length; b++) gj.tree.methods.appendNode(a, d, c[b], 1);\n            gj.tree.events.dataBound(a);\n        },\n        appendNode: function (a, b, c, d, e) {\n            var f,\n                g,\n                h,\n                i,\n                j,\n                k = a.data(),\n                l = k.primaryKey ? c[k.primaryKey] : c[k.autoGenFieldName];\n            if (\n                ((g = $('<li data-id=\"' + l + '\" data-role=\"node\" />').addClass(k.style.item)),\n                ($wrapper = $('<div data-role=\"wrapper\" />')),\n                ($expander = $('<span data-role=\"expander\" data-mode=\"close\"></span>').addClass(k.style.expander)),\n                ($display = $('<span data-role=\"display\">' + c[k.textField] + \"</span>\")),\n                (hasChildren = void 0 !== c[k.hasChildrenField] && \"true\" === c[k.hasChildrenField].toString().toLowerCase()),\n                (disabled = void 0 !== c[k.disabledField] && \"true\" === c[k.disabledField].toString().toLowerCase()),\n                k.indentation && $wrapper.append('<span data-role=\"spacer\" style=\"width: ' + k.indentation * (d - 1) + 'px;\"></span>'),\n                disabled ? gj.tree.methods.disableNode(a, g) : ($expander.on(\"click\", gj.tree.methods.expanderClickHandler(a)), $display.on(\"click\", gj.tree.methods.displayClickHandler(a))),\n                $wrapper.append($expander),\n                $wrapper.append($display),\n                g.append($wrapper),\n                e ? b.find(\"li:eq(\" + (e - 1) + \")\").before(g) : b.append(g),\n                k.imageCssClassField && c[k.imageCssClassField]\n                    ? ((i = $('<span data-role=\"image\"><span class=\"' + c[k.imageCssClassField] + '\"></span></span>')), i.insertBefore($display))\n                    : k.imageUrlField && c[k.imageUrlField]\n                    ? ((i = $('<span data-role=\"image\"></span>')), i.insertBefore($display), (j = $('<img src=\"' + c[k.imageUrlField] + '\"></img>')), j.attr(\"width\", i.width()).attr(\"height\", i.height()), i.append(j))\n                    : k.imageHtmlField && c[k.imageHtmlField] && ((i = $('<span data-role=\"image\">' + c[k.imageHtmlField] + \"</span>\")), i.insertBefore($display)),\n                (c[k.childrenField] && c[k.childrenField].length) || hasChildren)\n            ) {\n                if (($expander.empty().append(k.icons.expand), (h = $(\"<ul />\").addClass(k.style.list).addClass(\"gj-hidden\")), g.append(h), c[k.childrenField] && c[k.childrenField].length))\n                    for (f = 0; f < c[k.childrenField].length; f++) gj.tree.methods.appendNode(a, h, c[k.childrenField][f], d + 1);\n            } else k.style.leafIcon ? $expander.addClass(k.style.leafIcon) : $expander.html(\"&nbsp;\");\n            gj.tree.events.nodeDataBound(a, g, c.id, c);\n        },\n        expanderClickHandler: function (a) {\n            return function (b) {\n                var c = $(this),\n                    d = c.closest(\"li\");\n                \"close\" === c.attr(\"data-mode\") ? a.expand(d) : a.collapse(d);\n            };\n        },\n        expand: function (a, b, c) {\n            var d,\n                e,\n                f = b.find('>[data-role=\"wrapper\"]>[data-role=\"expander\"]'),\n                g = a.data(),\n                h = b.attr(\"data-id\"),\n                i = b.children(\"ul\");\n            if (!1 !== gj.tree.events.expand(a, b, h) && i && i.length && (i.show(), f.attr(\"data-mode\", \"open\"), f.empty().append(g.icons.collapse), c))\n                for (d = b.find(\"ul>li\"), e = 0; e < d.length; e++) gj.tree.methods.expand(a, $(d[e]), c);\n            return a;\n        },\n        collapse: function (a, b, c) {\n            var d,\n                e,\n                f = b.find('>[data-role=\"wrapper\"]>[data-role=\"expander\"]'),\n                g = a.data(),\n                h = b.attr(\"data-id\"),\n                i = b.children(\"ul\");\n            if (!1 !== gj.tree.events.collapse(a, b, h) && i && i.length && (i.hide(), f.attr(\"data-mode\", \"close\"), f.empty().append(g.icons.expand), c))\n                for (d = b.find(\"ul>li\"), e = 0; e < d.length; e++) gj.tree.methods.collapse(a, $(d[e]), c);\n            return a;\n        },\n        expandAll: function (a) {\n            var b,\n                c = a.find(\"ul>li\");\n            for (b = 0; b < c.length; b++) gj.tree.methods.expand(a, $(c[b]), !0);\n            return a;\n        },\n        collapseAll: function (a) {\n            var b,\n                c = a.find(\"ul>li\");\n            for (b = 0; b < c.length; b++) gj.tree.methods.collapse(a, $(c[b]), !0);\n            return a;\n        },\n        displayClickHandler: function (a) {\n            return function (b) {\n                var c = $(this),\n                    d = c.closest(\"li\"),\n                    e = a.data().cascadeSelection;\n                \"true\" === d.attr(\"data-selected\") ? gj.tree.methods.unselect(a, d, e) : (\"single\" === a.data(\"selectionType\") && gj.tree.methods.unselectAll(a), gj.tree.methods.select(a, d, e));\n            };\n        },\n        selectAll: function (a) {\n            var b,\n                c = a.find(\"ul>li\");\n            for (b = 0; b < c.length; b++) gj.tree.methods.select(a, $(c[b]), !0);\n            return a;\n        },\n        select: function (a, b, c) {\n            var d,\n                e,\n                f = a.data();\n            if (\"true\" !== b.attr(\"data-selected\") && !1 !== gj.tree.events.select(a, b, b.attr(\"data-id\")) && (b.addClass(f.style.active).attr(\"data-selected\", \"true\"), c))\n                for (e = b.find(\"ul>li\"), d = 0; d < e.length; d++) gj.tree.methods.select(a, $(e[d]), c);\n        },\n        unselectAll: function (a) {\n            var b,\n                c = a.find(\"ul>li\");\n            for (b = 0; b < c.length; b++) gj.tree.methods.unselect(a, $(c[b]), !0);\n            return a;\n        },\n        unselect: function (a, b, c) {\n            var d, e;\n            a.data();\n            if (\"true\" === b.attr(\"data-selected\") && !1 !== gj.tree.events.unselect(a, b, b.attr(\"data-id\")) && (b.removeClass(a.data().style.active).removeAttr(\"data-selected\"), c))\n                for (e = b.find(\"ul>li\"), d = 0; d < e.length; d++) gj.tree.methods.unselect(a, $(e[d]), c);\n        },\n        getSelections: function (a) {\n            var b,\n                c,\n                d,\n                e = [],\n                f = a.children(\"li\");\n            if (f && f.length)\n                for (b = 0; b < f.length; b++) (c = $(f[b])), \"true\" === c.attr(\"data-selected\") ? e.push(c.attr(\"data-id\")) : c.has(\"ul\") && ((d = gj.tree.methods.getSelections(c.children(\"ul\"))), d.length && (e = e.concat(d)));\n            return e;\n        },\n        getDataById: function (a, b, c) {\n            var d,\n                e = a.data(),\n                f = void 0;\n            for (d = 0; d < c.length; d++) {\n                if (e.primaryKey && c[d][e.primaryKey] == b) {\n                    f = c[d];\n                    break;\n                }\n                if (c[d][e.autoGenFieldName] == b) {\n                    f = c[d];\n                    break;\n                }\n                if (c[d][e.childrenField] && c[d][e.childrenField].length && (f = gj.tree.methods.getDataById(a, b, c[d][e.childrenField]))) break;\n            }\n            return f;\n        },\n        getDataByText: function (a, b, c) {\n            var d,\n                e = void 0,\n                f = a.data();\n            for (d = 0; d < c.length; d++) {\n                if (b === c[d][f.textField]) {\n                    e = c[d];\n                    break;\n                }\n                if (c[d][f.childrenField] && c[d][f.childrenField].length && (e = gj.tree.methods.getDataByText(a, b, c[d][f.childrenField]))) break;\n            }\n            return e;\n        },\n        getNodeById: function (a, b) {\n            var c,\n                d,\n                e = void 0,\n                f = a.children(\"li\");\n            if (f && f.length)\n                for (c = 0; c < f.length; c++) {\n                    if (((d = $(f[c])), b == d.attr(\"data-id\"))) {\n                        e = d;\n                        break;\n                    }\n                    if (d.has(\"ul\") && (e = gj.tree.methods.getNodeById(d.children(\"ul\"), b))) break;\n                }\n            return e;\n        },\n        getNodeByText: function (a, b) {\n            var c,\n                d,\n                e = void 0,\n                f = a.children(\"li\");\n            if (f && f.length)\n                for (c = 0; c < f.length; c++) {\n                    if (((d = $(f[c])), b === d.find('>[data-role=\"wrapper\"]>[data-role=\"display\"]').text())) {\n                        e = d;\n                        break;\n                    }\n                    if (d.has(\"ul\") && (e = gj.tree.methods.getNodeByText(d.children(\"ul\"), b))) break;\n                }\n            return e;\n        },\n        addNode: function (a, b, c, d) {\n            var e,\n                f,\n                g = a.data();\n            return (\n                c && c.length\n                    ? (\"li\" === c[0].tagName.toLowerCase() && (0 === c.children(\"ul\").length && (c.find('[data-role=\"expander\"]').empty().append(g.icons.collapse), c.append($(\"<ul />\").addClass(g.style.list))), (c = c.children(\"ul\"))),\n                      (f = a.getDataById(c.parent().data(\"id\"))),\n                      f[g.childrenField] || (f[g.childrenField] = []),\n                      f[g.childrenField].push(b))\n                    : ((c = a.children(\"ul\")), a.data(\"records\").push(b)),\n                (e = c.parentsUntil('[data-type=\"tree\"]', \"ul\").length + 1),\n                g.primaryKey || gj.tree.methods.genAutoId(g, [b]),\n                gj.tree.methods.appendNode(a, c, b, e, d),\n                a\n            );\n        },\n        remove: function (a, b) {\n            return gj.tree.methods.removeDataById(a, b.attr(\"data-id\"), a.data(\"records\")), b.remove(), a;\n        },\n        removeDataById: function (a, b, c) {\n            var d,\n                e = a.data();\n            for (d = 0; d < c.length; d++) {\n                if (e.primaryKey && c[d][e.primaryKey] == b) {\n                    c.splice(d, 1);\n                    break;\n                }\n                if (c[d][e.autoGenFieldName] == b) {\n                    c.splice(d, 1);\n                    break;\n                }\n                c[d][e.childrenField] && c[d][e.childrenField].length && gj.tree.methods.removeDataById(a, b, c[d][e.childrenField]);\n            }\n        },\n        update: function (a, b, c) {\n            var d = a.data(),\n                e = a.getNodeById(b);\n            a.getDataById(b);\n            return c, e.find('>[data-role=\"wrapper\"]>[data-role=\"display\"]').html(c[d.textField]), gj.tree.events.nodeDataBound(a, e, b, c), a;\n        },\n        getChildren: function (a, b, c) {\n            var d,\n                e,\n                f = [],\n                c = void 0 === c || c;\n            for (e = c ? b.find(\"ul li\") : b.find(\">ul>li\"), d = 0; d < e.length; d++) f.push($(e[d]).data(\"id\"));\n            return f;\n        },\n        enableAll: function (a) {\n            var b,\n                c = a.find(\"ul>li\");\n            for (b = 0; b < c.length; b++) gj.tree.methods.enableNode(a, $(c[b]), !0);\n            return a;\n        },\n        enableNode: function (a, b, c) {\n            var d,\n                e,\n                f = b.find('>[data-role=\"wrapper\"]>[data-role=\"expander\"]'),\n                g = b.find('>[data-role=\"wrapper\"]>[data-role=\"display\"]'),\n                c = void 0 === c || c;\n            if ((b.removeClass(\"disabled\"), f.on(\"click\", gj.tree.methods.expanderClickHandler(a)), g.on(\"click\", gj.tree.methods.displayClickHandler(a)), gj.tree.events.enable(a, b), c))\n                for (e = b.find(\"ul>li\"), d = 0; d < e.length; d++) gj.tree.methods.enableNode(a, $(e[d]), c);\n        },\n        disableAll: function (a) {\n            var b,\n                c = a.find(\"ul>li\");\n            for (b = 0; b < c.length; b++) gj.tree.methods.disableNode(a, $(c[b]), !0);\n            return a;\n        },\n        disableNode: function (a, b, c) {\n            var d,\n                e,\n                f = b.find('>[data-role=\"wrapper\"]>[data-role=\"expander\"]'),\n                g = b.find('>[data-role=\"wrapper\"]>[data-role=\"display\"]'),\n                c = void 0 === c || c;\n            if ((b.addClass(\"disabled\"), f.off(\"click\"), g.off(\"click\"), gj.tree.events.disable(a, b), c)) for (e = b.find(\"ul>li\"), d = 0; d < e.length; d++) gj.tree.methods.disableNode(a, $(e[d]), c);\n        },\n        destroy: function (a) {\n            return a.data() && (gj.tree.events.destroying(a), a.xhr && a.xhr.abort(), a.off(), a.removeData(), a.removeAttr(\"data-type\"), a.removeClass().empty()), a;\n        },\n        pathFinder: function (a, b, c, d) {\n            var e,\n                f = !1;\n            for (e = 0; e < b.length; e++) {\n                if (b[e].id == c) {\n                    f = !0;\n                    break;\n                }\n                if (gj.tree.methods.pathFinder(a, b[e][a.childrenField], c, d)) {\n                    d.push(b[e].data[a.textField]), (f = !0);\n                    break;\n                }\n            }\n            return f;\n        },\n    }),\n    (gj.tree.widget = function (a, b) {\n        var c = this,\n            d = gj.tree.methods;\n        return (\n            (c.reload = function (a) {\n                return gj.widget.prototype.reload.call(this, a);\n            }),\n            (c.render = function (a) {\n                return d.render(this, a);\n            }),\n            (c.addNode = function (a, b, c) {\n                return d.addNode(this, a, b, c);\n            }),\n            (c.removeNode = function (a) {\n                return d.remove(this, a);\n            }),\n            (c.updateNode = function (a, b) {\n                return d.update(this, a, b);\n            }),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            (c.expand = function (a, b) {\n                return d.expand(this, a, b);\n            }),\n            (c.collapse = function (a, b) {\n                return d.collapse(this, a, b);\n            }),\n            (c.expandAll = function () {\n                return d.expandAll(this);\n            }),\n            (c.collapseAll = function () {\n                return d.collapseAll(this);\n            }),\n            (c.getDataById = function (a) {\n                return d.getDataById(this, a, this.data(\"records\"));\n            }),\n            (c.getDataByText = function (a) {\n                return d.getDataByText(this, a, this.data(\"records\"));\n            }),\n            (c.getNodeById = function (a) {\n                return d.getNodeById(this.children(\"ul\"), a);\n            }),\n            (c.getNodeByText = function (a) {\n                return d.getNodeByText(this.children(\"ul\"), a);\n            }),\n            (c.getAll = function () {\n                return this.data(\"records\");\n            }),\n            (c.select = function (a) {\n                return d.select(this, a);\n            }),\n            (c.unselect = function (a) {\n                return d.unselect(this, a);\n            }),\n            (c.selectAll = function () {\n                return d.selectAll(this);\n            }),\n            (c.unselectAll = function () {\n                return d.unselectAll(this);\n            }),\n            (c.getSelections = function () {\n                return d.getSelections(this.children(\"ul\"));\n            }),\n            (c.getChildren = function (a, b) {\n                return d.getChildren(this, a, b);\n            }),\n            (c.parents = function (a) {\n                var b = [],\n                    c = this.data();\n                return d.pathFinder(c, c.records, a, b), b.reverse();\n            }),\n            (c.enable = function (a, b) {\n                return d.enableNode(this, a, b);\n            }),\n            (c.enableAll = function () {\n                return d.enableAll(this);\n            }),\n            (c.disable = function (a, b) {\n                return d.disableNode(this, a, b);\n            }),\n            (c.disableAll = function () {\n                return d.disableAll(this);\n            }),\n            $.extend(a, c),\n            \"tree\" !== a.attr(\"data-type\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.tree.widget.prototype = new gj.widget()),\n    (gj.tree.widget.constructor = gj.tree.widget),\n    (function (a) {\n        a.fn.tree = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.tree.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.tree.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.tree.plugins.checkboxes = {\n        config: { base: { checkboxes: void 0, checkedField: \"checked\", cascadeCheck: !0 } },\n        private: {\n            dataBound: function (a) {\n                var b;\n                a.data(\"cascadeCheck\") &&\n                    ((b = a.find('li[data-role=\"node\"]')),\n                    $.each(b, function () {\n                        var a = $(this),\n                            b = a.find('[data-role=\"checkbox\"] input[type=\"checkbox\"]').checkbox(\"state\");\n                        \"checked\" === b && (gj.tree.plugins.checkboxes.private.updateChildrenState(a, b), gj.tree.plugins.checkboxes.private.updateParentState(a, b));\n                    }));\n            },\n            nodeDataBound: function (a, b, c, d) {\n                var e, f, g, h, i;\n                0 === b.find('> [data-role=\"wrapper\"] > [data-role=\"checkbox\"]').length &&\n                    ((e = a.data()),\n                    (f = b.find('> [data-role=\"wrapper\"] > [data-role=\"expander\"]')),\n                    (g = $('<input type=\"checkbox\"/>')),\n                    (h = $('<span data-role=\"checkbox\"></span>').append(g)),\n                    (i = void 0 !== d[e.disabledField] && \"true\" === d[e.disabledField].toString().toLowerCase()),\n                    (g = g.checkbox({\n                        uiLibrary: e.uiLibrary,\n                        iconsLibrary: e.iconsLibrary,\n                        change: function (c, e) {\n                            gj.tree.plugins.checkboxes.events.checkboxChange(a, b, d, g.state());\n                        },\n                    })),\n                    i && g.prop(\"disabled\", !0),\n                    d[e.checkedField] && g.state(\"checked\"),\n                    g.on(\"click\", function (a) {\n                        var b = g.closest(\"li\"),\n                            c = g.state();\n                        e.cascadeCheck && (gj.tree.plugins.checkboxes.private.updateChildrenState(b, c), gj.tree.plugins.checkboxes.private.updateParentState(b, c));\n                    }),\n                    f.after(h));\n            },\n            updateParentState: function (a, b) {\n                var c, d, e, f, g, h;\n                (c = a.parent(\"ul\").parent(\"li\")),\n                    1 === c.length &&\n                        ((d = a.parent(\"ul\").parent(\"li\").find('> [data-role=\"wrapper\"] > [data-role=\"checkbox\"] input[type=\"checkbox\"]')),\n                        (e = a.siblings().find('> [data-role=\"wrapper\"] > span[data-role=\"checkbox\"] input[type=\"checkbox\"]')),\n                        (f = \"checked\" === b),\n                        (g = \"unchecked\" === b),\n                        (h = \"indeterminate\"),\n                        $.each(e, function () {\n                            var a = $(this).checkbox(\"state\");\n                            f && \"checked\" !== a && (f = !1), g && \"unchecked\" !== a && (g = !1);\n                        }),\n                        f && !g && (h = \"checked\"),\n                        !f && g && (h = \"unchecked\"),\n                        d.checkbox(\"state\", h),\n                        gj.tree.plugins.checkboxes.private.updateParentState(c, d.checkbox(\"state\")));\n            },\n            updateChildrenState: function (a, b) {\n                var c = a.find('ul li [data-role=\"wrapper\"] [data-role=\"checkbox\"] input[type=\"checkbox\"]');\n                c.length > 0 &&\n                    $.each(c, function () {\n                        $(this).checkbox(\"state\", b);\n                    });\n            },\n            update: function (a, b, c) {\n                var d = b.find('[data-role=\"checkbox\"] input[type=\"checkbox\"]').first();\n                $(d).checkbox(\"state\", c), a.data().cascadeCheck && (gj.tree.plugins.checkboxes.private.updateChildrenState(b, c), gj.tree.plugins.checkboxes.private.updateParentState(b, c));\n            },\n        },\n        public: {\n            getCheckedNodes: function () {\n                var a = [],\n                    b = this.find('li [data-role=\"checkbox\"] input[type=\"checkbox\"]');\n                return (\n                    $.each(b, function () {\n                        var b = $(this);\n                        \"checked\" === b.checkbox(\"state\") && a.push(b.closest(\"li\").data(\"id\"));\n                    }),\n                    a\n                );\n            },\n            checkAll: function () {\n                var a = this.find('li [data-role=\"checkbox\"] input[type=\"checkbox\"]');\n                return (\n                    $.each(a, function () {\n                        $(this).checkbox(\"state\", \"checked\");\n                    }),\n                    this\n                );\n            },\n            uncheckAll: function () {\n                var a = this.find('li [data-role=\"checkbox\"] input[type=\"checkbox\"]');\n                return (\n                    $.each(a, function () {\n                        $(this).checkbox(\"state\", \"unchecked\");\n                    }),\n                    this\n                );\n            },\n            check: function (a) {\n                return gj.tree.plugins.checkboxes.private.update(this, a, \"checked\"), this;\n            },\n            uncheck: function (a) {\n                return gj.tree.plugins.checkboxes.private.update(this, a, \"unchecked\"), this;\n            },\n        },\n        events: {\n            checkboxChange: function (a, b, c, d) {\n                return a.triggerHandler(\"checkboxChange\", [b, c, d]);\n            },\n        },\n        configure: function (a) {\n            a.data(\"checkboxes\") &&\n                gj.checkbox &&\n                ($.extend(!0, a, gj.tree.plugins.checkboxes.public),\n                a.on(\"nodeDataBound\", function (b, c, d, e) {\n                    gj.tree.plugins.checkboxes.private.nodeDataBound(a, c, d, e);\n                }),\n                a.on(\"dataBound\", function () {\n                    gj.tree.plugins.checkboxes.private.dataBound(a);\n                }),\n                a.on(\"enable\", function (a, b) {\n                    b.find('>[data-role=\"wrapper\"]>[data-role=\"checkbox\"] input[type=\"checkbox\"]').prop(\"disabled\", !1);\n                }),\n                a.on(\"disable\", function (a, b) {\n                    b.find('>[data-role=\"wrapper\"]>[data-role=\"checkbox\"] input[type=\"checkbox\"]').prop(\"disabled\", !0);\n                }));\n        },\n    }),\n    (gj.tree.plugins.dragAndDrop = {\n        config: {\n            base: { dragAndDrop: void 0, style: { dragEl: \"gj-tree-drag-el gj-tree-md-drag-el\", dropAsChildIcon: \"gj-cursor-pointer gj-icon plus\", dropAbove: \"gj-tree-drop-above\", dropBelow: \"gj-tree-drop-below\" } },\n            bootstrap: { style: { dragEl: \"gj-tree-drag-el gj-tree-bootstrap-drag-el\", dropAsChildIcon: \"glyphicon glyphicon-plus\", dropAbove: \"drop-above\", dropBelow: \"drop-below\" } },\n            bootstrap4: { style: { dragEl: \"gj-tree-drag-el gj-tree-bootstrap-drag-el\", dropAsChildIcon: \"gj-cursor-pointer gj-icon plus\", dropAbove: \"drop-above\", dropBelow: \"drop-below\" } },\n        },\n        private: {\n            nodeDataBound: function (a, b) {\n                var c = b.children('[data-role=\"wrapper\"]'),\n                    d = b.find('>[data-role=\"wrapper\"]>[data-role=\"display\"]');\n                c.length &&\n                    d.length &&\n                    (d.on(\"mousedown\", gj.tree.plugins.dragAndDrop.private.createNodeMouseDownHandler(a)),\n                    d.on(\"mousemove\", gj.tree.plugins.dragAndDrop.private.createNodeMouseMoveHandler(a, b, d)),\n                    d.on(\"mouseup\", gj.tree.plugins.dragAndDrop.private.createNodeMouseUpHandler(a)));\n            },\n            createNodeMouseDownHandler: function (a) {\n                return function (b) {\n                    a.data(\"dragReady\", !0);\n                };\n            },\n            createNodeMouseUpHandler: function (a) {\n                return function (b) {\n                    a.data(\"dragReady\", !1);\n                };\n            },\n            createNodeMouseMoveHandler: function (a, b, c) {\n                return function (d) {\n                    if (a.data(\"dragReady\")) {\n                        var e,\n                            f,\n                            g,\n                            h,\n                            i = a.data();\n                        a.data(\"dragReady\", !1),\n                            (e = c\n                                .clone()\n                                .wrap('<div data-role=\"wrapper\"/>')\n                                .closest(\"div\")\n                                .wrap('<li class=\"' + i.style.item + '\" />')\n                                .closest(\"li\")\n                                .wrap('<ul class=\"' + i.style.list + '\" />')\n                                .closest(\"ul\")),\n                            $(\"body\").append(e),\n                            e.attr(\"data-role\", \"draggable-clone\").addClass(\"gj-unselectable\").addClass(i.style.dragEl),\n                            e.find('[data-role=\"wrapper\"]').prepend('<span data-role=\"indicator\" />'),\n                            e.draggable({ drag: gj.tree.plugins.dragAndDrop.private.createDragHandler(a, b, c), stop: gj.tree.plugins.dragAndDrop.private.createDragStopHandler(a, b, c) }),\n                            (f = c.parent()),\n                            (g = c.offset().top),\n                            (g -= parseInt(f.css(\"border-top-width\")) + parseInt(f.css(\"margin-top\")) + parseInt(f.css(\"padding-top\"))),\n                            (h = c.offset().left),\n                            (h -= parseInt(f.css(\"border-left-width\")) + parseInt(f.css(\"margin-left\")) + parseInt(f.css(\"padding-left\"))),\n                            (h -= e.find('[data-role=\"indicator\"]').outerWidth(!0)),\n                            e.css({ position: \"absolute\", top: g, left: h, width: c.outerWidth(!0) }),\n                            \"true\" === c.attr(\"data-droppable\") && c.droppable(\"destroy\"),\n                            gj.tree.plugins.dragAndDrop.private.getTargetDisplays(a, b, c).each(function () {\n                                var a = $(this);\n                                \"true\" === a.attr(\"data-droppable\") && a.droppable(\"destroy\"), a.droppable();\n                            }),\n                            gj.tree.plugins.dragAndDrop.private.getTargetDisplays(a, b).each(function () {\n                                var a = $(this);\n                                \"true\" === a.attr(\"data-droppable\") && a.droppable(\"destroy\"), a.droppable();\n                            }),\n                            e.trigger(\"mousedown\");\n                    }\n                };\n            },\n            getTargetDisplays: function (a, b, c) {\n                return a.find('[data-role=\"display\"]').not(c).not(b.find('[data-role=\"display\"]'));\n            },\n            getTargetWrappers: function (a, b) {\n                return a.find('[data-role=\"wrapper\"]').not(b.find('[data-role=\"wrapper\"]'));\n            },\n            createDragHandler: function (a, b, c) {\n                var d = gj.tree.plugins.dragAndDrop.private.getTargetDisplays(a, b, c),\n                    e = gj.tree.plugins.dragAndDrop.private.getTargetWrappers(a, b),\n                    f = a.data();\n                return function (a, b, c) {\n                    var g = $(this),\n                        h = !1;\n                    d.each(function () {\n                        var a,\n                            b = $(this);\n                        if (b.droppable(\"isOver\", c)) return (a = g.find('[data-role=\"indicator\"]')), f.style.dropAsChildIcon ? a.addClass(f.style.dropAsChildIcon) : a.text(\"+\"), (h = !0), !1;\n                        g.find('[data-role=\"indicator\"]').removeClass(f.style.dropAsChildIcon).empty();\n                    }),\n                        e.each(function () {\n                            var a,\n                                b = $(this);\n                            !h && b.droppable(\"isOver\", c)\n                                ? ((a = b.position().top + b.outerHeight() / 2), c.y < a ? b.addClass(f.style.dropAbove).removeClass(f.style.dropBelow) : b.addClass(f.style.dropBelow).removeClass(f.style.dropAbove))\n                                : b.removeClass(f.style.dropAbove).removeClass(f.style.dropBelow);\n                        });\n                };\n            },\n            createDragStopHandler: function (a, b, c) {\n                var d = gj.tree.plugins.dragAndDrop.private.getTargetDisplays(a, b, c),\n                    e = gj.tree.plugins.dragAndDrop.private.getTargetWrappers(a, b),\n                    f = a.data();\n                return function (c, g) {\n                    var h,\n                        i,\n                        j,\n                        k,\n                        l = !1;\n                    $(this).draggable(\"destroy\").remove(),\n                        d.each(function () {\n                            var c,\n                                d = $(this);\n                            if (d.droppable(\"isOver\", g))\n                                return (\n                                    (i = d.closest(\"li\")),\n                                    (j = b.parent(\"ul\").parent(\"li\")),\n                                    (c = i.children(\"ul\")),\n                                    0 === c.length && ((c = $(\"<ul />\").addClass(f.style.list)), i.append(c)),\n                                    !1 !== gj.tree.plugins.dragAndDrop.events.nodeDrop(a, b.data(\"id\"), i.data(\"id\"), c.children(\"li\").length + 1) &&\n                                        (c.append(b),\n                                        (h = a.getDataById(b.data(\"id\"))),\n                                        gj.tree.methods.removeDataById(a, b.data(\"id\"), f.records),\n                                        (k = a.getDataById(c.parent().data(\"id\"))),\n                                        void 0 === k[f.childrenField] && (k[f.childrenField] = []),\n                                        k[f.childrenField].push(h),\n                                        gj.tree.plugins.dragAndDrop.private.refresh(a, b, i, j)),\n                                    (l = !0),\n                                    !1\n                                );\n                            d.droppable(\"destroy\");\n                        }),\n                        l ||\n                            e.each(function () {\n                                var c,\n                                    d,\n                                    e,\n                                    k = $(this);\n                                if (k.droppable(\"isOver\", g))\n                                    return (\n                                        (i = k.closest(\"li\")),\n                                        (j = b.parent(\"ul\").parent(\"li\")),\n                                        (c = g.y < k.position().top + k.outerHeight() / 2),\n                                        (e = b.data(\"id\")),\n                                        (d = i.prevAll('li:not([data-id=\"' + e + '\"])').length + (c ? 1 : 2)),\n                                        !1 !== gj.tree.plugins.dragAndDrop.events.nodeDrop(a, e, i.parent(\"ul\").parent(\"li\").data(\"id\"), d) &&\n                                            ((h = a.getDataById(b.data(\"id\"))),\n                                            gj.tree.methods.removeDataById(a, b.data(\"id\"), f.records),\n                                            a.getDataById(i.parent().data(\"id\"))[f.childrenField].splice(i.index() + (c ? 0 : 1), 0, h),\n                                            c ? b.insertBefore(i) : b.insertAfter(i),\n                                            gj.tree.plugins.dragAndDrop.private.refresh(a, b, i, j)),\n                                        !1\n                                    );\n                                k.droppable(\"destroy\");\n                            });\n                };\n            },\n            refresh: function (a, b, c, d) {\n                var e = a.data();\n                gj.tree.plugins.dragAndDrop.private.refreshNode(a, c),\n                    gj.tree.plugins.dragAndDrop.private.refreshNode(a, d),\n                    gj.tree.plugins.dragAndDrop.private.refreshNode(a, b),\n                    b.find('li[data-role=\"node\"]').each(function () {\n                        gj.tree.plugins.dragAndDrop.private.refreshNode(a, $(this));\n                    }),\n                    c.children('[data-role=\"wrapper\"]').removeClass(e.style.dropAbove).removeClass(e.style.dropBelow);\n            },\n            refreshNode: function (a, b) {\n                var c = b.children('[data-role=\"wrapper\"]'),\n                    d = c.children('[data-role=\"expander\"]'),\n                    e = c.children('[data-role=\"spacer\"]'),\n                    f = b.children(\"ul\"),\n                    g = a.data(),\n                    h = b.parentsUntil('[data-type=\"tree\"]', \"ul\").length;\n                f.length && f.children().length ? (f.is(\":visible\") ? d.empty().append(g.icons.collapse) : d.empty().append(g.icons.expand)) : d.empty(),\n                    c.removeClass(g.style.dropAbove).removeClass(g.style.dropBelow),\n                    e.css(\"width\", g.indentation * (h - 1));\n            },\n        },\n        public: {},\n        events: {\n            nodeDrop: function (a, b, c, d) {\n                return a.triggerHandler(\"nodeDrop\", [b, c, d]);\n            },\n        },\n        configure: function (a) {\n            $.extend(!0, a, gj.tree.plugins.dragAndDrop.public),\n                a.data(\"dragAndDrop\") &&\n                    gj.draggable &&\n                    gj.droppable &&\n                    a.on(\"nodeDataBound\", function (b, c) {\n                        gj.tree.plugins.dragAndDrop.private.nodeDataBound(a, c);\n                    });\n        },\n    }),\n    (gj.tree.plugins.lazyLoading = {\n        config: { base: { paramNames: { parentId: \"parentId\" }, lazyLoading: !1 } },\n        private: {\n            nodeDataBound: function (a, b, c, d) {\n                var e = a.data(),\n                    f = b.find('> [data-role=\"wrapper\"] > [data-role=\"expander\"]');\n                d.hasChildren && f.empty().append(e.icons.expand);\n            },\n            createDoneHandler: function (a, b) {\n                return function (c) {\n                    var d,\n                        e,\n                        f,\n                        g = a.data();\n                    if ((\"string\" == typeof c && JSON && (c = JSON.parse(c)), c && c.length)) {\n                        for (f = b.children(\"ul\"), 0 === f.length && ((f = $(\"<ul />\").addClass(g.style.list)), b.append(f)), d = 0; d < c.length; d++) a.addNode(c[d], f);\n                        (e = b.find('>[data-role=\"wrapper\"]>[data-role=\"expander\"]')), e.attr(\"data-mode\", \"open\"), e.empty().append(g.icons.collapse), gj.tree.events.dataBound(a);\n                    }\n                };\n            },\n            expand: function (a, b, c) {\n                var d,\n                    e = a.data(),\n                    f = {},\n                    g = b.find(\">ul>li\");\n                (g && g.length) ||\n                    (\"string\" == typeof e.dataSource &&\n                        ((f[e.paramNames.parentId] = c), (d = { url: e.dataSource, data: f }), a.xhr && a.xhr.abort(), (a.xhr = $.ajax(d).done(gj.tree.plugins.lazyLoading.private.createDoneHandler(a, b)).fail(a.createErrorHandler()))));\n            },\n        },\n        public: {},\n        events: {},\n        configure: function (a, b, c) {\n            c.lazyLoading &&\n                (a.on(\"nodeDataBound\", function (b, c, d, e) {\n                    gj.tree.plugins.lazyLoading.private.nodeDataBound(a, c, d, e);\n                }),\n                a.on(\"expand\", function (b, c, d) {\n                    gj.tree.plugins.lazyLoading.private.expand(a, c, d);\n                }));\n        },\n    }),\n    (gj.checkbox = { plugins: {} }),\n    (gj.checkbox.config = {\n        base: { uiLibrary: \"materialdesign\", iconsLibrary: \"materialicons\", style: { wrapperCssClass: \"gj-checkbox-md\", spanCssClass: void 0 } },\n        bootstrap: { style: { wrapperCssClass: \"gj-checkbox-bootstrap\" }, iconsLibrary: \"glyphicons\" },\n        bootstrap4: { style: { wrapperCssClass: \"gj-checkbox-bootstrap gj-checkbox-bootstrap-4\" }, iconsLibrary: \"materialicons\" },\n        materialicons: { style: { iconsCssClass: \"gj-checkbox-material-icons\", spanCssClass: \"gj-icon\" } },\n        glyphicons: { style: { iconsCssClass: \"gj-checkbox-glyphicons\", spanCssClass: \"\" } },\n        fontawesome: { style: { iconsCssClass: \"gj-checkbox-fontawesome\", spanCssClass: \"fa\" } },\n    }),\n    (gj.checkbox.methods = {\n        init: function (a) {\n            var b = this;\n            return gj.widget.prototype.init.call(this, a, \"checkbox\"), b.attr(\"data-checkbox\", \"true\"), gj.checkbox.methods.initialize(b), b;\n        },\n        initialize: function (a) {\n            var b,\n                c,\n                d = a.data();\n            d.style.wrapperCssClass &&\n                ((b = $('<label class=\"' + d.style.wrapperCssClass + \" \" + d.style.iconsCssClass + '\"></label>')),\n                a.attr(\"id\") && b.attr(\"for\", a.attr(\"id\")),\n                a.wrap(b),\n                (c = $(\"<span />\")),\n                d.style.spanCssClass && c.addClass(d.style.spanCssClass),\n                a.parent().append(c));\n        },\n        state: function (a, b) {\n            return b\n                ? (\"checked\" === b\n                      ? (a.prop(\"indeterminate\", !1), a.prop(\"checked\", !0))\n                      : \"unchecked\" === b\n                      ? (a.prop(\"indeterminate\", !1), a.prop(\"checked\", !1))\n                      : \"indeterminate\" === b && (a.prop(\"checked\", !0), a.prop(\"indeterminate\", !0)),\n                  gj.checkbox.events.change(a, b),\n                  a)\n                : (b = a.prop(\"indeterminate\") ? \"indeterminate\" : a.prop(\"checked\") ? \"checked\" : \"unchecked\");\n        },\n        toggle: function (a) {\n            return \"checked\" == a.state() ? a.state(\"unchecked\") : a.state(\"checked\"), a;\n        },\n        destroy: function (a) {\n            return \"true\" === a.attr(\"data-checkbox\") && (a.removeData(), a.removeAttr(\"data-guid\"), a.removeAttr(\"data-checkbox\"), a.off(), a.next(\"span\").remove(), a.unwrap()), a;\n        },\n    }),\n    (gj.checkbox.events = {\n        change: function (a, b) {\n            return a.triggerHandler(\"change\", [b]);\n        },\n    }),\n    (gj.checkbox.widget = function (a, b) {\n        var c = this,\n            d = gj.checkbox.methods;\n        return (\n            (c.toggle = function () {\n                return d.toggle(this);\n            }),\n            (c.state = function (a) {\n                return d.state(this, a);\n            }),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-checkbox\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.checkbox.widget.prototype = new gj.widget()),\n    (gj.checkbox.widget.constructor = gj.checkbox.widget),\n    (function (a) {\n        a.fn.checkbox = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.checkbox.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.checkbox.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.editor = { plugins: {}, messages: {} }),\n    (gj.editor.config = {\n        base: {\n            height: 300,\n            width: void 0,\n            uiLibrary: \"materialdesign\",\n            iconsLibrary: \"materialicons\",\n            locale: \"en-us\",\n            buttons: void 0,\n            style: { wrapper: \"gj-editor gj-editor-md\", buttonsGroup: \"gj-button-md-group\", button: \"gj-button-md\", buttonActive: \"active\" },\n        },\n        bootstrap: { style: { wrapper: \"gj-editor gj-editor-bootstrap\", buttonsGroup: \"btn-group\", button: \"btn btn-default gj-cursor-pointer\", buttonActive: \"active\" } },\n        bootstrap4: { style: { wrapper: \"gj-editor gj-editor-bootstrap\", buttonsGroup: \"btn-group\", button: \"btn btn-outline-secondary gj-cursor-pointer\", buttonActive: \"active\" } },\n        materialicons: {\n            icons: {\n                bold: '<i class=\"gj-icon bold\" />',\n                italic: '<i class=\"gj-icon italic\" />',\n                strikethrough: '<i class=\"gj-icon strikethrough\" />',\n                underline: '<i class=\"gj-icon underlined\" />',\n                listBulleted: '<i class=\"gj-icon list-bulleted\" />',\n                listNumbered: '<i class=\"gj-icon list-numbered\" />',\n                indentDecrease: '<i class=\"gj-icon indent-decrease\" />',\n                indentIncrease: '<i class=\"gj-icon indent-increase\" />',\n                alignLeft: '<i class=\"gj-icon align-left\" />',\n                alignCenter: '<i class=\"gj-icon align-center\" />',\n                alignRight: '<i class=\"gj-icon align-right\" />',\n                alignJustify: '<i class=\"gj-icon align-justify\" />',\n                undo: '<i class=\"gj-icon undo\" />',\n                redo: '<i class=\"gj-icon redo\" />',\n            },\n        },\n        fontawesome: {\n            icons: {\n                bold: '<i class=\"fa fa-bold\" aria-hidden=\"true\"></i>',\n                italic: '<i class=\"fa fa-italic\" aria-hidden=\"true\"></i>',\n                strikethrough: '<i class=\"fa fa-strikethrough\" aria-hidden=\"true\"></i>',\n                underline: '<i class=\"fa fa-underline\" aria-hidden=\"true\"></i>',\n                listBulleted: '<i class=\"fa fa-list-ul\" aria-hidden=\"true\"></i>',\n                listNumbered: '<i class=\"fa fa-list-ol\" aria-hidden=\"true\"></i>',\n                indentDecrease: '<i class=\"fa fa-indent\" aria-hidden=\"true\"></i>',\n                indentIncrease: '<i class=\"fa fa-outdent\" aria-hidden=\"true\"></i>',\n                alignLeft: '<i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>',\n                alignCenter: '<i class=\"fa fa-align-center\" aria-hidden=\"true\"></i>',\n                alignRight: '<i class=\"fa fa-align-right\" aria-hidden=\"true\"></i>',\n                alignJustify: '<i class=\"fa fa-align-justify\" aria-hidden=\"true\"></i>',\n                undo: '<i class=\"fa fa-undo\" aria-hidden=\"true\"></i>',\n                redo: '<i class=\"fa fa-repeat\" aria-hidden=\"true\"></i>',\n            },\n        },\n    }),\n    (gj.editor.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"editor\"), this.attr(\"data-editor\", \"true\"), gj.editor.methods.initialize(this), this;\n        },\n        initialize: function (a) {\n            var b,\n                c,\n                d,\n                e,\n                f,\n                g = this,\n                h = a.data();\n            if (\n                (a.hide(),\n                \"wrapper\" !== a[0].parentElement.attributes.role && ((d = document.createElement(\"div\")), d.setAttribute(\"role\", \"wrapper\"), a[0].parentNode.insertBefore(d, a[0]), d.appendChild(a[0])),\n                gj.editor.methods.localization(h),\n                $(d).addClass(h.style.wrapper),\n                h.width && $(d).width(h.width),\n                (e = $(d).children('div[role=\"body\"]')),\n                0 === e.length && ((e = $('<div role=\"body\"></div>')), $(d).append(e), a[0].innerText && (e[0].innerHTML = a[0].innerText)),\n                e.attr(\"contenteditable\", !0),\n                e.on(\"keydown\", function (b) {\n                    var c = event.keyCode || event.charCode;\n                    !1 === gj.editor.events.changing(a) && 8 !== c && 46 !== c && b.preventDefault();\n                }),\n                e.on(\"mouseup keyup mouseout cut paste\", function (b) {\n                    g.updateToolbar(a, f), gj.editor.events.changed(a), a.html(e.html());\n                }),\n                (f = $(d).children('div[role=\"toolbar\"]')),\n                0 === f.length)\n            ) {\n                (f = $('<div role=\"toolbar\"></div>')), e.before(f);\n                for (var i in h.buttons) {\n                    b = $(\"<div />\").addClass(h.style.buttonsGroup);\n                    for (var j in h.buttons[i])\n                        (c = $(h.buttons[i][j])),\n                            c.on(\"click\", function () {\n                                gj.editor.methods.executeCmd(a, e, f, $(this));\n                            }),\n                            b.append(c);\n                    f.append(b);\n                }\n            }\n            e.height(h.height - gj.core.height(f[0], !0));\n        },\n        localization: function (a) {\n            var b = gj.editor.messages[a.locale];\n            void 0 === a.buttons &&\n                (a.buttons = [\n                    [\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.bold + '\" role=\"bold\">' + a.icons.bold + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.italic + '\" role=\"italic\">' + a.icons.italic + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.strikethrough + '\" role=\"strikethrough\">' + a.icons.strikethrough + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.underline + '\" role=\"underline\">' + a.icons.underline + \"</button>\",\n                    ],\n                    [\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.listBulleted + '\" role=\"insertunorderedlist\">' + a.icons.listBulleted + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.listNumbered + '\" role=\"insertorderedlist\">' + a.icons.listNumbered + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.indentDecrease + '\" role=\"outdent\">' + a.icons.indentDecrease + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.indentIncrease + '\" role=\"indent\">' + a.icons.indentIncrease + \"</button>\",\n                    ],\n                    [\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.alignLeft + '\" role=\"justifyleft\">' + a.icons.alignLeft + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.alignCenter + '\" role=\"justifycenter\">' + a.icons.alignCenter + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.alignRight + '\" role=\"justifyright\">' + a.icons.alignRight + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.alignJustify + '\" role=\"justifyfull\">' + a.icons.alignJustify + \"</button>\",\n                    ],\n                    [\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.undo + '\" role=\"undo\">' + a.icons.undo + \"</button>\",\n                        '<button type=\"button\" class=\"' + a.style.button + '\" title=\"' + b.redo + '\" role=\"redo\">' + a.icons.redo + \"</button>\",\n                    ],\n                ]);\n        },\n        updateToolbar: function (a, b) {\n            var c = a.data();\n            $buttons = b.find(\"[role]\").each(function () {\n                var a = $(this),\n                    b = a.attr(\"role\");\n                b && document.queryCommandEnabled(b) && \"true\" === document.queryCommandValue(b) ? a.addClass(c.style.buttonActive) : a.removeClass(c.style.buttonActive);\n            });\n        },\n        executeCmd: function (a, b, c, d) {\n            b.focus(), document.execCommand(d.attr(\"role\"), !1), gj.editor.methods.updateToolbar(a, c);\n        },\n        content: function (a, b) {\n            var c = a.parent().children('div[role=\"body\"]');\n            return void 0 === b ? c.html() : c.html(b);\n        },\n        destroy: function (a) {\n            var b;\n            return (\n                \"true\" === a.attr(\"data-editor\") &&\n                    ((b = a.parent()), b.children('div[role=\"body\"]').remove(), b.children('div[role=\"toolbar\"]').remove(), a.unwrap(), a.removeData(), a.removeAttr(\"data-guid\"), a.removeAttr(\"data-editor\"), a.off(), a.show()),\n                a\n            );\n        },\n    }),\n    (gj.editor.events = {\n        changing: function (a) {\n            return a.triggerHandler(\"changing\");\n        },\n        changed: function (a) {\n            return a.triggerHandler(\"changed\");\n        },\n    }),\n    (gj.editor.widget = function (a, b) {\n        var c = this,\n            d = gj.editor.methods;\n        return (\n            (c.content = function (a) {\n                return d.content(this, a);\n            }),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-editor\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.editor.widget.prototype = new gj.widget()),\n    (gj.editor.widget.constructor = gj.editor.widget),\n    (function (a) {\n        a.fn.editor = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.editor.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.editor.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.editor.messages[\"en-us\"] = {\n        bold: \"Bold\",\n        italic: \"Italic\",\n        strikethrough: \"Strikethrough\",\n        underline: \"Underline\",\n        listBulleted: \"List Bulleted\",\n        listNumbered: \"List Numbered\",\n        indentDecrease: \"Indent Decrease\",\n        indentIncrease: \"Indent Increase\",\n        alignLeft: \"Align Left\",\n        alignCenter: \"Align Center\",\n        alignRight: \"Align Right\",\n        alignJustify: \"Align Justify\",\n        undo: \"Undo\",\n        redo: \"Redo\",\n    }),\n    (gj.dropdown = { plugins: {} }),\n    (gj.dropdown.config = {\n        base: {\n            dataSource: void 0,\n            textField: \"text\",\n            valueField: \"value\",\n            selectedField: \"selected\",\n            width: void 0,\n            maxHeight: \"auto\",\n            placeholder: void 0,\n            fontSize: void 0,\n            uiLibrary: \"materialdesign\",\n            iconsLibrary: \"materialicons\",\n            icons: { dropdown: '<i class=\"gj-icon arrow-dropdown\" />', dropup: '<i class=\"gj-icon arrow-dropup\" />' },\n            style: { wrapper: \"gj-dropdown gj-dropdown-md gj-unselectable\", list: \"gj-list gj-list-md gj-dropdown-list-md\", active: \"gj-list-md-active\" },\n        },\n        bootstrap: {\n            style: {\n                wrapper: \"gj-dropdown gj-dropdown-bootstrap gj-dropdown-bootstrap-3 gj-unselectable\",\n                presenter: \"btn btn-default\",\n                list: \"gj-list gj-list-bootstrap gj-dropdown-list-bootstrap list-group\",\n                item: \"list-group-item\",\n                active: \"active\",\n            },\n            iconsLibrary: \"glyphicons\",\n        },\n        bootstrap4: {\n            style: {\n                wrapper: \"gj-dropdown gj-dropdown-bootstrap gj-dropdown-bootstrap-4 gj-unselectable\",\n                presenter: \"btn btn-outline-secondary\",\n                list: \"gj-list gj-list-bootstrap gj-dropdown-list-bootstrap list-group\",\n                item: \"list-group-item\",\n                active: \"active\",\n            },\n        },\n        materialicons: { style: { expander: \"gj-dropdown-expander-mi\" } },\n        fontawesome: { icons: { dropdown: '<i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>', dropup: '<i class=\"fa fa-caret-up\" aria-hidden=\"true\"></i>' }, style: { expander: \"gj-dropdown-expander-fa\" } },\n        glyphicons: { icons: { dropdown: '<span class=\"caret\"></span>', dropup: '<span class=\"dropup\"><span class=\"caret\" ></span></span>' }, style: { expander: \"gj-dropdown-expander-glyphicons\" } },\n    }),\n    (gj.dropdown.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"dropdown\"), this.attr(\"data-dropdown\", \"true\"), gj.dropdown.methods.initialize(this), this;\n        },\n        getHTMLConfig: function () {\n            var a = gj.widget.prototype.getHTMLConfig.call(this),\n                b = this[0].attributes;\n            return b.placeholder && (a.placeholder = b.placeholder.value), a;\n        },\n        initialize: function (a) {\n            var b = a.data(),\n                c = a.parent('div[role=\"wrapper\"]'),\n                d = $('<span role=\"display\"></span>'),\n                e = $('<span role=\"expander\">' + b.icons.dropdown + \"</span>\").addClass(b.style.expander),\n                f = $('<button role=\"presenter\" type=\"button\"></button>').addClass(b.style.presenter),\n                g = $('<ul role=\"list\" class=\"' + b.style.list + '\"></ul>').attr(\"guid\", a.attr(\"data-guid\"));\n            0 === c.length ? ((c = $('<div role=\"wrapper\" />').addClass(b.style.wrapper)), a.wrap(c)) : c.addClass(b.style.wrapper),\n                b.fontSize && f.css(\"font-size\", b.fontSize),\n                f.on(\"click\", function (b) {\n                    g.is(\":visible\") ? gj.dropdown.methods.close(a, g) : gj.dropdown.methods.open(a, g);\n                }),\n                f.on(\"blur\", function (b) {\n                    setTimeout(function () {\n                        gj.dropdown.methods.close(a, g);\n                    }, 500);\n                }),\n                f.append(d).append(e),\n                a.hide(),\n                a.after(f),\n                $(\"body\").append(g),\n                g.hide(),\n                a.reload();\n        },\n        setListPosition: function (a, b, c) {\n            var d,\n                e,\n                f,\n                g,\n                h = a.getBoundingClientRect(),\n                i = window.scrollY || window.pageYOffset || 0;\n            window.scrollX || window.pageXOffset;\n            (b.style.overflow = \"\"),\n                (b.style.overflowX = \"\"),\n                (b.style.height = \"\"),\n                gj.core.setChildPosition(a, b),\n                (d = gj.core.height(b, !0)),\n                (g = b.getBoundingClientRect()),\n                (e = gj.core.height(a, !0)),\n                \"auto\" === c.maxHeight\n                    ? h.top < g.top\n                        ? h.top + d + e > window.innerHeight && (f = window.innerHeight - h.top - e - 3)\n                        : h.top - d - 3 > 0\n                        ? (b.style.top = Math.round(h.top + i - d - 3) + \"px\")\n                        : ((b.style.top = i + \"px\"), (f = h.top - 3))\n                    : !isNaN(c.maxHeight) && c.maxHeight < d && (f = c.maxHeight),\n                f && ((b.style.overflow = \"scroll\"), (b.style.overflowX = \"hidden\"), (b.style.height = f + \"px\"));\n        },\n        useHtmlDataSource: function (a, b) {\n            var c,\n                d,\n                e = [],\n                f = a.find(\"option\");\n            for (c = 0; c < f.length; c++) (d = {}), (d[b.valueField] = f[c].value), (d[b.textField] = f[c].innerHTML), (d[b.selectedField] = a[0].value === f[c].value), e.push(d);\n            b.dataSource = e;\n        },\n        filter: function (a) {\n            var b,\n                c,\n                d = a.data();\n            if (d.dataSource) {\n                if (\"string\" == typeof d.dataSource[0]) for (b = 0; b < d.dataSource.length; b++) (c = {}), (c[d.valueField] = d.dataSource[b]), (c[d.textField] = d.dataSource[b]), (d.dataSource[b] = c);\n            } else d.dataSource = [];\n            return d.dataSource;\n        },\n        render: function (a, b) {\n            var c = [],\n                d = a.data(),\n                e = a.parent(),\n                f = $(\"body\").children('[role=\"list\"][guid=\"' + a.attr(\"data-guid\") + '\"]'),\n                g = e.children('[role=\"presenter\"]'),\n                h = (g.children('[role=\"expander\"]'), g.children('[role=\"display\"]'));\n            if ((a.data(\"records\", b), a.empty(), f.empty(), b && b.length))\n                if (\n                    ($.each(b, function () {\n                        var b,\n                            e = this[d.valueField],\n                            g = this[d.textField],\n                            h = this[d.selectedField] && \"true\" === this[d.selectedField].toString().toLowerCase();\n                        (b = $('<li value=\"' + e + '\"><div data-role=\"wrapper\"><span data-role=\"display\">' + g + \"</span></div></li>\")),\n                            b.addClass(d.style.item),\n                            b.on(\"click\", function (b) {\n                                gj.dropdown.methods.select(a, e);\n                            }),\n                            f.append(b),\n                            a.append('<option value=\"' + e + '\">' + g + \"</option>\"),\n                            h && c.push(e);\n                    }),\n                    0 === c.length)\n                )\n                    a.prepend('<option value=\"\"></option>'), (a[0].selectedIndex = 0), d.placeholder && (h[0].innerHTML = '<span class=\"placeholder\">' + d.placeholder + \"</span>\");\n                else for (i = 0; i < c.length; i++) gj.dropdown.methods.select(a, c[i]);\n            return d.width && (e.css(\"width\", d.width), g.css(\"width\", d.width)), d.fontSize && f.children(\"li\").css(\"font-size\", d.fontSize), gj.dropdown.events.dataBound(a), a;\n        },\n        open: function (a, b) {\n            var c = a.data(),\n                d = a.parent().find('[role=\"expander\"]'),\n                e = a.parent().find('[role=\"presenter\"]'),\n                f = gj.core.getScrollParent(a[0]);\n            b.css(\"width\", gj.core.width(e[0])),\n                b.show(),\n                gj.dropdown.methods.setListPosition(e[0], b[0], c),\n                d.html(c.icons.dropup),\n                f &&\n                    ((c.parentScrollHandler = function () {\n                        gj.dropdown.methods.setListPosition(e[0], b[0], c);\n                    }),\n                    gj.dropdown.methods.addParentsScrollListener(f, c.parentScrollHandler));\n        },\n        close: function (a, b) {\n            var c = a.data(),\n                d = a.parent().find('[role=\"expander\"]'),\n                e = gj.core.getScrollParent(a[0]);\n            d.html(c.icons.dropdown), e && c.parentScrollHandler && gj.dropdown.methods.removeParentsScrollListener(e, c.parentScrollHandler), b.hide();\n        },\n        addParentsScrollListener: function (a, b) {\n            var c = gj.core.getScrollParent(a.parentNode);\n            a.addEventListener(\"scroll\", b), c && gj.dropdown.methods.addParentsScrollListener(c, b);\n        },\n        removeParentsScrollListener: function (a, b) {\n            var c = gj.core.getScrollParent(a.parentNode);\n            a.removeEventListener(\"scroll\", b), c && gj.dropdown.methods.removeParentsScrollListener(c, b);\n        },\n        select: function (a, b) {\n            var c = a.data(),\n                d = $(\"body\").children('[role=\"list\"][guid=\"' + a.attr(\"data-guid\") + '\"]'),\n                e = d.children('li[value=\"' + b + '\"]'),\n                f = a.next('[role=\"presenter\"]').find('[role=\"display\"]'),\n                g = gj.dropdown.methods.getRecordByValue(a, b);\n            return (\n                d.children(\"li\").removeClass(c.style.active),\n                g ? (e.addClass(c.style.active), (a[0].value = b), (f[0].innerHTML = g[c.textField])) : (c.placeholder && (f[0].innerHTML = '<span class=\"placeholder\">' + c.placeholder + \"</span>\"), (a[0].value = \"\")),\n                gj.dropdown.events.change(a),\n                gj.dropdown.methods.close(a, d),\n                a\n            );\n        },\n        getRecordByValue: function (a, b) {\n            var c,\n                d = a.data(),\n                e = void 0;\n            for (c = 0; c < d.records.length; c++)\n                if (d.records[c][d.valueField] === b) {\n                    e = d.records[c];\n                    break;\n                }\n            return e;\n        },\n        value: function (a, b) {\n            return void 0 === b ? a.val() : (gj.dropdown.methods.select(a, b), a);\n        },\n        destroy: function (a) {\n            var b = a.data(),\n                c = a.parent('div[role=\"wrapper\"]');\n            return (\n                b &&\n                    (a.xhr && a.xhr.abort(),\n                    a.off(),\n                    a.removeData(),\n                    a.removeAttr(\"data-type\").removeAttr(\"data-guid\").removeAttr(\"data-dropdown\"),\n                    a.removeClass(),\n                    c.length > 0 && (c.children('[role=\"presenter\"]').remove(), c.children('[role=\"list\"]').remove(), a.unwrap()),\n                    a.show()),\n                a\n            );\n        },\n    }),\n    (gj.dropdown.events = {\n        change: function (a) {\n            return a.triggerHandler(\"change\");\n        },\n        dataBound: function (a) {\n            return a.triggerHandler(\"dataBound\");\n        },\n    }),\n    (gj.dropdown.widget = function (a, b) {\n        var c = this,\n            d = gj.dropdown.methods;\n        return (\n            (c.value = function (a) {\n                return d.value(this, a);\n            }),\n            (c.enable = function () {\n                return d.enable(this);\n            }),\n            (c.disable = function () {\n                return d.disable(this);\n            }),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-dropdown\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.dropdown.widget.prototype = new gj.widget()),\n    (gj.dropdown.widget.constructor = gj.dropdown.widget),\n    (gj.dropdown.widget.prototype.getHTMLConfig = gj.dropdown.methods.getHTMLConfig),\n    (function (a) {\n        a.fn.dropdown = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.dropdown.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.dropdown.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.datepicker = { plugins: {} }),\n    (gj.datepicker.config = {\n        base: {\n            showOtherMonths: !1,\n            selectOtherMonths: !0,\n            width: void 0,\n            minDate: void 0,\n            maxDate: void 0,\n            format: \"mm/dd/yyyy\",\n            uiLibrary: \"materialdesign\",\n            iconsLibrary: \"materialicons\",\n            value: void 0,\n            weekStartDay: 0,\n            disableDates: void 0,\n            disableDaysOfWeek: void 0,\n            calendarWeeks: !1,\n            keyboardNavigation: !0,\n            locale: \"en-us\",\n            icons: { rightIcon: '<i class=\"gj-icon\">event</i>', previousMonth: '<i class=\"gj-icon chevron-left\"></i>', nextMonth: '<i class=\"gj-icon chevron-right\"></i>' },\n            fontSize: void 0,\n            size: \"default\",\n            modal: !1,\n            header: !1,\n            footer: !1,\n            showOnFocus: !0,\n            showRightIcon: !0,\n            style: { modal: \"gj-modal\", wrapper: \"gj-datepicker gj-datepicker-md gj-unselectable\", input: \"gj-textbox-md\", calendar: \"gj-picker gj-picker-md datepicker gj-unselectable\", footer: \"\", button: \"gj-button-md\" },\n        },\n        bootstrap: {\n            style: {\n                wrapper: \"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group\",\n                input: \"form-control\",\n                calendar: \"gj-picker gj-picker-bootstrap datepicker gj-unselectable\",\n                footer: \"modal-footer\",\n                button: \"btn btn-default\",\n            },\n            iconsLibrary: \"glyphicons\",\n            showOtherMonths: !0,\n        },\n        bootstrap4: {\n            style: {\n                wrapper: \"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group\",\n                input: \"form-control\",\n                calendar: \"gj-picker gj-picker-bootstrap datepicker gj-unselectable\",\n                footer: \"modal-footer\",\n                button: \"btn btn-default\",\n            },\n            showOtherMonths: !0,\n        },\n        fontawesome: { icons: { rightIcon: '<i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>', previousMonth: '<i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>', nextMonth: '<i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>' } },\n        glyphicons: {\n            icons: { rightIcon: '<span class=\"glyphicon glyphicon-calendar\"></span>', previousMonth: '<span class=\"glyphicon glyphicon-chevron-left\"></span>', nextMonth: '<span class=\"glyphicon glyphicon-chevron-right\"></span>' },\n        },\n    }),\n    (gj.datepicker.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"datepicker\"), this.attr(\"data-datepicker\", \"true\"), gj.datepicker.methods.initialize(this, this.data()), this;\n        },\n        initialize: function (a, b) {\n            var c,\n                d,\n                e = a.parent('div[role=\"wrapper\"]');\n            0 === e.length ? ((e = $('<div role=\"wrapper\" />').addClass(b.style.wrapper)), a.wrap(e)) : e.addClass(b.style.wrapper),\n                (e = a.parent('div[role=\"wrapper\"]')),\n                b.width && e.css(\"width\", b.width),\n                a.val(b.value).addClass(b.style.input).attr(\"role\", \"input\"),\n                b.fontSize && a.css(\"font-size\", b.fontSize),\n                \"bootstrap\" === b.uiLibrary || \"bootstrap4\" === b.uiLibrary\n                    ? \"small\" === b.size\n                        ? (e.addClass(\"input-group-sm\"), a.addClass(\"form-control-sm\"))\n                        : \"large\" === b.size && (e.addClass(\"input-group-lg\"), a.addClass(\"form-control-lg\"))\n                    : \"small\" === b.size\n                    ? e.addClass(\"small\")\n                    : \"large\" === b.size && e.addClass(\"large\"),\n                b.showRightIcon &&\n                    ((d =\n                        \"bootstrap\" === b.uiLibrary\n                            ? $('<span class=\"input-group-addon\">' + b.icons.rightIcon + \"</span>\")\n                            : \"bootstrap4\" === b.uiLibrary\n                            ? $('<span class=\"input-group-append\"><button class=\"btn btn-outline-secondary border-left-0\" type=\"button\">' + b.icons.rightIcon + \"</button></span>\")\n                            : $(b.icons.rightIcon)),\n                    d.attr(\"role\", \"right-icon\"),\n                    d.on(\"click\", function (c) {\n                        $(\"body\")\n                            .find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]')\n                            .is(\":visible\")\n                            ? gj.datepicker.methods.close(a)\n                            : gj.datepicker.methods.open(a, b);\n                    }),\n                    e.append(d)),\n                b.showOnFocus &&\n                    a.on(\"focus\", function () {\n                        gj.datepicker.methods.open(a, b);\n                    }),\n                (c = gj.datepicker.methods.createCalendar(a, b)),\n                !0 !== b.footer &&\n                    (a.on(\"blur\", function () {\n                        a.timeout = setTimeout(function () {\n                            gj.datepicker.methods.close(a);\n                        }, 500);\n                    }),\n                    c.mousedown(function () {\n                        return clearTimeout(a.timeout), document.activeElement !== a[0] && a.focus(), !1;\n                    }),\n                    c.on(\"click\", function () {\n                        clearTimeout(a.timeout), document.activeElement !== a[0] && a.focus();\n                    })),\n                b.keyboardNavigation && $(document).on(\"keydown\", gj.datepicker.methods.createKeyDownHandler(a, c, b));\n        },\n        createCalendar: function (a, b) {\n            var c,\n                d,\n                e,\n                f,\n                g,\n                h = $('<div role=\"calendar\" type=\"month\"/>').addClass(b.style.calendar).attr(\"guid\", a.attr(\"data-guid\"));\n            return (\n                b.fontSize && h.css(\"font-size\", b.fontSize),\n                (c = gj.core.parseDate(b.value, b.format, b.locale)),\n                !c || isNaN(c.getTime()) ? (c = new Date()) : a.attr(\"day\", c.getFullYear() + \"-\" + c.getMonth() + \"-\" + c.getDate()),\n                h.attr(\"month\", c.getMonth()),\n                h.attr(\"year\", c.getFullYear()),\n                gj.datepicker.methods.renderHeader(a, h, b, c),\n                (d = $('<div role=\"body\" />')),\n                h.append(d),\n                b.footer &&\n                    ((e = $('<div role=\"footer\" class=\"' + b.style.footer + '\" />')),\n                    (f = $('<button class=\"' + b.style.button + '\">' + gj.core.messages[b.locale].cancel + \"</button>\")),\n                    f.on(\"click\", function () {\n                        a.close();\n                    }),\n                    e.append(f),\n                    (g = $('<button class=\"' + b.style.button + '\">' + gj.core.messages[b.locale].ok + \"</button>\")),\n                    g.on(\"click\", function () {\n                        var c,\n                            d,\n                            e = h.attr(\"selectedDay\");\n                        e ? ((d = e.split(\"-\")), (c = new Date(d[0], d[1], d[2], h.attr(\"hour\") || 0, h.attr(\"minute\") || 0)), gj.datepicker.methods.change(a, h, b, c)) : a.close();\n                    }),\n                    e.append(g),\n                    h.append(e)),\n                h.hide(),\n                $(\"body\").append(h),\n                b.modal && (h.wrapAll('<div role=\"modal\" class=\"' + b.style.modal + '\"/>'), gj.core.center(h)),\n                h\n            );\n        },\n        renderHeader: function (a, b, c, d) {\n            var e, f, g;\n            c.header &&\n                ((e = $('<div role=\"header\" />')),\n                (g = $('<div role=\"year\" />').on(\"click\", function () {\n                    gj.datepicker.methods.renderDecade(a, b, c), g.addClass(\"selected\"), f.removeClass(\"selected\");\n                })),\n                g.html(gj.core.formatDate(d, \"yyyy\", c.locale)),\n                e.append(g),\n                (f = $('<div role=\"date\" class=\"selected\" />').on(\"click\", function () {\n                    gj.datepicker.methods.renderMonth(a, b, c), f.addClass(\"selected\"), g.removeClass(\"selected\");\n                })),\n                f.html(gj.core.formatDate(d, \"ddd, mmm dd\", c.locale)),\n                e.append(f),\n                b.append(e));\n        },\n        updateHeader: function (a, b, c) {\n            a.find('[role=\"header\"] [role=\"year\"]').removeClass(\"selected\").html(gj.core.formatDate(c, \"yyyy\", b.locale)),\n                a.find('[role=\"header\"] [role=\"date\"]').addClass(\"selected\").html(gj.core.formatDate(c, \"ddd, mmm dd\", b.locale)),\n                a.find('[role=\"header\"] [role=\"hour\"]').removeClass(\"selected\").html(gj.core.formatDate(c, \"HH\", b.locale)),\n                a.find('[role=\"header\"] [role=\"minute\"]').removeClass(\"selected\").html(gj.core.formatDate(c, \"MM\", b.locale));\n        },\n        createNavigation: function (a, b, c, d) {\n            var e,\n                f,\n                g = $(\"<thead/>\");\n            for (\n                f = $('<div role=\"navigator\" />'),\n                    f.append($(\"<div>\" + d.icons.previousMonth + \"</div>\").on(\"click\", gj.datepicker.methods.prev(a, d))),\n                    f.append($('<div role=\"period\"></div>').on(\"click\", gj.datepicker.methods.changePeriod(a, d))),\n                    f.append($(\"<div>\" + d.icons.nextMonth + \"</div>\").on(\"click\", gj.datepicker.methods.next(a, d))),\n                    b.append(f),\n                    e = $('<tr role=\"week-days\" />'),\n                    d.calendarWeeks && e.append(\"<th><div>&nbsp;</div></th>\"),\n                    i = d.weekStartDay;\n                i < gj.core.messages[d.locale].weekDaysMin.length;\n                i++\n            )\n                e.append(\"<th><div>\" + gj.core.messages[d.locale].weekDaysMin[i] + \"</div></th>\");\n            for (i = 0; i < d.weekStartDay; i++) e.append(\"<th><div>\" + gj.core.messages[d.locale].weekDaysMin[i] + \"</div></th>\");\n            g.append(e), c.append(g);\n        },\n        renderMonth: function (a, b, c) {\n            var d,\n                e,\n                f,\n                g,\n                h,\n                i,\n                j,\n                k,\n                l,\n                m,\n                n,\n                o,\n                p,\n                q,\n                r,\n                s = b.children('[role=\"body\"]'),\n                t = $(\"<table/>\"),\n                u = $(\"<tbody/>\"),\n                v = gj.core.messages[c.locale].titleFormat;\n            for (\n                s.off().empty(),\n                    gj.datepicker.methods.createNavigation(a, s, t, c),\n                    g = parseInt(b.attr(\"month\"), 10),\n                    h = parseInt(b.attr(\"year\"), 10),\n                    b.attr(\"type\", \"month\"),\n                    v = v.replace(\"mmmm\", gj.core.messages[c.locale].monthNames[g]).replace(\"yyyy\", h),\n                    b.find('div[role=\"period\"]').text(v),\n                    i = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31),\n                    h % 4 == 0 && 1900 != h && (i[1] = 29),\n                    j = i[g],\n                    k = (new Date(h, g, 1).getDay() + 7 - c.weekStartDay) % 7,\n                    d = 0,\n                    $row = $(\"<tr />\"),\n                    n = gj.datepicker.methods.getPrevMonth(g, h),\n                    l = 1;\n                l <= k;\n                l++\n            )\n                (f = i[n.month] - k + l),\n                    (r = new Date(n.year, n.month, f)),\n                    c.calendarWeeks && 1 === l && $row.append('<td class=\"calendar-week\"><div>' + gj.datepicker.methods.getWeekNumber(r) + \"</div></td>\"),\n                    (p = $('<td class=\"other-month\" />')),\n                    c.showOtherMonths &&\n                        ((q = $(\"<div>\" + f + \"</div>\")),\n                        p.append(q),\n                        c.selectOtherMonths && gj.datepicker.methods.isSelectable(c, r)\n                            ? (p.addClass(\"gj-cursor-pointer\").attr(\"day\", f).attr(\"month\", n.month).attr(\"year\", n.year),\n                              q.on(\"click\", gj.datepicker.methods.dayClickHandler(a, b, c, r)),\n                              q.on(\"mousedown\", function (a) {\n                                  a.stopPropagation();\n                              }))\n                            : p.addClass(\"disabled\")),\n                    $row.append(p),\n                    d++;\n            for (l > 1 && u.append($row), m = new Date(), l = 1; l <= j; l++)\n                (r = new Date(h, g, l)),\n                    0 == d && (($row = $(\"<tr>\")), c.calendarWeeks && $row.append('<td class=\"calendar-week\"><div>' + gj.datepicker.methods.getWeekNumber(r) + \"</div></td>\")),\n                    (p = $('<td day=\"' + l + '\" month=\"' + g + '\" year=\"' + h + '\" />')),\n                    h === m.getFullYear() && g === m.getMonth() && l === m.getDate() ? p.addClass(\"today\") : p.addClass(\"current-month\"),\n                    (q = $(\"<div>\" + l + \"</div>\")),\n                    gj.datepicker.methods.isSelectable(c, r)\n                        ? (p.addClass(\"gj-cursor-pointer\"),\n                          q.on(\"click\", gj.datepicker.methods.dayClickHandler(a, b, c, r)),\n                          q.on(\"mousedown\", function (a) {\n                              a.stopPropagation();\n                          }))\n                        : p.addClass(\"disabled\"),\n                    p.append(q),\n                    $row.append(p),\n                    7 == ++d && (u.append($row), (d = 0));\n            for (o = gj.datepicker.methods.getNextMonth(g, h), l = 1; 0 != d; l++)\n                (r = new Date(o.year, o.month, l)),\n                    (p = $('<td class=\"other-month\" />')),\n                    c.showOtherMonths &&\n                        ((q = $(\"<div>\" + l + \"</div>\")),\n                        c.selectOtherMonths && gj.datepicker.methods.isSelectable(c, r)\n                            ? (p.addClass(\"gj-cursor-pointer\").attr(\"day\", l).attr(\"month\", o.month).attr(\"year\", o.year),\n                              q.on(\"click\", gj.datepicker.methods.dayClickHandler(a, b, c, r)),\n                              q.on(\"mousedown\", function (a) {\n                                  a.stopPropagation();\n                              }))\n                            : p.addClass(\"disabled\"),\n                        p.append(q)),\n                    $row.append(p),\n                    7 == ++d && (u.append($row), (d = 0));\n            t.append(u),\n                s.append(t),\n                b.attr(\"selectedDay\") &&\n                    ((e = b.attr(\"selectedDay\").split(\"-\")),\n                    (r = new Date(e[0], e[1], e[2], b.attr(\"hour\") || 0, b.attr(\"minute\") || 0)),\n                    b.find('tbody td[day=\"' + e[2] + '\"][month=\"' + e[1] + '\"]').addClass(\"selected\"),\n                    gj.datepicker.methods.updateHeader(b, c, r));\n        },\n        renderYear: function (a, b, c) {\n            var d,\n                e,\n                f,\n                g,\n                h = b.find('>[role=\"body\"]>table'),\n                i = h.children(\"tbody\");\n            for (h.children(\"thead\").hide(), d = parseInt(b.attr(\"year\"), 10), b.attr(\"type\", \"year\"), b.find('div[role=\"period\"]').text(d), i.empty(), e = 0; e < 3; e++) {\n                for ($row = $(\"<tr />\"), f = 4 * e; f <= 4 * e + 3; f++)\n                    (g = $(\"<div>\" + gj.core.messages[c.locale].monthShortNames[f] + \"</div>\")), g.on(\"click\", gj.datepicker.methods.selectMonth(a, b, c, f)), ($cell = $(\"<td></td>\").append(g)), $row.append($cell);\n                i.append($row);\n            }\n        },\n        renderDecade: function (a, b, c) {\n            var d,\n                e,\n                f,\n                g,\n                h,\n                i = b.find('>[role=\"body\"]>table'),\n                j = i.children(\"tbody\");\n            for (i.children(\"thead\").hide(), d = parseInt(b.attr(\"year\"), 10), e = d - (d % 10), b.attr(\"type\", \"decade\"), b.find('div[role=\"period\"]').text(e + \" - \" + (e + 9)), j.empty(), f = e - 1; f <= e + 10; f += 4) {\n                for ($row = $(\"<tr />\"), g = f; g <= f + 3; g++) (h = $(\"<div>\" + g + \"</div>\")), h.on(\"click\", gj.datepicker.methods.selectYear(a, b, c, g)), ($cell = $(\"<td></td>\").append(h)), $row.append($cell);\n                j.append($row);\n            }\n        },\n        renderCentury: function (a, b, c) {\n            var d,\n                e,\n                f,\n                g,\n                h,\n                i = b.find('>[role=\"body\"]>table'),\n                j = i.children(\"tbody\");\n            for (i.children(\"thead\").hide(), d = parseInt(b.attr(\"year\"), 10), e = d - (d % 100), b.attr(\"type\", \"century\"), b.find('div[role=\"period\"]').text(e + \" - \" + (e + 99)), j.empty(), f = e - 10; f < e + 100; f += 40) {\n                for ($row = $(\"<tr />\"), g = f; g <= f + 30; g += 10) (h = $(\"<div>\" + g + \"</div>\")), h.on(\"click\", gj.datepicker.methods.selectDecade(a, b, c, g)), ($cell = $(\"<td></td>\").append(h)), $row.append($cell);\n                j.append($row);\n            }\n        },\n        getWeekNumber: function (a) {\n            var b = new Date(a.valueOf());\n            b.setDate(b.getDate() + 6), (b = new Date(Date.UTC(b.getFullYear(), b.getMonth(), b.getDate()))), b.setUTCDate(b.getUTCDate() + 4 - (b.getUTCDay() || 7));\n            var c = new Date(Date.UTC(b.getUTCFullYear(), 0, 1));\n            return Math.ceil(((b - c) / 864e5 + 1) / 7);\n        },\n        getMinDate: function (a) {\n            var b;\n            return (\n                a.minDate &&\n                    (\"string\" == typeof a.minDate\n                        ? (b = gj.core.parseDate(a.minDate, a.format, a.locale))\n                        : \"function\" == typeof a.minDate\n                        ? \"string\" == typeof (b = a.minDate()) && (b = gj.core.parseDate(b, a.format, a.locale))\n                        : \"function\" == typeof a.minDate.getMonth && (b = a.minDate)),\n                b\n            );\n        },\n        getMaxDate: function (a) {\n            var b;\n            return (\n                a.maxDate &&\n                    (\"string\" == typeof a.maxDate\n                        ? (b = gj.core.parseDate(a.maxDate, a.format, a.locale))\n                        : \"function\" == typeof a.maxDate\n                        ? \"string\" == typeof (b = a.maxDate()) && (b = gj.core.parseDate(b, a.format, a.locale))\n                        : \"function\" == typeof a.maxDate.getMonth && (b = a.maxDate)),\n                b\n            );\n        },\n        isSelectable: function (a, b) {\n            var c,\n                d = !0,\n                e = gj.datepicker.methods.getMinDate(a),\n                f = gj.datepicker.methods.getMaxDate(a);\n            if ((e && b < e ? (d = !1) : f && b > f && (d = !1), d)) {\n                if (a.disableDates)\n                    if ($.isArray(a.disableDates))\n                        for (c = 0; c < a.disableDates.length; c++)\n                            a.disableDates[c] instanceof Date && a.disableDates[c].getTime() === b.getTime()\n                                ? (d = !1)\n                                : \"string\" == typeof a.disableDates[c] && gj.core.parseDate(a.disableDates[c], a.format, a.locale).getTime() === b.getTime() && (d = !1);\n                    else a.disableDates instanceof Function && (d = a.disableDates(b));\n                $.isArray(a.disableDaysOfWeek) && a.disableDaysOfWeek.indexOf(b.getDay()) > -1 && (d = !1);\n            }\n            return d;\n        },\n        getPrevMonth: function (a, b) {\n            return (date = new Date(b, a, 1)), date.setMonth(date.getMonth() - 1), { month: date.getMonth(), year: date.getFullYear() };\n        },\n        getNextMonth: function (a, b) {\n            return (date = new Date(b, a, 1)), date.setMonth(date.getMonth() + 1), { month: date.getMonth(), year: date.getFullYear() };\n        },\n        prev: function (a, b) {\n            return function () {\n                var c,\n                    d,\n                    e,\n                    f,\n                    g,\n                    h = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n                switch (((e = parseInt(h.attr(\"year\"), 10)), h.attr(\"type\"))) {\n                    case \"month\":\n                        (d = parseInt(h.attr(\"month\"), 10)), (c = gj.datepicker.methods.getPrevMonth(d, e)), h.attr(\"month\", c.month), h.attr(\"year\", c.year), gj.datepicker.methods.renderMonth(a, h, b);\n                        break;\n                    case \"year\":\n                        h.attr(\"year\", e - 1), gj.datepicker.methods.renderYear(a, h, b);\n                        break;\n                    case \"decade\":\n                        (f = e - (e % 10)), h.attr(\"year\", f - 10), gj.datepicker.methods.renderDecade(a, h, b);\n                        break;\n                    case \"century\":\n                        (g = e - (e % 100)), h.attr(\"year\", g - 100), gj.datepicker.methods.renderCentury(a, h, b);\n                }\n            };\n        },\n        next: function (a, b) {\n            return function () {\n                var c,\n                    d,\n                    e,\n                    f,\n                    g,\n                    h = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n                switch (((e = parseInt(h.attr(\"year\"), 10)), h.attr(\"type\"))) {\n                    case \"month\":\n                        (d = parseInt(h.attr(\"month\"), 10)), (c = gj.datepicker.methods.getNextMonth(d, e)), h.attr(\"month\", c.month), h.attr(\"year\", c.year), gj.datepicker.methods.renderMonth(a, h, b);\n                        break;\n                    case \"year\":\n                        h.attr(\"year\", e + 1), gj.datepicker.methods.renderYear(a, h, b);\n                        break;\n                    case \"decade\":\n                        (f = e - (e % 10)), h.attr(\"year\", f + 10), gj.datepicker.methods.renderDecade(a, h, b);\n                        break;\n                    case \"century\":\n                        (g = e - (e % 100)), h.attr(\"year\", g + 100), gj.datepicker.methods.renderCentury(a, h, b);\n                }\n            };\n        },\n        changePeriod: function (a, b) {\n            return function (c) {\n                var d = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n                switch (d.attr(\"type\")) {\n                    case \"month\":\n                        gj.datepicker.methods.renderYear(a, d, b);\n                        break;\n                    case \"year\":\n                        gj.datepicker.methods.renderDecade(a, d, b);\n                        break;\n                    case \"decade\":\n                        gj.datepicker.methods.renderCentury(a, d, b);\n                }\n            };\n        },\n        dayClickHandler: function (a, b, c, d) {\n            return function (e) {\n                return e && e.stopPropagation(), gj.datepicker.methods.selectDay(a, b, c, d), !0 !== c.footer && !1 !== c.autoClose && gj.datepicker.methods.change(a, b, c, d), a;\n            };\n        },\n        change: function (a, b, c, d) {\n            var e = (d.getDate(), d.getMonth()),\n                f = d.getFullYear(),\n                g = gj.core.formatDate(d, c.format, c.locale);\n            b.attr(\"month\", e), b.attr(\"year\", f), a.val(g), gj.datepicker.events.change(a), \"none\" !== window.getComputedStyle(b[0]).display && gj.datepicker.methods.close(a);\n        },\n        selectDay: function (a, b, c, d) {\n            var e = d.getDate(),\n                f = d.getMonth(),\n                g = d.getFullYear();\n            b.attr(\"selectedDay\", g + \"-\" + f + \"-\" + e),\n                b.find(\"tbody td\").removeClass(\"selected\"),\n                b.find('tbody td[day=\"' + e + '\"][month=\"' + f + '\"]').addClass(\"selected\"),\n                gj.datepicker.methods.updateHeader(b, c, d),\n                gj.datepicker.events.select(a, \"day\");\n        },\n        selectMonth: function (a, b, c, d) {\n            return function (e) {\n                b.attr(\"month\", d), gj.datepicker.methods.renderMonth(a, b, c), gj.datepicker.events.select(a, \"month\");\n            };\n        },\n        selectYear: function (a, b, c, d) {\n            return function (e) {\n                b.attr(\"year\", d), gj.datepicker.methods.renderYear(a, b, c), gj.datepicker.events.select(a, \"year\");\n            };\n        },\n        selectDecade: function (a, b, c, d) {\n            return function (e) {\n                b.attr(\"year\", d), gj.datepicker.methods.renderDecade(a, b, c), gj.datepicker.events.select(a, \"decade\");\n            };\n        },\n        open: function (a, b) {\n            var c,\n                d = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n            switch ((a.val() ? a.value(a.val()) : ((c = new Date()), d.attr(\"month\", c.getMonth()), d.attr(\"year\", c.getFullYear())), d.attr(\"type\"))) {\n                case \"month\":\n                    gj.datepicker.methods.renderMonth(a, d, b);\n                    break;\n                case \"year\":\n                    gj.datepicker.methods.renderYear(a, d, b);\n                    break;\n                case \"decade\":\n                    gj.datepicker.methods.renderDecade(a, d, b);\n                    break;\n                case \"century\":\n                    gj.datepicker.methods.renderCentury(a, d, b);\n            }\n            d.show(), d.closest('div[role=\"modal\"]').show(), b.modal ? gj.core.center(d) : (gj.core.setChildPosition(a[0], d[0]), document.activeElement !== a[0] && a.focus()), clearTimeout(a.timeout), gj.datepicker.events.open(a);\n        },\n        close: function (a) {\n            var b = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n            b.hide(), b.closest('div[role=\"modal\"]').hide(), gj.datepicker.events.close(a);\n        },\n        createKeyDownHandler: function (a, b, c) {\n            return function (d) {\n                var e,\n                    f,\n                    g,\n                    h,\n                    i,\n                    j,\n                    d = d || window.event;\n                \"none\" !== window.getComputedStyle(b[0]).display &&\n                    ((j = gj.datepicker.methods.getActiveCell(b)),\n                    \"38\" == d.keyCode\n                        ? ((h = j.index()),\n                          (i = j\n                              .closest(\"tr\")\n                              .prev(\"tr\")\n                              .find(\"td:eq(\" + h + \")\")),\n                          i.is(\"[day]\") ||\n                              (gj.datepicker.methods.prev(a, c)(),\n                              (i = b\n                                  .find(\"tbody tr\")\n                                  .last()\n                                  .find(\"td:eq(\" + h + \")\")),\n                              i.is(\":empty\") &&\n                                  (i = b\n                                      .find(\"tbody tr\")\n                                      .last()\n                                      .prev()\n                                      .find(\"td:eq(\" + h + \")\"))),\n                          i.is(\"[day]\") && (i.addClass(\"focused\"), j.removeClass(\"focused\")))\n                        : \"40\" == d.keyCode\n                        ? ((h = j.index()),\n                          (i = j\n                              .closest(\"tr\")\n                              .next(\"tr\")\n                              .find(\"td:eq(\" + h + \")\")),\n                          i.is(\"[day]\") ||\n                              (gj.datepicker.methods.next(a, c)(),\n                              (i = b\n                                  .find(\"tbody tr\")\n                                  .first()\n                                  .find(\"td:eq(\" + h + \")\")),\n                              i.is(\"[day]\") || (i = b.find(\"tbody tr:eq(1)\").find(\"td:eq(\" + h + \")\"))),\n                          i.is(\"[day]\") && (i.addClass(\"focused\"), j.removeClass(\"focused\")))\n                        : \"37\" == d.keyCode\n                        ? ((i = j.prev(\"td[day]:not(.disabled)\")),\n                          0 === i.length && (i = j.closest(\"tr\").prev(\"tr\").find(\"td[day]\").last()),\n                          0 === i.length && (gj.datepicker.methods.prev(a, c)(), (i = b.find(\"tbody tr\").last().find(\"td[day]\").last())),\n                          i.length > 0 && (i.addClass(\"focused\"), j.removeClass(\"focused\")))\n                        : \"39\" == d.keyCode\n                        ? ((i = j.next(\"[day]:not(.disabled)\")),\n                          0 === i.length && (i = j.closest(\"tr\").next(\"tr\").find(\"td[day]\").first()),\n                          0 === i.length && (gj.datepicker.methods.next(a, c)(), (i = b.find(\"tbody tr\").first().find(\"td[day]\").first())),\n                          i.length > 0 && (i.addClass(\"focused\"), j.removeClass(\"focused\")))\n                        : \"13\" == d.keyCode\n                        ? ((g = parseInt(j.attr(\"day\"), 10)), (e = parseInt(j.attr(\"month\"), 10)), (f = parseInt(j.attr(\"year\"), 10)), gj.datepicker.methods.dayClickHandler(a, b, c, new Date(f, e, g))())\n                        : \"27\" == d.keyCode && a.close());\n            };\n        },\n        getActiveCell: function (a) {\n            var b = a.find(\"td[day].focused\");\n            return 0 === b.length && ((b = a.find(\"td[day].selected\")), 0 === b.length && ((b = a.find(\"td[day].today\")), 0 === b.length && (b = a.find(\"td[day]:not(.disabled)\").first()))), b;\n        },\n        value: function (a, b) {\n            var c,\n                d,\n                e = a.data();\n            return void 0 === b\n                ? a.val()\n                : ((d = gj.core.parseDate(b, e.format, e.locale)), d && d.getTime() ? ((c = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]')), gj.datepicker.methods.dayClickHandler(a, c, e, d)()) : a.val(\"\"), a);\n        },\n        destroy: function (a) {\n            var b = a.data(),\n                c = a.parent(),\n                d = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n            return (\n                b &&\n                    (a.off(),\n                    d.parent('[role=\"modal\"]').length > 0 && d.unwrap(),\n                    d.remove(),\n                    a.removeData(),\n                    a.removeAttr(\"data-type\").removeAttr(\"data-guid\").removeAttr(\"data-datepicker\"),\n                    a.removeClass(),\n                    c.children('[role=\"right-icon\"]').remove(),\n                    a.unwrap()),\n                a\n            );\n        },\n    }),\n    (gj.datepicker.events = {\n        change: function (a) {\n            return a.triggerHandler(\"change\");\n        },\n        select: function (a, b) {\n            return a.triggerHandler(\"select\", [b]);\n        },\n        open: function (a) {\n            return a.triggerHandler(\"open\");\n        },\n        close: function (a) {\n            return a.triggerHandler(\"close\");\n        },\n    }),\n    (gj.datepicker.widget = function (a, b) {\n        var c = this,\n            d = gj.datepicker.methods;\n        return (\n            (c.value = function (a) {\n                return d.value(this, a);\n            }),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            (c.open = function () {\n                return d.open(this, this.data());\n            }),\n            (c.close = function () {\n                return d.close(this);\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-datepicker\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.datepicker.widget.prototype = new gj.widget()),\n    (gj.datepicker.widget.constructor = gj.datepicker.widget),\n    (function (a) {\n        a.fn.datepicker = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.datepicker.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.datepicker.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.timepicker = { plugins: {} }),\n    (gj.timepicker.config = {\n        base: {\n            width: void 0,\n            modal: !0,\n            header: !0,\n            footer: !0,\n            format: \"HH:MM\",\n            uiLibrary: \"materialdesign\",\n            value: void 0,\n            mode: \"ampm\",\n            locale: \"en-us\",\n            size: \"default\",\n            icons: { rightIcon: '<i class=\"gj-icon clock\" />' },\n            style: { modal: \"gj-modal\", wrapper: \"gj-timepicker gj-timepicker-md gj-unselectable\", input: \"gj-textbox-md\", clock: \"gj-picker gj-picker-md timepicker\", footer: \"\", button: \"gj-button-md\" },\n        },\n        bootstrap: {\n            style: { wrapper: \"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group\", input: \"form-control\", clock: \"gj-picker gj-picker-bootstrap timepicker\", footer: \"modal-footer\", button: \"btn btn-default\" },\n            iconsLibrary: \"glyphicons\",\n        },\n        bootstrap4: {\n            style: { wrapper: \"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group\", input: \"form-control border\", clock: \"gj-picker gj-picker-bootstrap timepicker\", footer: \"modal-footer\", button: \"btn btn-default\" },\n        },\n    }),\n    (gj.timepicker.methods = {\n        init: function (a) {\n            return gj.picker.widget.prototype.init.call(this, a, \"timepicker\"), this;\n        },\n        initialize: function () {},\n        initMouse: function (a, b, c, d) {\n            a.off(), a.on(\"mousedown\", gj.timepicker.methods.mouseDownHandler(b, c)), a.on(\"mousemove\", gj.timepicker.methods.mouseMoveHandler(b, c, d)), a.on(\"mouseup\", gj.timepicker.methods.mouseUpHandler(b, c, d));\n        },\n        createPicker: function (a) {\n            var b,\n                c = a.data(),\n                d = $('<div role=\"picker\" />').addClass(c.style.clock).attr(\"guid\", a.attr(\"data-guid\")),\n                e = $('<div role=\"hour\" />'),\n                f = $('<div role=\"minute\" />'),\n                g = $('<div role=\"header\" />'),\n                h = $('<div role=\"mode\" />'),\n                i = $('<div role=\"body\" />'),\n                j = $('<button class=\"' + c.style.button + '\">' + gj.core.messages[c.locale].ok + \"</button>\"),\n                k = $('<button class=\"' + c.style.button + '\">' + gj.core.messages[c.locale].cancel + \"</button>\"),\n                l = $('<div role=\"footer\" class=\"' + c.style.footer + '\" />');\n            return (\n                (b = gj.core.parseDate(c.value, c.format, c.locale)),\n                !b || isNaN(b.getTime()) ? (b = new Date()) : a.attr(\"hours\", b.getHours()),\n                gj.timepicker.methods.initMouse(i, a, d, c),\n                c.header &&\n                    (e.on(\"click\", function () {\n                        gj.timepicker.methods.renderHours(a, d, c);\n                    }),\n                    f.on(\"click\", function () {\n                        gj.timepicker.methods.renderMinutes(a, d, c);\n                    }),\n                    g.append(e).append(\":\").append(f),\n                    \"ampm\" === c.mode &&\n                        (h.append(\n                            $('<span role=\"am\">' + gj.core.messages[c.locale].am + \"</span>\").on(\"click\", function () {\n                                var b = gj.timepicker.methods.getHour(d);\n                                d.attr(\"mode\", \"am\"), $(this).addClass(\"selected\"), $(this).parent().children('[role=\"pm\"]').removeClass(\"selected\"), b >= 12 && d.attr(\"hour\", b - 12), c.modal || (clearTimeout(a.timeout), a.focus());\n                            })\n                        ),\n                        h.append(\"<br />\"),\n                        h.append(\n                            $('<span role=\"pm\">' + gj.core.messages[c.locale].pm + \"</span>\").on(\"click\", function () {\n                                var b = gj.timepicker.methods.getHour(d);\n                                d.attr(\"mode\", \"pm\"), $(this).addClass(\"selected\"), $(this).parent().children('[role=\"am\"]').removeClass(\"selected\"), b < 12 && d.attr(\"hour\", b + 12), c.modal || (clearTimeout(a.timeout), a.focus());\n                            })\n                        ),\n                        g.append(h)),\n                    d.append(g)),\n                d.append(i),\n                c.footer &&\n                    (k.on(\"click\", function () {\n                        a.close();\n                    }),\n                    l.append(k),\n                    j.on(\"click\", gj.timepicker.methods.setTime(a, d)),\n                    l.append(j),\n                    d.append(l)),\n                d.hide(),\n                $(\"body\").append(d),\n                c.modal && (d.wrapAll('<div role=\"modal\" class=\"' + c.style.modal + '\"/>'), gj.core.center(d)),\n                d\n            );\n        },\n        getHour: function (a) {\n            return parseInt(a.attr(\"hour\"), 10) || 0;\n        },\n        getMinute: function (a) {\n            return parseInt(a.attr(\"minute\"), 10) || 0;\n        },\n        setTime: function (a, b) {\n            return function () {\n                var c = gj.timepicker.methods.getHour(b),\n                    d = gj.timepicker.methods.getMinute(b),\n                    e = b.attr(\"mode\"),\n                    f = new Date(0, 0, 0, 12 === c && \"am\" === e ? 0 : c, d),\n                    g = a.data(),\n                    h = gj.core.formatDate(f, g.format, g.locale);\n                a.value(h), a.close();\n            };\n        },\n        getPointerValue: function (a, b, c) {\n            var d,\n                e,\n                f = 256,\n                g = (Math.atan2(f / 2 - a, f / 2 - b) / Math.PI) * 180;\n            switch ((g < 0 && (g = 360 + g), c)) {\n                case \"ampm\":\n                    return (d = 12 - Math.round((12 * g) / 360)), 0 === d ? 12 : d;\n                case \"24hr\":\n                    return (e = Math.sqrt(Math.pow(f / 2 - a, 2) + Math.pow(f / 2 - b, 2))), (d = 12 - Math.round((12 * g) / 360)), 0 === d && (d = 12), e < f / 2 - 32 && (d = 12 === d ? 0 : d + 12), d;\n                case \"minutes\":\n                    return (d = Math.round(60 - (60 * g) / 360)), 60 === d ? 0 : d;\n            }\n        },\n        updateArrow: function (a, b, c, d) {\n            var e,\n                f,\n                g = b.mouseX(a),\n                h = b.mouseY(a),\n                i = window.scrollY || window.pageYOffset || 0,\n                j = window.scrollX || window.pageXOffset || 0;\n            (e = a.target.getBoundingClientRect()),\n                \"hours\" == d.dialMode\n                    ? ((f = gj.timepicker.methods.getPointerValue(g - j - e.left, h - i - e.top, d.mode)), c.attr(\"hour\", \"ampm\" === d.mode && \"pm\" === c.attr(\"mode\") && f < 12 ? f + 12 : f))\n                    : \"minutes\" == d.dialMode && ((f = gj.timepicker.methods.getPointerValue(g - j - e.left, h - i - e.top, \"minutes\")), c.attr(\"minute\", f)),\n                gj.timepicker.methods.update(b, c, d);\n        },\n        update: function (a, b, c) {\n            var d, e, f, g, h, i;\n            (d = gj.timepicker.methods.getHour(b)),\n                (e = gj.timepicker.methods.getMinute(b)),\n                (f = b.find('[role=\"arrow\"]')),\n                \"hours\" == c.dialMode && (0 == d || d > 12) && \"24hr\" === c.mode ? f.css(\"width\", \"calc(50% - 52px)\") : f.css(\"width\", \"calc(50% - 20px)\"),\n                \"hours\" == c.dialMode ? f.css(\"transform\", \"rotate(\" + (30 * d - 90).toString() + \"deg)\") : f.css(\"transform\", \"rotate(\" + (6 * e - 90).toString() + \"deg)\"),\n                f.show(),\n                (g = \"ampm\" === c.mode && d > 12 ? d - 12 : 0 == d ? 12 : d),\n                (i = b.find('[role=\"body\"] span')),\n                i.removeClass(\"selected\"),\n                i\n                    .filter(function (a) {\n                        return \"hours\" == c.dialMode ? parseInt($(this).text(), 10) == g : parseInt($(this).text(), 10) == e;\n                    })\n                    .addClass(\"selected\"),\n                c.header &&\n                    ((h = b.find('[role=\"header\"]')),\n                    h.find('[role=\"hour\"]').text(g),\n                    h.find('[role=\"minute\"]').text(gj.core.pad(e)),\n                    \"ampm\" === c.mode && (d >= 12 ? (h.find('[role=\"pm\"]').addClass(\"selected\"), h.find('[role=\"am\"]').removeClass(\"selected\")) : (h.find('[role=\"am\"]').addClass(\"selected\"), h.find('[role=\"pm\"]').removeClass(\"selected\"))));\n        },\n        mouseDownHandler: function (a, b) {\n            return function (b) {\n                a.mouseMove = !0;\n            };\n        },\n        mouseMoveHandler: function (a, b, c) {\n            return function (d) {\n                a.mouseMove && gj.timepicker.methods.updateArrow(d, a, b, c);\n            };\n        },\n        mouseUpHandler: function (a, b, c) {\n            return function (d) {\n                gj.timepicker.methods.updateArrow(d, a, b, c),\n                    (a.mouseMove = !1),\n                    c.modal || (clearTimeout(a.timeout), a.focus()),\n                    \"hours\" == c.dialMode\n                        ? setTimeout(function () {\n                              gj.timepicker.events.select(a, \"hour\"), gj.timepicker.methods.renderMinutes(a, b, c);\n                          }, 1e3)\n                        : \"minutes\" == c.dialMode && (!0 !== c.footer && !1 !== c.autoClose && gj.timepicker.methods.setTime(a, b)(), gj.timepicker.events.select(a, \"minute\"));\n            };\n        },\n        renderHours: function (a, b, c) {\n            var d,\n                e = b.find('[role=\"body\"]');\n            clearTimeout(a.timeout),\n                e.empty(),\n                (d = $('<div role=\"dial\"></div>')),\n                d.append('<div role=\"arrow\" style=\"transform: rotate(-90deg); display: none;\"><div class=\"arrow-begin\"></div><div class=\"arrow-end\"></div></div>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(54px, -93.5307px);\">1</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(93.5307px, -54px);\">2</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(108px, 0px);\">3</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(93.5307px, 54px);\">4</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(54px, 93.5307px);\">5</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(6.61309e-15px, 108px);\">6</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(-54px, 93.5307px);\">7</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(-93.5307px, 54px);\">8</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(-108px, 1.32262e-14px);\">9</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(-93.5307px, -54px);\">10</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(-54px, -93.5307px);\">11</span>'),\n                d.append('<span role=\"hour\" style=\"transform: translate(-1.98393e-14px, -108px);\">12</span>'),\n                \"24hr\" === c.mode &&\n                    (d.append('<span role=\"hour\" style=\"transform: translate(38px, -65.8179px);\">13</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(65.8179px, -38px);\">14</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(76px, 0px);\">15</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(65.8179px, 38px);\">16</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(38px, 65.8179px);\">17</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(4.65366e-15px, 76px);\">18</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(-38px, 65.8179px);\">19</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(-65.8179px, 38px);\">20</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(-76px, 9.30732e-15px);\">21</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(-65.8179px, -38px);\">22</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(-38px, -65.8179px);\">23</span>'),\n                    d.append('<span role=\"hour\" style=\"transform: translate(-1.3961e-14px, -76px);\">00</span>')),\n                e.append(d),\n                b.find('[role=\"header\"] [role=\"hour\"]').addClass(\"selected\"),\n                b.find('[role=\"header\"] [role=\"minute\"]').removeClass(\"selected\"),\n                (c.dialMode = \"hours\"),\n                gj.timepicker.methods.update(a, b, c);\n        },\n        renderMinutes: function (a, b, c) {\n            var d = b.find('[role=\"body\"]');\n            clearTimeout(a.timeout),\n                d.empty(),\n                ($dial = $('<div role=\"dial\"></div>')),\n                $dial.append('<div role=\"arrow\" style=\"transform: rotate(-90deg); display: none;\"><div class=\"arrow-begin\"></div><div class=\"arrow-end\"></div></div>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(54px, -93.5307px);\">5</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(93.5307px, -54px);\">10</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(108px, 0px);\">15</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(93.5307px, 54px);\">20</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(54px, 93.5307px);\">25</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(6.61309e-15px, 108px);\">30</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(-54px, 93.5307px);\">35</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(-93.5307px, 54px);\">40</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(-108px, 1.32262e-14px);\">45</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(-93.5307px, -54px);\">50</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(-54px, -93.5307px);\">55</span>'),\n                $dial.append('<span role=\"hour\" style=\"transform: translate(-1.98393e-14px, -108px);\">00</span>'),\n                d.append($dial),\n                b.find('[role=\"header\"] [role=\"hour\"]').removeClass(\"selected\"),\n                b.find('[role=\"header\"] [role=\"minute\"]').addClass(\"selected\"),\n                (c.dialMode = \"minutes\"),\n                gj.timepicker.methods.update(a, b, c);\n        },\n        open: function (a) {\n            var b,\n                c,\n                d = a.data(),\n                e = $(\"body\").find('[role=\"picker\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n            return (\n                (b = a.value() ? gj.core.parseDate(a.value(), d.format, d.locale) : new Date()),\n                (c = b.getHours()),\n                \"ampm\" === d.mode && e.attr(\"mode\", c > 12 ? \"pm\" : \"am\"),\n                e.attr(\"hour\", c),\n                e.attr(\"minute\", b.getMinutes()),\n                gj.timepicker.methods.renderHours(a, e, d),\n                gj.picker.widget.prototype.open.call(a, \"timepicker\"),\n                a\n            );\n        },\n        value: function (a, b) {\n            a.data();\n            return void 0 === b ? a.val() : (a.val(b), gj.timepicker.events.change(a), a);\n        },\n    }),\n    (gj.timepicker.events = {\n        change: function (a) {\n            return a.triggerHandler(\"change\");\n        },\n        select: function (a, b) {\n            return a.triggerHandler(\"select\", [b]);\n        },\n        open: function (a) {\n            return a.triggerHandler(\"open\");\n        },\n        close: function (a) {\n            return a.triggerHandler(\"close\");\n        },\n    }),\n    (gj.timepicker.widget = function (a, b) {\n        var c = this,\n            d = gj.timepicker.methods;\n        return (\n            (c.mouseMove = !1),\n            (c.value = function (a) {\n                return d.value(this, a);\n            }),\n            (c.destroy = function () {\n                return gj.picker.widget.prototype.destroy.call(this, \"timepicker\");\n            }),\n            (c.open = function () {\n                return gj.timepicker.methods.open(this);\n            }),\n            (c.close = function () {\n                return gj.picker.widget.prototype.close.call(this, \"timepicker\");\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-timepicker\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.timepicker.widget.prototype = new gj.picker.widget()),\n    (gj.timepicker.widget.constructor = gj.timepicker.widget),\n    (function (a) {\n        a.fn.timepicker = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.timepicker.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.timepicker.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.datetimepicker = { plugins: {}, messages: { \"en-us\": {} } }),\n    (gj.datetimepicker.config = {\n        base: {\n            datepicker: gj.datepicker.config.base,\n            timepicker: gj.timepicker.config.base,\n            uiLibrary: \"materialdesign\",\n            value: void 0,\n            format: \"HH:MM mm/dd/yyyy\",\n            width: void 0,\n            modal: !1,\n            footer: !1,\n            size: \"default\",\n            locale: \"en-us\",\n            icons: {},\n            style: { calendar: \"gj-picker gj-picker-md datetimepicker gj-unselectable\" },\n        },\n        bootstrap: { style: { calendar: \"gj-picker gj-picker-bootstrap datetimepicker gj-unselectable\" }, iconsLibrary: \"glyphicons\" },\n        bootstrap4: { style: { calendar: \"gj-picker gj-picker-bootstrap datetimepicker gj-unselectable\" } },\n    }),\n    (gj.datetimepicker.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"datetimepicker\"), this.attr(\"data-datetimepicker\", \"true\"), gj.datetimepicker.methods.initialize(this), this;\n        },\n        getConfig: function (a, b) {\n            var c = gj.widget.prototype.getConfig.call(this, a, b);\n            return (\n                (uiLibrary = a.hasOwnProperty(\"uiLibrary\") ? a.uiLibrary : c.uiLibrary),\n                gj.datepicker.config[uiLibrary] && $.extend(!0, c.datepicker, gj.datepicker.config[uiLibrary]),\n                gj.timepicker.config[uiLibrary] && $.extend(!0, c.timepicker, gj.timepicker.config[uiLibrary]),\n                (iconsLibrary = a.hasOwnProperty(\"iconsLibrary\") ? a.iconsLibrary : c.iconsLibrary),\n                gj.datepicker.config[iconsLibrary] && $.extend(!0, c.datepicker, gj.datepicker.config[iconsLibrary]),\n                gj.timepicker.config[iconsLibrary] && $.extend(!0, c.timepicker, gj.timepicker.config[iconsLibrary]),\n                c\n            );\n        },\n        initialize: function (a) {\n            var b,\n                c,\n                d,\n                e,\n                f,\n                g,\n                h,\n                i,\n                j = a.data();\n            (j.datepicker.uiLibrary = j.uiLibrary),\n                (j.datepicker.iconsLibrary = j.iconsLibrary),\n                (j.datepicker.width = j.width),\n                (j.datepicker.format = j.format),\n                (j.datepicker.locale = j.locale),\n                (j.datepicker.modal = j.modal),\n                (j.datepicker.footer = j.footer),\n                (j.datepicker.style.calendar = j.style.calendar),\n                (j.datepicker.value = j.value),\n                (j.datepicker.size = j.size),\n                (j.datepicker.autoClose = !1),\n                gj.datepicker.methods.initialize(a, j.datepicker),\n                a.on(\"select\", function (c, d) {\n                    var e, f;\n                    \"day\" === d\n                        ? gj.datetimepicker.methods.createShowHourHandler(a, b, j)()\n                        : \"minute\" === d &&\n                          b.attr(\"selectedDay\") &&\n                          !0 !== j.footer &&\n                          ((selectedDay = b.attr(\"selectedDay\").split(\"-\")),\n                          (e = new Date(selectedDay[0], selectedDay[1], selectedDay[2], b.attr(\"hour\") || 0, b.attr(\"minute\") || 0)),\n                          (f = gj.core.formatDate(e, j.format, j.locale)),\n                          a.val(f),\n                          gj.datetimepicker.events.change(a),\n                          gj.datetimepicker.methods.close(a));\n                }),\n                a.on(\"open\", function () {\n                    var a = b.children('[role=\"header\"]');\n                    a.find('[role=\"calendarMode\"]').addClass(\"selected\"), a.find('[role=\"clockMode\"]').removeClass(\"selected\");\n                }),\n                (b = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]')),\n                (f = j.value ? gj.core.parseDate(j.value, j.format, j.locale) : new Date()),\n                b.attr(\"hour\", f.getHours()),\n                b.attr(\"minute\", f.getMinutes()),\n                (j.timepicker.uiLibrary = j.uiLibrary),\n                (j.timepicker.iconsLibrary = j.iconsLibrary),\n                (j.timepicker.format = j.format),\n                (j.timepicker.locale = j.locale),\n                (j.timepicker.header = !0),\n                (j.timepicker.footer = j.footer),\n                (j.timepicker.size = j.size),\n                (j.timepicker.mode = \"24hr\"),\n                (j.timepicker.autoClose = !1),\n                (c = $('<div role=\"header\" />')),\n                (d = $('<div role=\"date\" class=\"selected\" />')),\n                d.on(\"click\", gj.datetimepicker.methods.createShowDateHandler(a, b, j)),\n                d.html(gj.core.formatDate(new Date(), \"ddd, mmm dd\", j.locale)),\n                c.append(d),\n                (g = $('<div role=\"switch\"></div>')),\n                (h = $('<i class=\"gj-icon selected\" role=\"calendarMode\">event</i>')),\n                h.on(\"click\", gj.datetimepicker.methods.createShowDateHandler(a, b, j)),\n                g.append(h),\n                (e = $('<div role=\"time\" />')),\n                e.append($('<div role=\"hour\" />').on(\"click\", gj.datetimepicker.methods.createShowHourHandler(a, b, j)).html(gj.core.formatDate(new Date(), \"HH\", j.locale))),\n                e.append(\":\"),\n                e.append($('<div role=\"minute\" />').on(\"click\", gj.datetimepicker.methods.createShowMinuteHandler(a, b, j)).html(gj.core.formatDate(new Date(), \"MM\", j.locale))),\n                g.append(e),\n                (i = $('<i class=\"gj-icon\" role=\"clockMode\">clock</i>')),\n                i.on(\"click\", gj.datetimepicker.methods.createShowHourHandler(a, b, j)),\n                g.append(i),\n                c.append(g),\n                b.prepend(c);\n        },\n        createShowDateHandler: function (a, b, c) {\n            return function (d) {\n                var e = b.children('[role=\"header\"]');\n                e.find('[role=\"calendarMode\"]').addClass(\"selected\"),\n                    e.find('[role=\"date\"]').addClass(\"selected\"),\n                    e.find('[role=\"clockMode\"]').removeClass(\"selected\"),\n                    e.find('[role=\"hour\"]').removeClass(\"selected\"),\n                    e.find('[role=\"minute\"]').removeClass(\"selected\"),\n                    gj.datepicker.methods.renderMonth(a, b, c.datepicker);\n            };\n        },\n        createShowHourHandler: function (a, b, c) {\n            return function () {\n                var d = b.children('[role=\"header\"]');\n                d.find('[role=\"calendarMode\"]').removeClass(\"selected\"),\n                    d.find('[role=\"date\"]').removeClass(\"selected\"),\n                    d.find('[role=\"clockMode\"]').addClass(\"selected\"),\n                    d.find('[role=\"hour\"]').addClass(\"selected\"),\n                    d.find('[role=\"minute\"]').removeClass(\"selected\"),\n                    gj.timepicker.methods.initMouse(b.children('[role=\"body\"]'), a, b, c.timepicker),\n                    gj.timepicker.methods.renderHours(a, b, c.timepicker);\n            };\n        },\n        createShowMinuteHandler: function (a, b, c) {\n            return function () {\n                var d = b.children('[role=\"header\"]');\n                d.find('[role=\"calendarMode\"]').removeClass(\"selected\"),\n                    d.find('[role=\"date\"]').removeClass(\"selected\"),\n                    d.find('[role=\"clockMode\"]').addClass(\"selected\"),\n                    d.find('[role=\"hour\"]').removeClass(\"selected\"),\n                    d.find('[role=\"minute\"]').addClass(\"selected\"),\n                    gj.timepicker.methods.initMouse(b.children('[role=\"body\"]'), a, b, c.timepicker),\n                    gj.timepicker.methods.renderMinutes(a, b, c.timepicker);\n            };\n        },\n        close: function (a) {\n            var b = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n            b.hide(), b.closest('div[role=\"modal\"]').hide();\n        },\n        value: function (a, b) {\n            var c,\n                d,\n                e,\n                f = a.data();\n            return void 0 === b\n                ? a.val()\n                : ((d = gj.core.parseDate(b, f.format, f.locale)),\n                  d\n                      ? ((c = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]')),\n                        gj.datepicker.methods.dayClickHandler(a, c, f, d)(),\n                        (e = d.getHours()),\n                        \"ampm\" === f.mode && c.attr(\"mode\", e > 12 ? \"pm\" : \"am\"),\n                        c.attr(\"hour\", e),\n                        c.attr(\"minute\", d.getMinutes()),\n                        a.val(b))\n                      : a.val(\"\"),\n                  a);\n        },\n        destroy: function (a) {\n            var b = a.data(),\n                c = a.parent(),\n                d = $(\"body\").find('[role=\"calendar\"][guid=\"' + a.attr(\"data-guid\") + '\"]');\n            return (\n                b &&\n                    (a.off(),\n                    d.parent('[role=\"modal\"]').length > 0 && d.unwrap(),\n                    d.remove(),\n                    a.removeData(),\n                    a.removeAttr(\"data-type\").removeAttr(\"data-guid\").removeAttr(\"data-datetimepicker\"),\n                    a.removeClass(),\n                    c.children('[role=\"right-icon\"]').remove(),\n                    a.unwrap()),\n                a\n            );\n        },\n    }),\n    (gj.datetimepicker.events = {\n        change: function (a) {\n            return a.triggerHandler(\"change\");\n        },\n    }),\n    (gj.datetimepicker.widget = function (a, b) {\n        var c = this,\n            d = gj.datetimepicker.methods;\n        return (\n            (c.mouseMove = !1),\n            (c.value = function (a) {\n                return d.value(this, a);\n            }),\n            (c.open = function () {\n                gj.datepicker.methods.open(this, this.data().datepicker);\n            }),\n            (c.close = function () {\n                gj.datepicker.methods.close(this);\n            }),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-datetimepicker\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.datetimepicker.widget.prototype = new gj.widget()),\n    (gj.datetimepicker.widget.constructor = gj.datetimepicker.widget),\n    (gj.datetimepicker.widget.prototype.getConfig = gj.datetimepicker.methods.getConfig),\n    (function (a) {\n        a.fn.datetimepicker = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.datetimepicker.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.datetimepicker.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.slider = { plugins: {}, messages: { \"en-us\": {} } }),\n    (gj.slider.config = {\n        base: { min: 0, max: 100, width: void 0, uiLibrary: \"materialdesign\", value: void 0, icons: {}, style: { wrapper: \"gj-slider gj-slider-md\", progress: void 0, track: void 0 } },\n        bootstrap: { style: { wrapper: \"gj-slider gj-slider-bootstrap gj-slider-bootstrap-3\", progress: \"progress-bar\", track: \"progress\" } },\n        bootstrap4: { style: { wrapper: \"gj-slider gj-slider-bootstrap gj-slider-bootstrap-4\", progress: \"progress-bar\", track: \"progress\" } },\n    }),\n    (gj.slider.methods = {\n        init: function (a) {\n            return gj.widget.prototype.init.call(this, a, \"slider\"), this.attr(\"data-slider\", \"true\"), gj.slider.methods.initialize(this, this.data()), this;\n        },\n        initialize: function (a, b) {\n            var c, d, e, f;\n            (a[0].style.display = \"none\"),\n                \"wrapper\" !== a[0].parentElement.attributes.role ? ((c = document.createElement(\"div\")), c.setAttribute(\"role\", \"wrapper\"), a[0].parentNode.insertBefore(c, a[0]), c.appendChild(a[0])) : (c = a[0].parentElement),\n                b.width && (c.style.width = b.width + \"px\"),\n                gj.core.addClasses(c, b.style.wrapper),\n                (d = a[0].querySelector('[role=\"track\"]')),\n                null == d && ((d = document.createElement(\"div\")), d.setAttribute(\"role\", \"track\"), c.appendChild(d)),\n                gj.core.addClasses(d, b.style.track),\n                (e = a[0].querySelector('[role=\"handle\"]')),\n                null == e && ((e = document.createElement(\"div\")), e.setAttribute(\"role\", \"handle\"), c.appendChild(e)),\n                (f = a[0].querySelector('[role=\"progress\"]')),\n                null == f && ((f = document.createElement(\"div\")), f.setAttribute(\"role\", \"progress\"), c.appendChild(f)),\n                gj.core.addClasses(f, b.style.progress),\n                b.value || (b.value = b.min),\n                gj.slider.methods.value(a, b, b.value),\n                gj.documentManager.subscribeForEvent(\"mouseup\", a.data(\"guid\"), gj.slider.methods.createMouseUpHandler(a, e, b)),\n                e.addEventListener(\"mousedown\", gj.slider.methods.createMouseDownHandler(e, b)),\n                gj.documentManager.subscribeForEvent(\"mousemove\", a.data(\"guid\"), gj.slider.methods.createMouseMoveHandler(a, d, e, f, b)),\n                e.addEventListener(\"click\", function (a) {\n                    a.stopPropagation();\n                }),\n                c.addEventListener(\"click\", gj.slider.methods.createClickHandler(a, d, e, b));\n        },\n        createClickHandler: function (a, b, c, d) {\n            return function (e) {\n                var f, g, h, i, j;\n                \"true\" !== c.getAttribute(\"drag\") &&\n                    ((f = gj.core.position(a[0].parentElement)),\n                    (g = new gj.widget().mouseX(e) - f.left),\n                    (h = gj.core.width(c) / 2),\n                    (i = gj.core.width(b) / (d.max - d.min)),\n                    (j = Math.round((g - h) / i) + d.min),\n                    gj.slider.methods.value(a, d, j));\n            };\n        },\n        createMouseUpHandler: function (a, b, c) {\n            return function (c) {\n                \"true\" === b.getAttribute(\"drag\") && (b.setAttribute(\"drag\", \"false\"), gj.slider.events.change(a));\n            };\n        },\n        createMouseDownHandler: function (a, b) {\n            return function (b) {\n                a.setAttribute(\"drag\", \"true\");\n            };\n        },\n        createMouseMoveHandler: function (a, b, c, d, e) {\n            return function (d) {\n                var f, g, h, i, j, k, l;\n                \"true\" === c.getAttribute(\"drag\") &&\n                    ((f = gj.core.position(a[0].parentElement)),\n                    (g = new gj.widget().mouseX(d) - f.left),\n                    (h = gj.core.width(b)),\n                    (i = gj.core.width(c) / 2),\n                    (j = h / (e.max - e.min)),\n                    (k = (e.value - e.min) * j),\n                    g >= i && g <= h + i && (g > k + j / 2 || g < k - j / 2) && ((l = Math.round((g - i) / j) + e.min), gj.slider.methods.value(a, e, l)));\n            };\n        },\n        value: function (a, b, c) {\n            var d, e, f, g;\n            return void 0 === c\n                ? a[0].value\n                : (a[0].setAttribute(\"value\", c),\n                  (b.value = c),\n                  (e = a.parent().children('[role=\"track\"]')[0]),\n                  (d = gj.core.width(e) / (b.max - b.min)),\n                  (f = a.parent().children('[role=\"handle\"]')[0]),\n                  (f.style.left = (c - b.min) * d + \"px\"),\n                  (g = a.parent().children('[role=\"progress\"]')[0]),\n                  (g.style.width = (c - b.min) * d + \"px\"),\n                  gj.slider.events.slide(a, c),\n                  a);\n        },\n        destroy: function (a) {\n            var b = a.data(),\n                c = a.parent();\n            return (\n                b &&\n                    (c.children('[role=\"track\"]').remove(),\n                    c.children('[role=\"handle\"]').remove(),\n                    c.children('[role=\"progress\"]').remove(),\n                    a.unwrap(),\n                    a.off(),\n                    a.removeData(),\n                    a.removeAttr(\"data-type\").removeAttr(\"data-guid\").removeAttr(\"data-slider\"),\n                    a.removeClass(),\n                    a.show()),\n                a\n            );\n        },\n    }),\n    (gj.slider.events = {\n        change: function (a) {\n            return a.triggerHandler(\"change\");\n        },\n        slide: function (a, b) {\n            return a.triggerHandler(\"slide\", [b]);\n        },\n    }),\n    (gj.slider.widget = function (a, b) {\n        var c = this,\n            d = gj.slider.methods;\n        return (\n            (c.value = function (a) {\n                return d.value(this, this.data(), a);\n            }),\n            (c.destroy = function () {\n                return d.destroy(this);\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-slider\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.slider.widget.prototype = new gj.widget()),\n    (gj.slider.widget.constructor = gj.slider.widget),\n    (function (a) {\n        a.fn.slider = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.slider.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.slider.widget(this, a);\n            }\n        };\n    })(jQuery),\n    (gj.colorpicker = { plugins: {}, messages: { \"en-us\": {} } }),\n    (gj.colorpicker.config = {\n        base: {\n            uiLibrary: \"materialdesign\",\n            value: void 0,\n            icons: { rightIcon: '<i class=\"gj-icon\">event</i>' },\n            style: { modal: \"gj-modal\", wrapper: \"gj-colorpicker gj-colorpicker-md gj-unselectable\", input: \"gj-textbox-md\", picker: \"gj-picker gj-picker-md colorpicker gj-unselectable\", footer: \"\", button: \"gj-button-md\" },\n        },\n        bootstrap: { style: {} },\n        bootstrap4: { style: {} },\n    }),\n    (gj.colorpicker.methods = {\n        init: function (a) {\n            return gj.picker.widget.prototype.init.call(this, a, \"colorpicker\"), gj.colorpicker.methods.initialize(this), this;\n        },\n        initialize: function (a) {},\n        createPicker: function (a, b) {\n            var c = $('<div role=\"picker\" />').addClass(b.style.picker).attr(\"guid\", a.attr(\"data-guid\"));\n            return c.html(\"test\"), c.hide(), $(\"body\").append(c), c;\n        },\n        open: function (a) {\n            return a.val() && a.value(a.val()), gj.picker.widget.prototype.open.call(a, \"colorpicker\");\n        },\n    }),\n    (gj.colorpicker.events = {\n        change: function (a) {\n            return a.triggerHandler(\"change\");\n        },\n        select: function (a) {\n            return a.triggerHandler(\"select\");\n        },\n        open: function (a) {\n            return a.triggerHandler(\"open\");\n        },\n        close: function (a) {\n            return a.triggerHandler(\"close\");\n        },\n    }),\n    (gj.colorpicker.widget = function (a, b) {\n        var c = this,\n            d = gj.colorpicker.methods;\n        return (\n            (c.value = function (a) {\n                return d.value(this, a);\n            }),\n            (c.destroy = function () {\n                return gj.picker.widget.prototype.destroy.call(this, \"colorpicker\");\n            }),\n            (c.open = function () {\n                return d.open(this);\n            }),\n            (c.close = function () {\n                return gj.picker.widget.prototype.close.call(this, \"colorpicker\");\n            }),\n            $.extend(a, c),\n            \"true\" !== a.attr(\"data-colorpicker\") && d.init.call(a, b),\n            a\n        );\n    }),\n    (gj.colorpicker.widget.prototype = new gj.picker.widget()),\n    (gj.colorpicker.widget.constructor = gj.colorpicker.widget),\n    (function (a) {\n        a.fn.colorpicker = function (a) {\n            var b;\n            if (this && this.length) {\n                if (\"object\" != typeof a && a) {\n                    if (((b = new gj.colorpicker.widget(this, null)), b[a])) return b[a].apply(this, Array.prototype.slice.call(arguments, 1));\n                    throw \"Method \" + a + \" does not exist.\";\n                }\n                return new gj.colorpicker.widget(this, a);\n            }\n        };\n    })(jQuery);\n"]}]}
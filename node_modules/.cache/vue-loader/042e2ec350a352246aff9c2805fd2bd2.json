{"remainingRequest":"/ashima/tarun/interactive/bkp/active-intro27-05-2021/active-intro/node_modules/vue-loader/lib/index.js??vue-loader-options!/ashima/tarun/interactive/bkp/active-intro27-05-2021/active-intro/src/components/common/Subscription.vue?vue&type=script&lang=js&","dependencies":[{"path":"/ashima/tarun/interactive/bkp/active-intro27-05-2021/active-intro/src/components/common/Subscription.vue","mtime":1622720652714},{"path":"/ashima/tarun/interactive/bkp/active-intro27-05-2021/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/ashima/tarun/interactive/bkp/active-intro27-05-2021/active-intro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/ashima/tarun/interactive/bkp/active-intro27-05-2021/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/ashima/tarun/interactive/bkp/active-intro27-05-2021/active-intro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uL21haW4nCiAgICAKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6ewogICAKfSwKZGF0YSgpewogICAgcmV0dXJuewogICAgICAgIHN1YnNjcmlwdGlvbnM6IFtdLAogICAgICAgIGNhdGVnb3J5OiAnJywKICAgICAgICBjb21wb25lbnRzOnt9LAogICAgICAgIHNpZDonJywKICAgICAgICBjYXJ0OiBmYWxzZSwKICAgICAgICByYW5kb21faWQ6IiIsCiAgICAgICAgc2x1ZzoiIiwKICAgIH0KICB9LAoKICBjcmVhdGVkOiBmdW5jdGlvbigpCiAgewogICAgICB0aGlzLmZldGNoSXRlbXMoKTsKICB9LAogICB3YXRjaDogewogICAgICAvLyBXYXRjaCBmb3Igcm91dGUgY2hhbmdlcwogICAgICAkcm91dGUocm91dGUpIHsKICAgICAgICAvLyBDaGFuZ2UgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3RlZCBvcHRpb24KICAgICAgICB0aGlzLnNsdWcgPSByb3V0ZS5wYXJhbXMuc2x1ZzsKICAgICAgICAvL2NvbnNvbGUubG9nKCd5b28yMicpOwogICAgICAgIC8vY29uc29sZS5sb2codGhpcy5zbHVnKTsKICAgICAgfSwKICAgIH0sCgogIG1ldGhvZHM6IHsKCiAgICBhc3luYyBzdWJtaXQoc2lkKSB7CgogICAgICB2YXIgdWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJTZXNzaW9uSWQiKTsKICAgICAgdmFyIHJhbmRvbUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInJhbmRvbUlkIik7CgogICAgICB0aGlzLnNpZCA9IHNpZDsKICAgICAgCiAgICAgIGZ1bmN0aW9uIG1ha2VpZChsZW5ndGgpIHsKICAgICAgICB2YXIgcmVzdWx0ICAgICAgICAgICA9IFtdOwogICAgICAgIHZhciBjaGFyYWN0ZXJzICAgICAgID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSc7CiAgICAgICAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDsKICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyApIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7CiAgICAgIH0KICAgICAgCiAgICAgIGlmKHVpZCA9PSBudWxsICYmIHJhbmRvbUlkID09IG51bGwpewoKICAgICAgICAgIGNvbnNvbGUubG9nKCdubyBib3RoICcpOwoKICAgICAgICAgIHRoaXMucmFuZG9tX2lkID0gbWFrZWlkKDEwKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyYW5kb21JZCIsIHRoaXMucmFuZG9tX2lkKTsKICAgICAgICAgIHRoaXMucXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJjYXJ0Iikud2hlcmUoInJhbmRvbV9pZCIsICI9PSIsIHRoaXMucmFuZG9tX2lkKS53aGVyZSgic3Vic2NyaXB0aW9uIiwgIj09IiwgdGhpcy5zaWQpOwoKICAgICAgfSBlbHNlIGlmKHVpZCA9PSBudWxsICYmIHJhbmRvbUlkICE9IG51bGwpewoKICAgICAgICAgIGNvbnNvbGUubG9nKCdubyB1aWQgJyk7CgogICAgICAgICAgdGhpcy5yYW5kb21faWQgPSByYW5kb21JZDsKICAgICAgICAgIHRoaXMucXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJjYXJ0Iikud2hlcmUoInJhbmRvbV9pZCIsICI9PSIsIHRoaXMucmFuZG9tX2lkKS53aGVyZSgic3Vic2NyaXB0aW9uIiwgIj09IiwgdGhpcy5zaWQpOwoKICAgICAgfSBlbHNlIGlmKHVpZCAhPSBudWxsICYmIHJhbmRvbUlkICE9IG51bGwpewogICAgICAKICAgICAgICAgIGNvbnNvbGUubG9nKCcgYm90aCAnKTsKCiAgICAgICAgICB0aGlzLnJhbmRvbV9pZCA9IHJhbmRvbUlkOwogICAgICAgICAgdGhpcy5xdWVyeSA9IGRiLmNvbGxlY3Rpb24oImNhcnQiKS53aGVyZSgidWlkIiwgIj09IiwgdWlkKS53aGVyZSgic3Vic2NyaXB0aW9uIiwgIj09IiwgdGhpcy5zaWQpOwogICAgICAgIAogICAgICB9ZWxzZXsKCiAgICAgICAgICBjb25zb2xlLmxvZygnbm8gcmFuZGlkICcpOwoKICAgICAgICAgIHRoaXMucmFuZG9tX2lkID0gbWFrZWlkKDEwKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyYW5kb21JZCIsIHRoaXMucmFuZG9tX2lkKTsKICAgICAgICAgIHRoaXMucXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJjYXJ0Iikud2hlcmUoInVpZCIsICI9PSIsIHVpZCkud2hlcmUoInN1YnNjcmlwdGlvbiIsICI9PSIsIHRoaXMuc2lkKTsKCiAgICAgIH0KCiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgdGhpcy5xdWVyeS5nZXQoKTsKICAgICAgY29uc3QgY291bnQgPSBzbmFwc2hvdC5zaXplOwogICAgICBjb25zb2xlLmxvZyhjb3VudCk7CgogICAgICBpZihjb3VudCA8PSAwKXsKCiAgICAgICAgdGhpcy5jYXJ0ID0gdHJ1ZTsKCiAgICAgICAgdmFyICBkYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpOwoKICAgICAgICBkYi5jb2xsZWN0aW9uKCJjYXJ0IikKICAgICAgICAuYWRkKHsgCiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy5zaWQsCiAgICAgICAgICAgIHVpZDogdWlkLAogICAgICAgICAgICByYW5kb21faWQ6IHRoaXMucmFuZG9tX2lkLAogICAgICAgICAgICBjcmVhdGVkOiBkYXRlLAogICAgICAgICAgICBtb2RpZmllZDogZGF0ZSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChkb2MpID0+IHsKCiAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oImNvbXBhbmllcyIpLmRvYyhkb2MuaWQpLnVwZGF0ZSh7IGNpZDogZG9jLmlkIH0pOwoKICAgICAgICAgICAgdGhpcy4kdG9hc3RlZC5zdWNjZXNzKCdTdWNjZXNzLCBBZGRlZCBTdWNjZXNzZnVsbHkhJywgewogICAgICAgICAgICAgICAgaWNvbiA6ICdjaGVjaycsCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY2FydCcpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciB3cml0aW5nIGRvY3VtZW50OiAiLCBlcnJvcik7CiAgICAgICAgfSk7IAoKICAgICAgICAKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy4kdG9hc3RlZC5lcnJvcignU3VjY2VzcywgQWxyZWFkeSBBZGRlZCEnLCB7CiAgICAgICAgICBpY29uIDogJ2NoZWNrJywKICAgICAgfSkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jYXJ0Jyk7CiAgICAgIH0KICAgICAgCiAgICB9LAoKICAgIGZldGNoSXRlbXMoKQogICAgewovL2NvbnNvbGUubG9nKCdqamonKTsKLy9jb25zb2xlLmxvZyh0aGlzLnNsdWcpOwovL2RiLmNvbGxlY3Rpb24oImNvdW50cmllcyIpCi8vLndoZXJlKCJzdWJzY3JpcHRpb24iLCAiPT0iLCBpZCkKLy8uZ2V0KCkKLy8udGhlbigocmVzcCkgPT4gewogLy8gY29uc29sZS5sb2cocmVzcCk7CgoKICAgICAgZGIuY29sbGVjdGlvbigic3Vic2NyaXB0aW9ucyIpCiAgICAgIC5nZXQoKQogICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4gewogICAgICAgIC8vY29uc29sZS5sb2coJ2hoaGgnKTsKICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4gewoKICAgICAgICAgLy8gY29uc29sZS5sb2coZG9jLmlkLCAiID0+ICIsIGRvYy5kYXRhKCkpOwogICAgICAgICAgCiAgICAgICAgICAgICAgdmFyIGRpc2NvdW50UHJpY2UgPSBkb2MuZGF0YSgpLnByaWNlIC0gZG9jLmRhdGEoKS5wcmljZSAqIGRvYy5kYXRhKCkuZGlzY291bnQvMTAwOwogICAgICAgICAgICAgIHZhciB2YXQgPSBkaXNjb3VudFByaWNlICsgZGlzY291bnRQcmljZSAqIGRvYy5kYXRhKCkudmF0LzEwMDsKCiAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGRvYy5pZCwKICAgICAgICAgICAgICAgIHRpdGxlOiBkb2MuZGF0YSgpLnRpdGxlLAogICAgICAgICAgICAgICAgdGFnX2xpbmU6IGRvYy5kYXRhKCkudGFnX2xpbmUsCiAgICAgICAgICAgICAgICB0YWdzOiBkb2MuZGF0YSgpLnRhZywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkb2MuZGF0YSgpLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgaW1hZ2U6IGRvYy5kYXRhKCkuaW1hZ2UsCiAgICAgICAgICAgICAgICBwcmljZTogZG9jLmRhdGEoKS5wcmljZSwKICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkb2MuZGF0YSgpLmRpc2NvdW50LAogICAgICAgICAgICAgICAgZGlzY291bnRQcmljZTogZGlzY291bnRQcmljZSwKICAgICAgICAgICAgICAgIHZhdDogdmF0LAogICAgICAgICAgICAgICAgY3JlYXRlZDogZG9jLmRhdGEoKS5jcmVhdGVkLAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgIAoKICAgICAgICB9KTsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBnZXR0aW5nIGRvY3VtZW50czogIiwgZXJyb3IpOwogICAgICB9KTsKCiAgLy8gIH0pOwoKICAgIGRiLmNvbGxlY3Rpb24oImNvbXBvbmVudHMiKS5kb2MoJ25sWGNIWXpWa3FEYVdHSmdpeGpGJykKICAgIC5nZXQoKQogICAgLnRoZW4oKGRvYykgPT4gewogICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoaGhoNzcnKTsKICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb2MuaWQsICIgPT4gIiwgZG9jLmRhdGEoKSk7CiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cyA9IGRvYy5kYXRhKCk7CiAgICB9KQogICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBnZXR0aW5nIGRvY3VtZW50czogIiwgZXJyb3IpOwogICAgfSk7CgoKICAgIH0KICB9Cn0KICAK"},{"version":3,"sources":["Subscription.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA","file":"Subscription.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n<!-- Main Start -->\n<section id=\"entProductSection\" class=\"service-section bg-default-4 pt-15 pb-13 py-lg-20 home_products\">\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-12 text-center\">\n                <h2 class=\"sec-title gr-text-4 mb-10\">\n                {{ components.title }}\n                </h2>\n              </div>\n            </div>\n            <div class=\"row justify-content-center position-relative gr-z-index-1\">\n\n              <div class=\"col-md-4\" v-for=\"subscription in subscriptions\" :key=\"subscription.id\">\n                                  <div class=\"product_details\">\n                           <router-link :to=\"{ path: '/subscriptions/'+ subscription.id}\" onclick=\"showLoader()\" class=\"d-block\" tabindex=\"0\"></router-link>\n                          <div class=\"top-content\">\n                          <router-link :to=\"{ path: '/subscriptions/'+ subscription.id}\" onclick=\"showLoader()\" class=\"d-block\" tabindex=\"0\">\n                              <div class=\"product_img\">\n                                <img data-src=\"https://etsitecdn.theentertainerme.com/gallery/product2021/DXB+Classic-Product+d.png\" alt=\"Dubai Classic 2021\" class=\"img-fluid lazyloaded\" :src=\"subscription.image\">\n                              </div>\n                              </router-link>\n                            <router-link :to=\"{ path: '/subscriptions/'+ subscription.id}\" tabindex=\"0\">\n                              <div class=\"product_details_inner d-flex flex-column justify-content-center\">\n                                <h2 class=\"product_name m-0\">{{ subscription.title }}</h2><small class=\"short_desc\">{{ subscription.tag_line }}</small>\n                                <div class=\"product_price\">\n                                  <div class=\"tag-wrap\">\n                                    <span class=\"badge_transparent d-inline-flex align-items-center justify-content-center\">\n                                      Special Offer</span>\n                                  </div>\n                                  <span class=\"strike\"><span class=\"before_price\">AED {{ subscription.price }}</span></span>\n                                  <span class=\"percentage_off ml-1\"> {{ subscription.discount }} % Off </span>\n                                  <h3 class=\"after_price\">\n                                    AED {{ subscription.discountPrice }}\n                                    \n                                    <span class=\"vat_info\">*AED {{ subscription.vat }} including VAT</span>\n                                  </h3>\n                                </div>\n                              </div>\n                              </router-link>\n                           <!-- <div data-type=\"product\" data-amount=\"25725\" data-currency=\"AED\" data-num-instalments=\"3\" class=\"postpay-widget\">\n                              <div class=\"postpay-product-widget-container postpay-locale-en light\">\n                                <div class=\"postpay-product-widget-text\">\n                                  Or 3 interest-free instalments every month of\n                                  <div class=\"postpay-product-price-wrapper\">\n                                    <span class=\"postpay-pay-later-item-currency\">AED</span>\n                                    <span class=\"postpay-product-price\"> 85.75 </span>\n                                  </div>\n                                  with\n                                  <a href=\"https://postpay.io\" target=\"_blank\" class=\"postpay-brand postpay-link\">postpay\n                                    <svg width=\"10\" height=\"10\" enable-background=\"new 0 0 27.964 27.964\" viewBox=\"0 0 27.964 27.964\" xmlns=\"http://www.w3.org/2000/svg\">\n                                      <path d=\"m13.982.001c-7.723 0-13.982 6.258-13.982 13.983 0 7.721 6.259 13.98 13.982 13.98 7.722 0 13.982-6.26 13.982-13.98.001-7.725-6.26-13.983-13.982-13.983zm0 26.532c-6.933 0-12.551-5.619-12.551-12.549 0-6.935 5.618-12.552 12.551-12.552 6.931 0 12.55 5.617 12.55 12.552 0 6.93-5.619 12.549-12.55 12.549z\"></path>\n                                      <path d=\"m12.004 10.551h3.931v12.649h-3.931z\"></path>\n                                      <path d=\"m13.995 5.072c-1.265 0-2.095.852-2.095 1.963 0 1.087.802 1.964 2.044 1.964 1.317 0 2.119-.877 2.119-1.964-.026-1.111-.801-1.963-2.068-1.963z\"></path>\n                                    </svg>\n                                  </a>\n                                </div>\n                              </div>\n                            </div>\n                            <p class=\"become-member prospect-user\">\n                              Get Cheers, Body, Fitness &amp; Adrenaline for an extra\n                              <span class=\"inline-link\">AED 95</span>\n                            </p>-->\n                          </div>\n                          <div class=\"bottom-content\">\n                            <div class=\"d-flex\">\n                              \n                              <ul class=\"product_features list-unstyled d-flex flex-wrap flex-column p-0\">\n                                <li  v-for=\"tag in subscription.tags\" :key=\"tag.value\">\n                                  <span class=\"text d-block\">{{ tag.value }}</span>\n                                </li>\n                              </ul>\n                            </div>\n                            <button type=\"submit\" v-on:click=\"submit(subscription.id)\" class=\"btn btn-primary subscribe_btn btn-with-link\">Buy Now</button>\n                           \n                            <div class=\"btn_bottom\">\n                            <router-link :to=\"{ path: '/subscriptions/'+ subscription.id}\" class=\"d-inline-block\" tabindex=\"0\">Tell me more</router-link>\n                            </div>\n                          </div>\n                        </div>\n              </div>\n\n\n        \n            </div>\n          </div>\n          <div tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" class=\"modal fade upsellmodal\">\n            <div role=\"document\" class=\"modal-dialog modal-dialog-centered\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header modal-header-top p-0\">\n                  <button type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"close\">\n                    <span aria-hidden=\"true\">×</span>\n                  </button>\n                </div>\n                <!---->\n              </div>\n            </div>\n          </div>\n          <div tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" class=\"modal fade genericModalConsent separateProduct\">\n            <div role=\"document\" class=\"modal-dialog modal-dialog-centered\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header modal-header-top p-0\">\n                  <button type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"close\">\n                    <span aria-hidden=\"true\">×</span>\n                  </button>\n                </div>\n                <div class=\"modal-body text-center\">\n                  <p>\n                    You already have products in your basket. Do you wish to remove\n                    these and start a new order?\n                  </p>\n                  <div class=\"d-flex\">\n                    <!---->\n                    <a href=\"&amp;cartRefresh=1\" class=\"btn cheersCntBtn subscribe_btn\">Yes</a>\n                    <a href=\"javascript:void(0);\" data-dismiss=\"modal\" class=\"btn cheersCntBtn subscribe_btn\">No</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <button data-toggle=\"modal\" data-target=\".upsellmodal\" data-keyboard=\"false\" data-backdrop=\"static\" class=\"tempUpsellBtn\" style=\"display: none\"></button>\n          <button data-toggle=\"modal\" data-target=\".separateProduct\" data-keyboard=\"false\" data-backdrop=\"static\" class=\"tempSeparateBtn\" style=\"display: none\"></button>\n    </section>\n\n<!-- Main End -->\n</template>\n\n\n<script>\n\nimport { db } from '../../main'\n    \nexport default {\n  components:{\n   \n},\ndata(){\n    return{\n        subscriptions: [],\n        category: '',\n        components:{},\n        sid:'',\n        cart: false,\n        random_id:\"\",\n        slug:\"\",\n    }\n  },\n\n  created: function()\n  {\n      this.fetchItems();\n  },\n   watch: {\n      // Watch for route changes\n      $route(route) {\n        // Change the value of the selected option\n        this.slug = route.params.slug;\n        //console.log('yoo22');\n        //console.log(this.slug);\n      },\n    },\n\n  methods: {\n\n    async submit(sid) {\n\n      var uid = localStorage.getItem(\"userSessionId\");\n      var randomId = localStorage.getItem(\"randomId\");\n\n      this.sid = sid;\n      \n      function makeid(length) {\n        var result           = [];\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n        var charactersLength = characters.length;\n        for ( var i = 0; i < length; i++ ) {\n          result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\n        }\n        return result.join('');\n      }\n      \n      if(uid == null && randomId == null){\n\n          console.log('no both ');\n\n          this.random_id = makeid(10);\n          localStorage.setItem(\"randomId\", this.random_id);\n          this.query = db.collection(\"cart\").where(\"random_id\", \"==\", this.random_id).where(\"subscription\", \"==\", this.sid);\n\n      } else if(uid == null && randomId != null){\n\n          console.log('no uid ');\n\n          this.random_id = randomId;\n          this.query = db.collection(\"cart\").where(\"random_id\", \"==\", this.random_id).where(\"subscription\", \"==\", this.sid);\n\n      } else if(uid != null && randomId != null){\n      \n          console.log(' both ');\n\n          this.random_id = randomId;\n          this.query = db.collection(\"cart\").where(\"uid\", \"==\", uid).where(\"subscription\", \"==\", this.sid);\n        \n      }else{\n\n          console.log('no randid ');\n\n          this.random_id = makeid(10);\n          localStorage.setItem(\"randomId\", this.random_id);\n          this.query = db.collection(\"cart\").where(\"uid\", \"==\", uid).where(\"subscription\", \"==\", this.sid);\n\n      }\n\n      const snapshot = await this.query.get();\n      const count = snapshot.size;\n      console.log(count);\n\n      if(count <= 0){\n\n        this.cart = true;\n\n        var  date = new Date().toLocaleString();\n\n        db.collection(\"cart\")\n        .add({ \n            subscription: this.sid,\n            uid: uid,\n            random_id: this.random_id,\n            created: date,\n            modified: date,\n        })\n        .then((doc) => {\n\n            db.collection(\"companies\").doc(doc.id).update({ cid: doc.id });\n\n            this.$toasted.success('Success, Added Successfully!', {\n                icon : 'check',\n            })\n            this.$router.push('/cart');\n        })\n        .catch((error) => {\n            console.error(\"Error writing document: \", error);\n        }); \n\n        \n      }else{\n        this.$toasted.error('Success, Already Added!', {\n          icon : 'check',\n      })\n      this.$router.push('/cart');\n      }\n      \n    },\n\n    fetchItems()\n    {\n//console.log('jjj');\n//console.log(this.slug);\n//db.collection(\"countries\")\n//.where(\"subscription\", \"==\", id)\n//.get()\n//.then((resp) => {\n // console.log(resp);\n\n\n      db.collection(\"subscriptions\")\n      .get()\n      .then((querySnapshot) => {\n        //console.log('hhhh');\n        querySnapshot.forEach((doc) => {\n\n         // console.log(doc.id, \" => \", doc.data());\n          \n              var discountPrice = doc.data().price - doc.data().price * doc.data().discount/100;\n              var vat = discountPrice + discountPrice * doc.data().vat/100;\n\n              this.subscriptions.push({\n                id: doc.id,\n                title: doc.data().title,\n                tag_line: doc.data().tag_line,\n                tags: doc.data().tag,\n                description: doc.data().description,\n                image: doc.data().image,\n                price: doc.data().price,\n                discount: doc.data().discount,\n                discountPrice: discountPrice,\n                vat: vat,\n                created: doc.data().created,\n              });\n\n          \n\n        });\n      })\n      .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n      });\n\n  //  });\n\n    db.collection(\"components\").doc('nlXcHYzVkqDaWGJgixjF')\n    .get()\n    .then((doc) => {\n           // console.log('hhhh77');\n           // console.log(doc.id, \" => \", doc.data());\n            this.components = doc.data();\n    })\n    .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n    });\n\n\n    }\n  }\n}\n  \n</script>\n\n\n"]}]}
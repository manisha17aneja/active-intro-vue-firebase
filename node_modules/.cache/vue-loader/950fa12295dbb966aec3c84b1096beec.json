{"remainingRequest":"/var/www/html/firebase-auth/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/firebase-auth/src/components/companies/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/firebase-auth/src/components/companies/Edit.vue","mtime":1618402201918},{"path":"/var/www/html/firebase-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/firebase-auth/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/firebase-auth/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/firebase-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/firebase-auth/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgSGVhZGVyIGZyb20gJy4vLi4vYWRtaW4taGVhZGVyJzsKaW1wb3J0IEZvb3RlciBmcm9tICcuLy4uL2FkbWluLWZvb3Rlcic7CmltcG9ydCBTaWRlYmFyIGZyb20gJy4vLi4vYWRtaW4tc2lkZWJhcic7CgppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uL21haW4nCgpleHBvcnQgZGVmYXVsdHsKICAgICBuYW1lOiAnRWRpdCcsCiAgICAgICAgZGF0YSgpewogICAgICAgICAgICByZXR1cm57CiAgICAgICAgICAgICAgICBpdGVtOnt9LAogICAgICAgICAgICAgICAgcHJldmlld0ltYWdlOicnLAogICAgICAgICAgICAgICAgcHJldmlld0JhY2tncm91bmRJbWFnZTonJywKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29tcG9uZW50czp7CiAgICAgICAgICAgICdIZWFkZXInOkhlYWRlciwKICAgICAgICAgICAgJ1NpZGViYXInOlNpZGViYXIsCiAgICAgICAgICAgICdGb290ZXInOkZvb3RlciwKICAgICAgICAKICAgICAgICB9LAoKICAgICAgICBjcmVhdGVkOiBmdW5jdGlvbigpewogICAgICAgICAgICB0aGlzLmdldEl0ZW0oKTsKICAgICAgICB9LAoKICAgICAgICBtZXRob2RzOiB7CgogICAgICAgICAgICB1cGxvYWRJbWFnZShlKXsKICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2UpOwogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aWV3SW1hZ2UgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RkJyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgdXBsb2FkQmFja2dyb3VuZEltYWdlKGUpewogICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZSk7CiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZSA9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpZXdCYWNrZ3JvdW5kSW1hZ2UgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RkJyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9LAogICAgICAgICAgICBnZXRJdGVtKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwoKICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ2NvbXBhbmllcycpLmRvYyhpZCkuZ2V0KCkudGhlbigoZG9jKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG9jLmRhdGEoKSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpZXdJbWFnZSA9IGRvYy5kYXRhKCkuaW1hZ2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aWV3QmFja2dyb3VuZEltYWdlID0gZG9jLmRhdGEoKS5iYWNrZ3JvdW5kX2ltYWdlOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIHN1Ym1pdCgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgIHZhciAgZGF0ZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKTsvLy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTsKCiAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJjb21wYW5pZXMiKQogICAgICAgICAgICAgICAgLmRvYyhpZCkKICAgICAgICAgICAgICAgIC51cGRhdGUoewogICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLml0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgYWJvdXQ6IHRoaXMuaXRlbS5hYm91dCwKICAgICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMucHJldmlld0ltYWdlLAogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kX2ltYWdlOiB0aGlzLnByZXZpZXdCYWNrZ3JvdW5kSW1hZ2UsCiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLml0ZW0ubG9jYXRpb24sCiAgICAgICAgICAgICAgICAgIGNvdW50cnk6IHRoaXMuaXRlbS5jb3VudHJ5LAogICAgICAgICAgICAgICAgICBwb3N0Y29kZTogdGhpcy5pdGVtLnBvc3Rjb2RlLAogICAgICAgICAgICAgICAgICBwaG9uZV9ubzogdGhpcy5pdGVtLnBob25lX25vLAogICAgICAgICAgICAgICAgICB3ZWJzaXRlOiB0aGlzLml0ZW0ud2Vic2l0ZSwKICAgICAgICAgICAgICAgICAgbWV0YV90aXRsZTogdGhpcy5pdGVtLm1ldGFfdGl0bGUsCiAgICAgICAgICAgICAgICAgIG1ldGFfZGVzY3JpcHRpb246IHRoaXMuaXRlbS5tZXRhX2Rlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICBtZXRhX2tleXdvcmRzOiB0aGlzLml0ZW0ubWV0YV9rZXl3b3JkcywKICAgICAgICAgICAgICAgICAgbW9kaWZpZWQ6IGRhdGUsCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRG9jdW1lbnQgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhIik7CiAgICAgICAgICAgICAgICAgIC8vdGhpcy5yZWFkRW1wbG95ZWVzKCk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuc3VjY2VzcygnU3VjY2VzcywgVXBkYXRlZCBTdWNjZXNzZnVsbHkhJywgewogICAgICAgICAgICAgICAgICAgIGljb24gOiAnY2hlY2snLAogICAgICAgICAgICAgICAgICAgICAvL2ljb24gOiAnZXJyb3Jfb3V0bGluZScKICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY29tcGFuaWVzL2luZGV4Jyk7CiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAvLyBUaGUgZG9jdW1lbnQgcHJvYmFibHkgZG9lc24ndCBleGlzdC4KICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgdXBkYXRpbmcgZG9jdW1lbnQ6ICIsIGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/components/companies","sourcesContent":["<template>\n\n\n \n<body>\n\n\n<div id=\"main-wrapper\" data-layout=\"vertical\" data-navbarbg=\"skin5\" data-sidebartype=\"full\"\n    data-sidebar-position=\"absolute\" data-header-position=\"absolute\" data-boxed-layout=\"full\">\n\n    <Header></Header>\n\n\n\n    <Sidebar></Sidebar>\n\n    <div class=\"page-wrapper\">\n            <div class=\"page-breadcrumb\">\n                <div class=\"row align-items-center\">\n                    <div class=\"col-lg-3 col-md-4 col-sm-4 col-xs-12\">\n                        <h4 class=\"page-title\">Edit Company</h4>\n                    </div>\n                </div>\n            </div>\n                        <div class=\"container-fluid\">\n                <div class=\"row\">\n             \n                    <div class=\"col-lg-12 col-xlg-9 col-md-12\">\n                        \n                        <form class=\"form-horizontal form-material\" v-on:submit.prevent=\"submit\">\n                            <div class=\"card profile-card\">\n                                <div class=\"card-body\">\n            \n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Name</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"name\" v-model=\"item.name\"/>\n                                        </div>\n                                    </div>\n\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">About</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <textarea  name=\"about\" v-model=\"item.about\" class=\"form-control form-control-lg\" rows=\"5\"></textarea>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Image (Logo)</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                        <img v-bind:src=\"previewImage\" class=\"uploading-image\" />\n                                        <input type=\"file\" accept=\"image/jpeg\" @change=uploadImage>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Background Image</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                        <img v-bind:src=\"previewBackgroundImage\" class=\"uploading-image\" />\n                                        <input type=\"file\" accept=\"image/jpeg\" @change=uploadBackgroundImage>\n                                        </div>\n                                    </div>\n\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Location</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"location\" v-model=\"item.location\"/>\n                                        </div>\n                                    </div>\n\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Country</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"country\" v-model=\"item.country\"/>\n                                        </div>\n                                    </div>\n\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Postcode</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"postcode\" v-model=\"item.postcode\"/>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Phone No</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"phone_no\" v-model=\"item.phone_no\"/>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Website</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"website\" v-model=\"item.website\"/>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </div>\n\n                            <div class=\"card profile-card\">\n                                <div class=\"card-body\">\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Meta Title</label>\n                                        <div class=\"col-md-12 border-bottom  p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"\" v-model=\"item.meta_title\"/>\n                                        </div>\n                                    </div>\n\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Meta Description</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <textarea  name=\"meta_description\" v-model=\"item.meta_description\" class=\"form-control form-control-lg\" rows=\"5\"></textarea>\n                                        </div>\n                                    </div>\n\n\n                                    <div class=\"form-group mb-4\">\n                                        <label class=\"col-md-12 p-0\">Meta Keywords</label>\n                                        <div class=\"col-md-12 border-bottom p-0\">\n                                            <input type=\"text\" class=\"form-control\" name=\"meta_keywords\" v-model=\"item.meta_keywords\"/>\n                                        </div>\n                                    </div>\n\n                                    <br>\n                                    <div class=\"form-group mb-4\">\n                                        <div class=\"col-sm-12\">\n                                        <input type=\"submit\" class=\"btn btn-primary\" value=\"Submit\"/>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </div>\n                        </form>  \n                    </div>\n                </div>\n            </div>\n           \n        </div>\n    \n    <Footer></Footer>\n\n</div>\n\n\n\n\n\n</body>\n\n\n</template>\n\n\n\n\n\n\n\n<script>\n\nimport Header from './../admin-header';\nimport Footer from './../admin-footer';\nimport Sidebar from './../admin-sidebar';\n\nimport { db } from '../../main'\n\nexport default{\n     name: 'Edit',\n        data(){\n            return{\n                item:{},\n                previewImage:'',\n                previewBackgroundImage:'',\n            }\n        },\n        components:{\n            'Header':Header,\n            'Sidebar':Sidebar,\n            'Footer':Footer,\n        \n        },\n\n        created: function(){\n            this.getItem();\n        },\n\n        methods: {\n\n            uploadImage(e){\n                const image = e.target.files[0];\n                const reader = new FileReader();\n                reader.readAsDataURL(image);\n                reader.onload = e =>{\n                    this.previewImage = e.target.result;\n                    console.log('dd');\n                };\n            },\n\n            uploadBackgroundImage(e){\n                const image = e.target.files[0];\n                const reader = new FileReader();\n                reader.readAsDataURL(image);\n                reader.onload = e =>{\n                    this.previewBackgroundImage = e.target.result;\n                    console.log('dd');\n                };\n            },\n            getItem()\n            {\n                var id = this.$route.params.id;\n\n                db.collection('companies').doc(id).get().then((doc) => {\n                    console.log(doc.data());\n                    this.item = doc.data();\n                    this.previewImage = doc.data().image;\n                    this.previewBackgroundImage = doc.data().background_image;\n                })\n            },\n\n            submit()\n            {\n                var id = this.$route.params.id;\n                var  date = new Date().toLocaleString();//.toISOString().slice(0, 10);\n\n                db.collection(\"companies\")\n                .doc(id)\n                .update({\n                  name: this.item.name,\n                  about: this.item.about,\n                  image: this.previewImage,\n                  background_image: this.previewBackgroundImage,\n                  location: this.item.location,\n                  country: this.item.country,\n                  postcode: this.item.postcode,\n                  phone_no: this.item.phone_no,\n                  website: this.item.website,\n                  meta_title: this.item.meta_title,\n                  meta_description: this.item.meta_description,\n                  meta_keywords: this.item.meta_keywords,\n                  modified: date,\n                })\n                .then(() => {\n                  console.log(\"Document successfully updated!\");\n                  //this.readEmployees();\n                  this.$toasted.success('Success, Updated Successfully!', {\n                    icon : 'check',\n                     //icon : 'error_outline'\n                 })\n                 this.$router.push('/companies/index');\n                 \n                })\n                .catch((error) => {\n                  // The document probably doesn't exist.\n                  console.error(\"Error updating document: \", error);\n                });\n            }\n        }\n    }\n</script>"]}]}
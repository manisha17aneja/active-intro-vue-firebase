{"remainingRequest":"/var/www/html/aa/active-intro_5july/active-intro/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/aa/active-intro_5july/active-intro/src/components/Signin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/aa/active-intro_5july/active-intro/src/components/Signin.vue","mtime":1625468554000},{"path":"/var/www/html/aa/active-intro_5july/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/aa/active-intro_5july/active-intro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/aa/active-intro_5july/active-intro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/aa/active-intro_5july/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/aa/active-intro_5july/active-intro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgcmVxdWlyZWQsCiAgZW1haWwsCiAgbWluTGVuZ3RoLAogIG1heExlbmd0aCwKfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBWdWVBeGlvcyBmcm9tICJ2dWUtYXhpb3MiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uL21haW4iOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgZXJyb3I6ICIiLAogICAgfTsKICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICBlbWFpbDogeyByZXF1aXJlZCwgZW1haWwgfSwKICAgIHBhc3N3b3JkOiB7IHJlcXVpcmVkLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCg2KSwgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMTgpIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0aW9uU3RhdHVzOiBmdW5jdGlvbih2YWxpZGF0aW9uKSB7CiAgICAgIHJldHVybiB0eXBlb2YgdmFsaWRhdGlvbiAhPSAidW5kZWZpbmVkIiA/IHZhbGlkYXRpb24uJGVycm9yIDogZmFsc2U7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy4kdi4kdG91Y2goKTsKICAgICAgaWYgKHRoaXMuJHYuJHBlbmRkaW5nIHx8IHRoaXMuJHYuJGVycm9yKSByZXR1cm47CgogICAgICBmaXJlYmFzZQogICAgICAgIC5hdXRoKCkKICAgICAgICAuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQodGhpcy5lbWFpbCwgdGhpcy5wYXNzd29yZCkKICAgICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coImdnZyIpOwogICAgICAgICAgLy90aGlzLiRyb3V0ZXIucmVwbGFjZSh7IG5hbWU6ICJEYXNoYm9hcmQiIH0pOwoKICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YS51c2VyLnVpZCk7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdnZ2cnKTsKICAgICAgICAgIC8vdmFyIGlkICA9ICJzT0ZrdFpiVndDemU3bnpHaU9layI7CgogICAgICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKQogICAgICAgICAgICAud2hlcmUoInVzZXJfaWQiLCAiPT0iLCBkYXRhLnVzZXIudWlkKQogICAgICAgICAgICAuZ2V0KCkKICAgICAgICAgICAgLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHsKICAgICAgICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG9jLmlkLCAiID0+ICIsIGRvYy5kYXRhKCkpOwoKICAgICAgICAgICAgICAgIGlmIChkb2MuZGF0YSgpLnN0YXR1cyA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgbmFtZTogIkRhc2hib2FyZCIgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZmZmZiIpOwogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IG5hbWU6ICJ1c2VyUHJvZmlsZSIgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJTZXNzaW9uSWQiLCBkb2MuaWQpOwoKICAgICAgICAgICAgICAgIC8vY2FydCBzdGFydAogICAgICAgICAgICAgICAgdmFyIHVpZCA9IGRvYy5pZDsKICAgICAgICAgICAgICAgIHZhciByYW5kb21JZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJyYW5kb21JZCIpOwoKICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tX2lkID0gcmFuZG9tSWQ7CiAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJjYXJ0IikKICAgICAgICAgICAgICAgICAgLndoZXJlKCJyYW5kb21faWQiLCAiPT0iLCB0aGlzLnJhbmRvbV9pZCkKICAgICAgICAgICAgICAgICAgLmdldCgpCiAgICAgICAgICAgICAgICAgIC50aGVuKChxdWVyeVNuYXBzaG90KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uKGRvYykgewogICAgICAgICAgICAgICAgICAgICAgLy8gZG9jLmRhdGEoKSBpcyBuZXZlciB1bmRlZmluZWQgZm9yIHF1ZXJ5IGRvYyBzbmFwc2hvdHMKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvYy5pZCwgIiA9PiAiLCBkb2MuZGF0YSgpKTsKCiAgICAgICAgICAgICAgICAgICAgICAvL2RiLmNvbGxlY3Rpb24oImNhcnQiKS5kb2MoZG9jLmlkKS51ZHBhdGUoeyB1aWQ6IHVpZCB9KTsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVpZCk7CgogICAgICAgICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigiY2FydCIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5kb2MoZG9jLmlkKQogICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEb2N1bWVudCBzdWNjZXNzZnVsbHkgdXBkYXRlZCEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkb2N1bWVudCBwcm9iYWJseSBkb2Vzbid0IGV4aXN0LgogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIHVwZGF0aW5nIGRvY3VtZW50OiAiLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvL2NhcnQgZW5kCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZ2V0dGluZyBkb2N1bWVudHM6ICIsIGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgICAgdGhpcy5lcnJvciA9IGVyci5tZXNzYWdlOwogICAgICAgIH0pOwoKICAgICAgLyoKICAgICAgICAgICAgICAgIFZ1ZS5heGlvcy5nZXQoJ2h0dHA6Ly9kdW1teS5yZXN0YXBpZXhhbXBsZS5jb20vYXBpL3YxL2VtcGxveWVlcycpLnRoZW4oKHJlc3ApPT57CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKHJlc3AuZGF0YS5kYXRhKQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdkYXNoYm9hcmQnKTsKCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyCiAgICAgICAgICAgICAgICAqLwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Signin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <body>\n    <!-- <div class=\"frames\">\n            <img src=\"./../assets/front/image/mobile_frame2.png\" class=\"bottom_frame\">\n            <img src=\"./../assets/front/image/mobile_frame4.png\">\n        </div>-->\n\n    <div class=\"frame\">\n      <div class=\"site-wrapper overflow-hidden\">\n        <section class=\"user_login h-100\">\n          <div class=\"row no-gutters align-items-center h-100\">\n            <div class=\"col-xl-4 offset-xl-7 col-lg-6 offset-lg-6 col-md-12\">\n              <h1>Sign in</h1>\n              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n              <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n              <form id=\"signin-form\" v-on:submit.prevent=\"submit\">\n                <div class=\"form-group\">\n                  <label>Username or email</label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    name=\"email\"\n                    v-model.trim=\"$v.email.$model\"\n                    :class=\"{ 'is-invalid': validationStatus($v.email) }\"\n                    class=\"form-control\"\n                  />\n                  <div v-if=\"!$v.email.required\" class=\"invalid-feedback\">\n                    The email field is required.\n                  </div>\n                  <div v-if=\"!$v.email.email\" class=\"invalid-feedback\">\n                    The email is not valid.\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <label\n                    >Password\n                    <a href=\"#\" class=\"float-right\">Forgot Password?</a></label\n                  >\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    v-model.trim=\"$v.password.$model\"\n                    :class=\"{ 'is-invalid': validationStatus($v.password) }\"\n                    class=\"form-control\"\n                  />\n                  <div v-if=\"!$v.password.required\" class=\"invalid-feedback\">\n                    The password field is required.\n                  </div>\n                  <div v-if=\"!$v.password.minLength\" class=\"invalid-feedback\">\n                    You must have at least\n                    {{ $v.password.$params.minLength.min }} letters.\n                  </div>\n                  <div v-if=\"!$v.password.maxLength\" class=\"invalid-feedback\">\n                    You must not have greater then\n                    {{ $v.password.$params.maxLength.min }} letters.\n                  </div>\n                </div>\n                <p class=\"text-right\"></p>\n                <p class=\"text-center mt-4\">\n                  <button class=\"btn btn-primary\">Sign in</button>\n                </p>\n                <p class=\"text-center\">\n                  Not have an account?\n                  <router-link to=\"/signup\">Create Account </router-link>\n                  <br /><br />\n                  <router-link to=\"/\">Back to Home</router-link>\n                </p>\n              </form>\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  </body>\n</template>\n\n<script>\nexport default {};\n</script>\n\n<script>\nimport {\n  required,\n  email,\n  minLength,\n  maxLength,\n} from \"vuelidate/lib/validators\";\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport VueAxios from \"vue-axios\";\nimport firebase from \"firebase\";\nimport { db } from \"../main\";\n\nexport default {\n  name: \"Login\",\n  data: function() {\n    return {\n      email: \"\",\n      password: \"\",\n      error: \"\",\n    };\n  },\n  validations: {\n    email: { required, email },\n    password: { required, minLength: minLength(6), maxLength: maxLength(18) },\n  },\n  methods: {\n    validationStatus: function(validation) {\n      return typeof validation != \"undefined\" ? validation.$error : false;\n    },\n    submit: function() {\n      this.$v.$touch();\n      if (this.$v.$pendding || this.$v.$error) return;\n\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(this.email, this.password)\n        .then((data) => {\n          console.log(\"ggg\");\n          //this.$router.replace({ name: \"Dashboard\" });\n\n          //console.log(data.user.uid);\n          //console.log('ggg');\n          //var id  = \"sOFktZbVwCze7nzGiOek\";\n\n          db.collection(\"users\")\n            .where(\"user_id\", \"==\", data.user.uid)\n            .get()\n            .then((querySnapshot) => {\n              querySnapshot.forEach((doc) => {\n                console.log(doc.id, \" => \", doc.data());\n\n                if (doc.data().status == 1) {\n                  this.$router.replace({ name: \"Dashboard\" });\n                } else {\n                  console.log(\"ffff\");\n                  this.$router.replace({ name: \"userProfile\" });\n                }\n\n                localStorage.setItem(\"userSessionId\", doc.id);\n\n                //cart start\n                var uid = doc.id;\n                var randomId = localStorage.getItem(\"randomId\");\n\n                this.random_id = randomId;\n                db.collection(\"cart\")\n                  .where(\"random_id\", \"==\", this.random_id)\n                  .get()\n                  .then((querySnapshot) => {\n                    querySnapshot.forEach(function(doc) {\n                      // doc.data() is never undefined for query doc snapshots\n                      console.log(doc.id, \" => \", doc.data());\n\n                      //db.collection(\"cart\").doc(doc.id).udpate({ uid: uid });\n                      console.log(uid);\n\n                      db.collection(\"cart\")\n                        .doc(doc.id)\n                        .update({\n                          uid: uid,\n                        })\n                        .then(() => {\n                          console.log(\"Document successfully updated!\");\n                        })\n                        .catch((error) => {\n                          // The document probably doesn't exist.\n                          console.error(\"Error updating document: \", error);\n                        });\n                    });\n                  });\n\n                //cart end\n              });\n            })\n            .catch((error) => {\n              console.log(\"Error getting documents: \", error);\n            });\n        })\n        .catch((err) => {\n          console.log(err.message);\n          this.error = err.message;\n        });\n\n      /*\n                Vue.axios.get('http://dummy.restapiexample.com/api/v1/employees').then((resp)=>{\n                    console.warn(resp.data.data)\n                    this.$router.push('dashboard');\n\n                })\n                this.$router\n                */\n    },\n  },\n};\n</script>\n\n<style scoped>\n.user_login {\n  height: 86vh;\n}\n.user_login h1 {\n  font-size: 30px;\n  margin-bottom: 20px;\n}\n.user_login form {\n  margin-top: 50px;\n}\n.user_login .form-control {\n  background: #f2f4f5 !important;\n  height: 40px;\n  border-color: #f2f4f5;\n}\n.user_login .form-control:focus {\n  color: #495057;\n  background-color: #fff;\n  border-color: #dadcdc;\n  outline: 0;\n}\n.user_login label {\n  display: block;\n}\n.user_login .row.h-100 {\n  position: relative;\n}\n.user_login .row.h-100:before {\n  background: url(./../assets/front/image/sign_in.jpg);\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: absolute;\n  content: \"\";\n  width: 50%;\n  height: 100%;\n}\n.frames {\n  position: absolute;\n  height: 100vh;\n}\n.frames .bottom_frame {\n  position: absolute;\n  bottom: 0;\n}\n.user_login .row.h-100 .col-xl-4 {\n  background: #fff;\n  padding: 25px;\n  border-radius: 5px;\n  overflow-y: auto;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.user_login .row.h-100 .col-xl-4::-webkit-scrollbar,\n.frame:before,\n.frame:after {\n  display: none;\n}\n.site-wrapper {\n  height: 100vh;\n  border: none;\n  border-radius: 0;\n}\nbody {\n  background: #fff;\n}\n.user_login {\n  margin-top: 0;\n}\n\n@media only screen and (max-width: 992px) {\n  .frames,\n  .user_login .row.h-100:before {\n    display: none;\n  }\n  .user_login {\n    height: 100vh;\n    margin-top: 0;\n  }\n  .user_login > .row {\n    background: none;\n    padding: 0px 15px;\n  }\n}\n@media only screen and (max-height: 600px) {\n  .user_login .row.h-100 .col-xl-4 {\n    justify-content: flex-start;\n  }\n}\n</style>\n"]}]}
{"remainingRequest":"/var/www/html/firebase-auth/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/firebase-auth/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/firebase-auth/src/App.vue","mtime":1617692268689},{"path":"/var/www/html/firebase-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/firebase-auth/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/firebase-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/firebase-auth/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICIuL2ZpcmViYXNlQ29uZmlnIjsKY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYW1lOiAiIiwKICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSwKICAgICAgZW1wbG95ZWVzRGF0YTogW10sCiAgICAgIHNlYXJjaDogIiIsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlRW1wbG95ZWUobmFtZSwgZGF0ZSkgewogICAgICBpZiAobmFtZSAhPSAiIikgewogICAgICAgIGRiLmNvbGxlY3Rpb24oImVtcGxveWVlcyIpCiAgICAgICAgICAuYWRkKHsgZGF0ZTogZGF0ZSwgbmFtZTogbmFtZSB9KQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygiRG9jdW1lbnQgc3VjY2Vzc2Z1bGx5IHdyaXR0ZW4hIik7CiAgICAgICAgICAgIHRoaXMucmVhZEVtcGxveWVlcygpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3Igd3JpdGluZyBkb2N1bWVudDogIiwgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgdGhpcy5uYW1lID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICByZWFkRW1wbG95ZWVzKCkgewogICAgICB0aGlzLmVtcGxveWVlc0RhdGEgPSBbXTsKICAgICAgZGIuY29sbGVjdGlvbigiZW1wbG95ZWVzIikKICAgICAgICAuZ2V0KCkKICAgICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4gewogICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICAgICAgdGhpcy5lbXBsb3llZXNEYXRhLnB1c2goewogICAgICAgICAgICAgIGlkOiBkb2MuaWQsCiAgICAgICAgICAgICAgbmFtZTogZG9jLmRhdGEoKS5uYW1lLAogICAgICAgICAgICAgIGRhdGU6IGRvYy5kYXRhKCkuZGF0ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvYy5pZCwgIiA9PiAiLCBkb2MuZGF0YSgpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGdldHRpbmcgZG9jdW1lbnRzOiAiLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRW1wbG95ZWUoaWQsIG5hbWUsIGRhdGUpIHsKICAgICAgZGIuY29sbGVjdGlvbigiZW1wbG95ZWVzIikKICAgICAgICAuZG9jKGlkKQogICAgICAgIC51cGRhdGUoewogICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgIGRhdGU6IGRhdGUsCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRG9jdW1lbnQgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhIik7CiAgICAgICAgICB0aGlzLnJlYWRFbXBsb3llZXMoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIC8vIFRoZSBkb2N1bWVudCBwcm9iYWJseSBkb2Vzbid0IGV4aXN0LgogICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgdXBkYXRpbmcgZG9jdW1lbnQ6ICIsIGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVFbXBsb3llZShpZCkgewogICAgICBkYi5jb2xsZWN0aW9uKCJlbXBsb3llZXMiKQogICAgICAgIC5kb2MoaWQpCiAgICAgICAgLmRlbGV0ZSgpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIkRvY3VtZW50IHN1Y2Nlc3NmdWxseSBkZWxldGVkISIpOwogICAgICAgICAgdGhpcy5yZWFkRW1wbG95ZWVzKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciByZW1vdmluZyBkb2N1bWVudDogIiwgZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJlYWRFbXBsb3llZXMoKTsKICB9LAp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<!-- src/App.vue -->\n<template>\n  <div>\n    <el-popover\n      placement=\"bottom\"\n      title=\"New Employee\"\n      width=\"200\"\n      trigger=\"click\"\n    >\n      <el-input\n        placeholder=\"John Doe\"\n        v-model=\"name\"\n        @blur=\"createEmployee(name, date)\"\n      ></el-input>\n      <el-button round slot=\"reference\" type=\"success\"\n        >Add New Employee</el-button\n      >\n    </el-popover>\n    <el-table\n      :data=\"\n        employeesData.filter(\n          (data) =>\n            !search || data.name.toLowerCase().includes(search.toLowerCase())\n        )\n      \"\n      style=\"width: 100%;\"\n    >\n      <el-table-column label=\"Date\" prop=\"date\"> </el-table-column>\n      <el-table-column label=\"Name\" prop=\"name\"> </el-table-column>\n      <el-table-column align=\"right\">\n        <template slot=\"header\" :slot-scope=\"scope\">\n          <el-input v-model=\"search\" size=\"mini\" placeholder=\"Type to search\" />\n        </template>\n        <template slot-scope=\"scope\">\n          <el-popover\n            placement=\"bottom\"\n            title=\"Edit Employee\"\n            width=\"200\"\n            trigger=\"click\"\n          >\n            <el-input\n              placeholder=\"John Doe\"\n              v-model=\"scope.row.name\"\n              @blur=\"updateEmployee(scope.row.id, scope.row.name, date)\"\n            ></el-input>\n            <el-button size=\"mini\" slot=\"reference\">Edit</el-button>\n          </el-popover>\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"deleteEmployee(scope.row.id)\"\n            >Delete</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<!-- src/App.vue -->\n<script>\nimport firebase from \"./firebaseConfig\";\nconst db = firebase.firestore();\nexport default {\n  data() {\n    return {\n      name: \"\",\n      date: new Date().toISOString().slice(0, 10),\n      employeesData: [],\n      search: \"\",\n    };\n  },\n  methods: {\n    createEmployee(name, date) {\n      if (name != \"\") {\n        db.collection(\"employees\")\n          .add({ date: date, name: name })\n          .then(() => {\n            console.log(\"Document successfully written!\");\n            this.readEmployees();\n          })\n          .catch((error) => {\n            console.error(\"Error writing document: \", error);\n          });\n        this.name = \"\";\n      }\n    },\n    readEmployees() {\n      this.employeesData = [];\n      db.collection(\"employees\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n            this.employeesData.push({\n              id: doc.id,\n              name: doc.data().name,\n              date: doc.data().date,\n            });\n            console.log(doc.id, \" => \", doc.data());\n          });\n        })\n        .catch((error) => {\n          console.log(\"Error getting documents: \", error);\n        });\n    },\n    updateEmployee(id, name, date) {\n      db.collection(\"employees\")\n        .doc(id)\n        .update({\n          name: name,\n          date: date,\n        })\n        .then(() => {\n          console.log(\"Document successfully updated!\");\n          this.readEmployees();\n        })\n        .catch((error) => {\n          // The document probably doesn't exist.\n          console.error(\"Error updating document: \", error);\n        });\n    },\n    deleteEmployee(id) {\n      db.collection(\"employees\")\n        .doc(id)\n        .delete()\n        .then(() => {\n          console.log(\"Document successfully deleted!\");\n          this.readEmployees();\n        })\n        .catch((error) => {\n          console.error(\"Error removing document: \", error);\n        });\n    },\n  },\n  mounted() {\n    this.readEmployees();\n  },\n};\n</script>"]}]}
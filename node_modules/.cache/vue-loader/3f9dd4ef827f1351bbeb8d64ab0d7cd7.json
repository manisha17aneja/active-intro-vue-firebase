{"remainingRequest":"/var/www/html/active-intro/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/active-intro/src/components/Signin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/active-intro/src/components/Signin.vue","mtime":1619178817435},{"path":"/var/www/html/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCwgbWluTGVuZ3RoLCBtYXhMZW5ndGggfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnCmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCBWdWVBeGlvcyBmcm9tICd2dWUtYXhpb3MnCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZSI7CmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vbWFpbicKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBkYXRhOiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlbWFpbDogJycsIAogICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICAgIGVycm9yOiAnJwogICAgICAgIH0KICAgIH0sIAogICAgdmFsaWRhdGlvbnM6IHsKICAgICAgICBlbWFpbDoge3JlcXVpcmVkLCBlbWFpbH0sCiAgICAgICAgcGFzc3dvcmQ6IHtyZXF1aXJlZCwgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNiksIG1heExlbmd0aDogbWF4TGVuZ3RoKDE4KX0KICAgIH0sCiAgICBtZXRob2RzOiB7CgogICAgICAgIHZhbGlkYXRpb25TdGF0dXM6IGZ1bmN0aW9uKHZhbGlkYXRpb24pIHsKICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWxpZGF0aW9uICE9ICJ1bmRlZmluZWQiID8gdmFsaWRhdGlvbi4kZXJyb3IgOiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oKSB7CgogICAgICAgICAgICB0aGlzLiR2LiR0b3VjaCgpOwogICAgICAgICAgICBpZiAodGhpcy4kdi4kcGVuZGRpbmcgfHwgdGhpcy4kdi4kZXJyb3IpIHJldHVybjsKCiAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQodGhpcy5lbWFpbCwgdGhpcy5wYXNzd29yZCkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZ2cnKTsKICAgICAgICAgICAgICAgICAgICAvL3RoaXMuJHJvdXRlci5yZXBsYWNlKHsgbmFtZTogIkRhc2hib2FyZCIgfSk7CgogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YS51c2VyLnVpZCk7CiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZ2dnJyk7CiAgICAgICAgICAgICAgICAgICAgLy92YXIgaWQgID0gInNPRmt0WmJWd0N6ZTduekdpT2VrIjsKCiAgICAgICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS53aGVyZSgidXNlcl9pZCIsICI9PSIsIGRhdGEudXNlci51aWQpCiAgICAgICAgICAgICAgICAgICAgLmdldCgpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG9jLmlkLCAiID0+ICIsIGRvYy5kYXRhKCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvYy5kYXRhKCkuc3RhdHVzID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgbmFtZTogIkRhc2hib2FyZCIgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmZmZicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgbmFtZTogInVzZXJQcm9maWxlIiB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlclNlc3Npb25JZCIsIGRvYy5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZ2V0dGluZyBkb2N1bWVudHM6ICIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVyci5tZXNzYWdlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgICAgICAgIC8qCiAgICAgICAgICAgICAgICBWdWUuYXhpb3MuZ2V0KCdodHRwOi8vZHVtbXkucmVzdGFwaWV4YW1wbGUuY29tL2FwaS92MS9lbXBsb3llZXMnKS50aGVuKChyZXNwKT0+ewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihyZXNwLmRhdGEuZGF0YSkKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnZGFzaGJvYXJkJyk7CgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlcgogICAgICAgICAgICAgICAgKi8KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Signin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<body>\n    \n        \n       <!-- <div class=\"frames\">\n            <img src=\"./../assets/front/image/mobile_frame2.png\" class=\"bottom_frame\">\n            <img src=\"./../assets/front/image/mobile_frame4.png\">\n        </div>-->\n    \n     <div class=\"frame\">\n  <div class=\"site-wrapper overflow-hidden\">\n   \n    <section class=\"user_login h-100\">\n    <div class=\"row no-gutters align-items-center h-100\">\n    <div class=\"col-xl-4 offset-xl-7 col-lg-6 offset-lg-6 col-md-12\">\n        <h1>Sign in</h1>\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n        <div v-if=\"error\" class=\"alert alert-danger\">{{error}}</div>\n        <form id=\"signin-form\" v-on:submit.prevent=\"submit\">\n            <div class=\"form-group\">\n            <label>Username or email</label>\n                <input id=\"email\" type=\"email\"  name=\"email\" v-model.trim=\"$v.email.$model\" :class=\"{'is-invalid': validationStatus($v.email)}\" class=\"form-control\">\n                <div v-if=\"!$v.email.required\" class=\"invalid-feedback\">The email field is required.</div>\n                <div v-if=\"!$v.email.email\" class=\"invalid-feedback\">The email is not valid.</div>\n            </div>\n            <div class=\"form-group\">\n            <label>Password <a href=\"#\" class=\"float-right\">Forgot Password?</a></label>\n                <input type=\"password\"  name=\"password\" v-model.trim=\"$v.password.$model\" :class=\"{'is-invalid': validationStatus($v.password)}\" class=\"form-control\">\n                <div v-if=\"!$v.password.required\" class=\"invalid-feedback\">The password field is required.</div>\n                <div v-if=\"!$v.password.minLength\" class=\"invalid-feedback\">You must have at least {{ $v.password.$params.minLength.min }} letters.</div>\n                <div v-if=\"!$v.password.maxLength\" class=\"invalid-feedback\">You must not have greater then {{ $v.password.$params.maxLength.min }} letters.</div>\n            </div>\n            <p class=\"text-right\"></p>\n            <p class=\"text-center mt-4\"><button class=\"btn btn-primary\">Sign in</button></p>\n            <p class=\"text-center\">Not have an account?   <router-link to=\"/signup\">Create Account </router-link></p>\n        </form>\n    </div>\n    </div>\n    </section>\n    \n    </div>\n    </div>\n    \n\n</body>\n\n</template>\n\n<script>\n  export default {\n      \n  }\n</script>\n\n\n<script>\nimport { required, email, minLength, maxLength } from 'vuelidate/lib/validators'\nimport Vue from 'vue'\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\nimport firebase from \"firebase\";\nimport { db } from '../main'\n\nexport default {\n    name: 'Login',\n    data: function() {\n        return {\n            email: '', \n            password: '',\n            error: ''\n        }\n    }, \n    validations: {\n        email: {required, email},\n        password: {required, minLength: minLength(6), maxLength: maxLength(18)}\n    },\n    methods: {\n\n        validationStatus: function(validation) {\n            return typeof validation != \"undefined\" ? validation.$error : false;\n        },\n        submit: function() {\n\n            this.$v.$touch();\n            if (this.$v.$pendding || this.$v.$error) return;\n\n                firebase.auth().signInWithEmailAndPassword(this.email, this.password)\n                .then(data => {\n                    console.log('ggg');\n                    //this.$router.replace({ name: \"Dashboard\" });\n\n                    //console.log(data.user.uid);\n                    //console.log('ggg');\n                    //var id  = \"sOFktZbVwCze7nzGiOek\";\n\n                    db.collection(\"users\").where(\"user_id\", \"==\", data.user.uid)\n                    .get()\n                    .then((querySnapshot) => {\n\n                        querySnapshot.forEach((doc) => {\n                           \n                            console.log(doc.id, \" => \", doc.data());\n\n                            if(doc.data().status == 1){\n                                this.$router.replace({ name: \"Dashboard\" });\n                            }else{\n                                console.log('ffff');\n                                this.$router.replace({ name: \"userProfile\" });\n                            }\n\n                            localStorage.setItem(\"userSessionId\", doc.id);\n                        });\n                    })\n                    .catch((error) => {\n                        console.log(\"Error getting documents: \", error);\n                    });\n                    \n                })\n                .catch(err => {\n                    console.log(err.message);\n                    this.error = err.message;\n                });\n          \n                /*\n                Vue.axios.get('http://dummy.restapiexample.com/api/v1/employees').then((resp)=>{\n                    console.warn(resp.data.data)\n                    this.$router.push('dashboard');\n\n                })\n                this.$router\n                */\n        }\n    }\n}\n</script>\n\n<style scoped>\n  \n  .user_login {\n      height: 86vh;\n  }\n  .user_login h1 {\n      font-size: 30px;\n      margin-bottom: 20px;\n  }\n  .user_login form {\n      margin-top: 50px;\n  }\n  .user_login .form-control {\n      background: #f2f4f5 !IMPORTANT;\n      height: 40px;\n      border-color: #f2f4f5;\n  }\n  .user_login .form-control:focus {\n      color: #495057;\n      background-color: #fff;\n      border-color: #dadcdc;\n      outline: 0;\n  }\n  .user_login label {\n      display: block;\n  }\n  .user_login .row.h-100 {\n      position: relative;\n  }\n  .user_login .row.h-100:before {\n      background: url(./../assets/front/image/sign_in.jpg);\n      background-size: cover;\n      background-repeat: no-repeat;\n      position: absolute;\n      content: \"\";\n      width: 50%;\n      height: 100%;\n  }\n  .frames {\n      position: absolute;\n      height: 100vh;\n  }\n  .frames .bottom_frame {\n      position: absolute;\n      bottom: 0;\n  }\n  .user_login .row.h-100 .col-xl-4 {\n      background: #fff;\n      padding: 25px;\n      border-radius: 5px;\n      overflow-y: auto;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n  }\n  .user_login .row.h-100 .col-xl-4::-webkit-scrollbar, .frame:before, .frame:after {\n      display: none;\n  }\n  .site-wrapper {\n      height: 100vh;\n      border: none;\n      border-radius: 0;\n  }\n  body {\n      background: #fff;\n  }\n  .user_login{\n      margin-top:0;\n  }\n  \n  @media only screen and (max-width: 992px){\n  .frames, .user_login .row.h-100:before {\n      display: none;\n  }\n  .user_login {\n      height: 100vh;\n      margin-top: 0;\n  }\n  .user_login > .row {\n      background: none;\n      padding: 0px 15px;\n  }\n  }\n  @media only screen and (max-height: 600px){\n  .user_login .row.h-100 .col-xl-4 {\n      justify-content: flex-start;\n  }\n  }\n</style>\n\n\n"]}]}
{"remainingRequest":"/var/www/html/active-intro/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/active-intro/src/components/items/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/active-intro/src/components/items/Edit.vue","mtime":1618814305664},{"path":"/var/www/html/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IHsgcmVxdWlyZWQsIG1pbkxlbmd0aCwgbWF4TGVuZ3RoIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQgVnVlQXhpb3MgZnJvbSAndnVlLWF4aW9zJwppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uL21haW4nCgpWdWUudXNlKFZ1ZUF4aW9zLGF4aW9zKQoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0VkaXQnLAogICAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmFtZTogJycsIAogICAgICAgICAgICBwcmljZTogJycKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZDogZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLmdldEl0ZW0oKTsKICAgIH0sIAogICAgdmFsaWRhdGlvbnM6IHsKICAgICAgICBuYW1lOiB7cmVxdWlyZWR9LAogICAgICAgIHByaWNlOiB7cmVxdWlyZWQsIG1pbkxlbmd0aDogbWluTGVuZ3RoKDMpLCBtYXhMZW5ndGg6IG1heExlbmd0aCg4KX0KICAgIH0sCgogICAgbWV0aG9kczogewoKICAgICAgICB2YWxpZGF0aW9uU3RhdHVzOiBmdW5jdGlvbih2YWxpZGF0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsaWRhdGlvbiAhPSAidW5kZWZpbmVkIiA/IHZhbGlkYXRpb24uJGVycm9yIDogZmFsc2U7CiAgICAgICAgfSwKCiAgICAgICAgZ2V0SXRlbSgpCiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAvKmxldCB1cmkgPSAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL2l0ZW1zL2VkaXQvJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KHVyaSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW0gPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSk7Ki8KCiAgICAgICAgICAgICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CgogICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbignaXRlbXMnKS5kb2MoaWQpLmdldCgpLnRoZW4oKGRvYykgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvYy5kYXRhKCkpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAoKICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKCkgewoKICAgICAgICAgICAgdGhpcy4kdi4kdG91Y2goKTsKICAgICAgICAgICAgaWYgKHRoaXMuJHYuJHBlbmRkaW5nIHx8IHRoaXMuJHYuJGVycm9yKSByZXR1cm47CgogICAgICAgICAgICBjb25zb2xlLmxvZygic3VjY2VzcyIpOwogICAgICAgICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkKTsKICAgICAgICAgICAgZGIuY29sbGVjdGlvbigiaXRlbXMiKQogICAgICAgICAgICAuZG9jKGlkKQogICAgICAgICAgICAudXBkYXRlKHsKICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICAgICAgcHJpY2U6IHRoaXMucHJpY2UsCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRG9jdW1lbnQgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhIik7CiAgICAgICAgICAgICAgLy90aGlzLnJlYWRFbXBsb3llZXMoKTsKICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLnN1Y2Nlc3MoJ1N1Y2Nlc3MsIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5IScsIHsKICAgICAgICAgICAgICAgIGljb24gOiAnY2hlY2snLAogICAgICAgICAgICAgICAgIC8vaWNvbiA6ICdlcnJvcl9vdXRsaW5lJwogICAgICAgICAgICAgfSkKICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaXRlbXMvaW5kZXgnKTsKICAgICAgICAgICAgIAogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgLy8gVGhlIGRvY3VtZW50IHByb2JhYmx5IGRvZXNuJ3QgZXhpc3QuCiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgdXBkYXRpbmcgZG9jdW1lbnQ6ICIsIGVycm9yKTsKICAgICAgICAgICAgfSk7CgoKICAgICAgICAgICAgLy90aGlzLiRyb3V0ZXIKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/components/items","sourcesContent":["// Edit.vue\n\n<template>\n  <div class=\"container\">\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <h3>Edit Item</h3>\n            </div>\n            <div class=\"card-body\">\n                <form v-on:submit.prevent=\"submit\">\n                    <div class=\"form-group\">\n                        <label>Item Name:</label>\n                        <input type=\"text\"  v-model.trim=\"$v.name.$model\" :class=\"{'is-invalid': validationStatus($v.price)}\" class=\"form-control form-control-lg\">\n                        <div v-if=\"!$v.name.required\" class=\"invalid-feedback\">The name field is required.</div>\n\n                    </div>\n                    <div class=\"form-group\">\n                        <label>Item Price:</label>\n                        <input type=\"text\" v-model.trim=\"$v.price.$model\" :class=\"{'is-invalid': validationStatus($v.price)}\" class=\"form-control form-control-lg\">\n                <div v-if=\"!$v.price.required\" class=\"invalid-feedback\">The price field is required.</div>\n                <div v-if=\"!$v.price.minLength\" class=\"invalid-feedback\">You must have at least {{ $v.price.$params.minLength.min }} letters.</div>\n                <div v-if=\"!$v.price.maxLength\" class=\"invalid-feedback\">You must not have greater then {{ $v.price.$params.maxLength.min }} letters.</div>\n            \n                    </div>\n                    <div class=\"form-group\">\n                        <input type=\"submit\" class=\"btn btn-primary\" value=\"Update Item\"/>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n\n<script>\n\n\nimport { required, minLength, maxLength } from 'vuelidate/lib/validators'\nimport Vue from 'vue'\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\nimport { db } from '../../main'\n\nVue.use(VueAxios,axios)\n\nexport default {\n    name: 'Edit',\n    data: function() {\n        return {\n            name: '', \n            price: ''\n        }\n    },\n    created: function(){\n        this.getItem();\n    }, \n    validations: {\n        name: {required},\n        price: {required, minLength: minLength(3), maxLength: maxLength(8)}\n    },\n\n    methods: {\n\n        validationStatus: function(validation) {\n            return typeof validation != \"undefined\" ? validation.$error : false;\n        },\n\n        getItem()\n            {\n\n                /*let uri = 'http://localhost:4000/items/edit/' + this.$route.params.id;\n                this.axios.get(uri).then((response) => {\n                    this.item = response.data;\n                });*/\n\n                var id = this.$route.params.id;\n\n                db.collection('items').doc(id).get().then((doc) => {\n                    console.log(doc.data());\n                    this.item = doc.data();\n                })\n            },\n\n        submit: function() {\n\n            this.$v.$touch();\n            if (this.$v.$pendding || this.$v.$error) return;\n\n            console.log(\"success\");\n            var id = this.$route.params.id;\n            console.log(id);\n            db.collection(\"items\")\n            .doc(id)\n            .update({\n              name: this.name,\n              price: this.price,\n            })\n            .then(() => {\n              console.log(\"Document successfully updated!\");\n              //this.readEmployees();\n              this.$toasted.success('Success, Updated Successfully!', {\n                icon : 'check',\n                 //icon : 'error_outline'\n             })\n             this.$router.push('/items/index');\n             \n            })\n            .catch((error) => {\n              // The document probably doesn't exist.\n              console.error(\"Error updating document: \", error);\n            });\n\n\n            //this.$router\n        }\n    }\n}\n</script>\n\n\n\n"]}]}
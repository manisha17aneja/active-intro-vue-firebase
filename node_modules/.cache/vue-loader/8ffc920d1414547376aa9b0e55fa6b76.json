{"remainingRequest":"/var/www/html/active-intro/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/active-intro/src/components/Subscription.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/active-intro/src/components/Subscription.vue","mtime":1623319090301},{"path":"/var/www/html/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/active-intro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/active-intro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAnLi9Gcm9udC1IZWFkZXInOwppbXBvcnQgRm9vdGVyIGZyb20gJy4vRnJvbnQtRm9vdGVyJzsKaW1wb3J0IExvYWRlciBmcm9tICcuL0xvYWRlcic7CmltcG9ydCBOZXdzbGV0dGVyIGZyb20gJy4vY29tbW9uL05ld3NsZXR0ZXInOwoKaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9tYWluJwoKCmV4cG9ydCBkZWZhdWx0IHsKICAgY29tcG9uZW50czp7CiAgICAnRnJvbnQtSGVhZGVyJzpIZWFkZXIsCiAgICAnRnJvbnQtRm9vdGVyJzpGb290ZXIsCiAgICAnTG9hZGVyJzpMb2FkZXIsCiAgICAnbmV3c2xldHRlcic6TmV3c2xldHRlciwKICB9LAoKICBkYXRhKCl7CiAgICAgIHJldHVybnsKICAgICAgICBpdGVtOnt9LAogICAgICAgIHJldmlld3M6W10sCiAgICAgICAgY29tcGFuaWVzOiBbXSwKICAgICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgICBiYWM6IFtdLAogICAgICAgIGlzQWN0aXZlOiB0cnVlLAogICAgICAgIGNvbXBhbnk6e30sCiAgICAgICAgcmV2aWV3Ont9LAogICAgICAgIHNpZDonJywKICAgICAgICBjYXJ0OiBmYWxzZSwKICAgICAgICByYW5kb21faWQ6IiIsCgogICAgICB9CiAgfSwKCiAgY3JlYXRlZDogZnVuY3Rpb24oKQogIHsKICAgICAgdGhpcy5nZXRTdWJzY3JpcHRpb24oKTsKICAgICAgdGhpcy5nZXRDb21wYW5pZXMoKTsKICAgICAgdGhpcy5nZXRDYXRlZ29yaWVzKCk7CiAgICAgIHRoaXMuZ2V0UmV2aWV3cygpOwogICAgICB0aGlzLmZldGNoQ29tcG9uZW50cygpOwogIH0sCgogCm1ldGhvZHM6IHsKICAKICAgIGFzeW5jIHN1Ym1pdCgpIHsKCiAgICAgICAgdmFyIHVpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyU2Vzc2lvbklkIik7CiAgICAgICAgdmFyIHJhbmRvbUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInJhbmRvbUlkIik7CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbWFrZWlkKGxlbmd0aCkgewogICAgICAgICAgdmFyIHJlc3VsdCAgICAgICAgICAgPSBbXTsKICAgICAgICAgIHZhciBjaGFyYWN0ZXJzICAgICAgID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSc7CiAgICAgICAgICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoOwogICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKysgKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpOwogICAgICAgIH0KICAgICAgICAKICAgICAgaWYodWlkID09IG51bGwgJiYgcmFuZG9tSWQgPT0gbnVsbCl7CgogICAgICAgIGNvbnNvbGUubG9nKCdubyBib3RoICcpOwoKICAgICAgICB0aGlzLnJhbmRvbV9pZCA9IG1ha2VpZCgxMCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInJhbmRvbUlkIiwgdGhpcy5yYW5kb21faWQpOwogICAgICAgIHRoaXMucXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJjYXJ0Iikud2hlcmUoInJhbmRvbV9pZCIsICI9PSIsIHRoaXMucmFuZG9tX2lkKS53aGVyZSgic3Vic2NyaXB0aW9uIiwgIj09IiwgdGhpcy5zaWQpOwogICAgICAKICAgICAgfSBlbHNlIGlmKHVpZCA9PSBudWxsICYmIHJhbmRvbUlkICE9IG51bGwpewoKICAgICAgICBjb25zb2xlLmxvZygnbm8gdWlkICcpOwoKICAgICAgICB0aGlzLnJhbmRvbV9pZCA9IHJhbmRvbUlkOwogICAgICAgIHRoaXMucXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJjYXJ0Iikud2hlcmUoInJhbmRvbV9pZCIsICI9PSIsIHRoaXMucmFuZG9tX2lkKS53aGVyZSgic3Vic2NyaXB0aW9uIiwgIj09IiwgdGhpcy5zaWQpOwoKICAgICAgfSBlbHNlIGlmKHVpZCAhPSBudWxsICYmIHJhbmRvbUlkICE9IG51bGwpewogICAgICAgIAogICAgICAgIGNvbnNvbGUubG9nKCcgYm90aCAnKTsKCiAgICAgICAgdGhpcy5yYW5kb21faWQgPSByYW5kb21JZDsKICAgICAgICB0aGlzLnF1ZXJ5ID0gZGIuY29sbGVjdGlvbigiY2FydCIpLndoZXJlKCJ1aWQiLCAiPT0iLCB1aWQpLndoZXJlKCJzdWJzY3JpcHRpb24iLCAiPT0iLCB0aGlzLnNpZCk7CiAgICAgICAgCiAgICAgIH1lbHNlewoKICAgICAgICBjb25zb2xlLmxvZygnbm8gcmFuZGlkICcpOwoKICAgICAgICB0aGlzLnJhbmRvbV9pZCA9IG1ha2VpZCgxMCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInJhbmRvbUlkIiwgdGhpcy5yYW5kb21faWQpOwogICAgICAgIHRoaXMucXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJjYXJ0Iikud2hlcmUoInVpZCIsICI9PSIsIHVpZCkud2hlcmUoInN1YnNjcmlwdGlvbiIsICI9PSIsIHRoaXMuc2lkKTsKICAgIAogICAgICB9CgogICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgdGhpcy5xdWVyeS5nZXQoKTsKICAgICAgICBjb25zdCBjb3VudCA9IHNuYXBzaG90LnNpemU7CiAgICAgICAgY29uc29sZS5sb2coY291bnQpOwoKICAgICAgICBpZihjb3VudCA8PSAwKXsKCiAgICAgICAgICB0aGlzLmNhcnQgPSB0cnVlOwoKICAgICAgICAgIHZhciAgZGF0ZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKTsKCiAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJjYXJ0IikKICAgICAgICAgIC5hZGQoeyAKICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuc2lkLAogICAgICAgICAgICAgLy8gYW1vdW50OnRoaXMudmF0LAogICAgICAgICAgICAgIHVpZDogdWlkLAogICAgICAgICAgICAgIHJhbmRvbV9pZDogdGhpcy5yYW5kb21faWQsCiAgICAgICAgICAgICAgY3JlYXRlZDogZGF0ZSwKICAgICAgICAgICAgICBtb2RpZmllZDogZGF0ZSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoZG9jKSA9PiB7CgogICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oImNvbXBhbmllcyIpLmRvYyhkb2MuaWQpLnVwZGF0ZSh7IGNpZDogZG9jLmlkIH0pOwoKICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLnN1Y2Nlc3MoJ1N1Y2Nlc3MsIEFkZGVkIFN1Y2Nlc3NmdWxseSEnLCB7CiAgICAgICAgICAgICAgICAgIGljb24gOiAnY2hlY2snLAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jYXJ0Jyk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIHdyaXRpbmcgZG9jdW1lbnQ6ICIsIGVycm9yKTsKICAgICAgICAgIH0pOyAKCiAgICAgICAgICAKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuZXJyb3IoJ1N1Y2Nlc3MsIEFscmVhZHkgQWRkZWQhJywgewogICAgICAgICAgICBpY29uIDogJ2NoZWNrJywKICAgICAgICB9KQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY2FydCcpOwogICAgICAgIH0KICAgICAgICAKICAgIH0sCiAgICBmZXRjaENvbXBvbmVudHMoKQogICAgewoKICAgICAgZGIuY29sbGVjdGlvbigiY29tcG9uZW50cyIpLmRvYygnSG4wYjdjbDA3WFlra0tkN0NoWTAnKQogICAgICAuZ2V0KCkKICAgICAgLnRoZW4oKGRvYykgPT4gewogICAgICAgICAgLy9jb25zb2xlLmxvZyhkb2MuaWQsICIgPT4gIiwgZG9jLmRhdGEoKSk7CiAgICAgICAgICAgICAgdGhpcy5jb21wYW55ID0gZG9jLmRhdGEoKTsKCiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZ2V0dGluZyBkb2N1bWVudHM6ICIsIGVycm9yKTsKICAgICAgfSk7CgoKICAgICAgZGIuY29sbGVjdGlvbigiY29tcG9uZW50cyIpLmRvYygnVmZoSFdxTmNtbzBNVU9hVDNjejUnKQogICAgICAuZ2V0KCkKICAgICAgLnRoZW4oKGRvYykgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZG9jLmlkLCAiID0+ICIsIGRvYy5kYXRhKCkpOwogICAgICAgICAgICAgIHRoaXMucmV2aWV3ID0gZG9jLmRhdGEoKTsKCiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZ2V0dGluZyBkb2N1bWVudHM6ICIsIGVycm9yKTsKICAgICAgfSk7CgoKICAgIH0sCgogICAgZ2V0QnlDYXRlZ29yeShjYXRlZ29yeSl7CgogICAgICB0aGlzLmlzQWN0aXZlID0gIXRoaXMuaXNBY3RpdmU7CgogICAgICB0aGlzLmNvbXBhbmllcyA9W107CiAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKCiAgICAgICAgZGIuY29sbGVjdGlvbigiY29tcGFuaWVzIikud2hlcmUoInN1YnNjcmlwdGlvbiIsICI9PSIsIGlkKS53aGVyZSgiY2F0ZWdvcnkiLCAiPT0iLCBjYXRlZ29yeSkKICAgICAgICAuZ2V0KCkKICAgICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4gewoKICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7CgogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRvYy5pZCwgIiA9PiAiLCBkb2MuZGF0YSgpKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ2NhdGVnb3JpZXMnKS5kb2MoY2F0ZWdvcnkpLmdldCgpLnRoZW4oKHJlcykgPT4gewoKICAgICAgICAgICAgICAgIC8vdGhpcy5jYXRlZ29yeSA9IHJlcy5kYXRhKCkubmFtZTsKICAgICAgICAgICAgICAgIC8vdmFyIGRpc2NvdW50UHJpY2UgPSBkb2MuZGF0YSgpLnByaWNlIC0gZG9jLmRhdGEoKS5wcmljZSAqIGRvYy5kYXRhKCkuZGlzY291bnQvMTAwOwogICAgICAgICAgICAgICAgLy92YXIgdmF0ID0gZGlzY291bnRQcmljZSArIGRpc2NvdW50UHJpY2UgKiBkb2MuZGF0YSgpLnZhdC8xMDA7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5kYXRhKCkubmFtZSk7CiAgICAgICAgICAgICAgICB0aGlzLmNvbXBhbmllcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGRvYy5pZCwKICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHJlcy5kYXRhKCkubmFtZSwKICAgICAgICAgICAgICAgICAgbmFtZTogZG9jLmRhdGEoKS5uYW1lLAogICAgICAgICAgICAgICAgICB0YWc6IGRvYy5kYXRhKCkudGFnLAogICAgICAgICAgICAgICAgICAvL2Rlc2NyaXB0aW9uOiBkb2MuZGF0YSgpLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICBpbWFnZTogZG9jLmRhdGEoKS5pbWFnZSwKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZF9pbWFnZTogZG9jLmRhdGEoKS5iYWNrZ3JvdW5kX2ltYWdlLAogICAgICAgICAgICAgICAgICAvL2Rpc2NvdW50OiBkb2MuZGF0YSgpLmRpc2NvdW50LAogICAgICAgICAgICAgICAgICAvL2Rpc2NvdW50UHJpY2U6IGRpc2NvdW50UHJpY2UsCiAgICAgICAgICAgICAgICAgIC8vdmF0OiB2YXQsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IGRvYy5kYXRhKCkuY3JlYXRlZCwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICB9KTsKICAgICAgICAgICAgCgogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZ2V0dGluZyBkb2N1bWVudHM6ICIsIGVycm9yKTsKICAgICAgICB9KTsKCiAgICB9LAoKCiAgICBnZXRDYXRlZ29yaWVzKCkKICAgIHsKCiAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICBkYi5jb2xsZWN0aW9uKCdzZWxlY3RlZF9jYXRlZ29yaWVzJykud2hlcmUoInN1YnNjcmlwdGlvbiIsICI9PSIsIGlkKQogICAgLmdldCgpCiAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4gewoKICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2NzKSA9PiB7CgogICAgICAgIGRiLmNvbGxlY3Rpb24oImNhdGVnb3JpZXMiKS5kb2MoZG9jcy5kYXRhKCkuY2F0ZWdvcnkpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oKGRvYykgPT4gewogICAgICAgICAKICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcy5wdXNoKHsKICAgICAgICAgICAgaWQ6IGRvYy5pZCwKICAgICAgICAgICAgbmFtZTogZG9jLmRhdGEoKS5uYW1lLAogICAgICAgICAgfSk7CiAgCiAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2F0ZWdvcmllcyk7CgogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGdldHRpbmcgZG9jdW1lbnRzOiAiLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgCiAgICB9LAoKICAgIGdldFN1YnNjcmlwdGlvbigpCiAgICB7CiAgICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwoKICAgICAgICBkYi5jb2xsZWN0aW9uKCdzdWJzY3JpcHRpb25zJykuZG9jKGlkKS5nZXQoKS50aGVuKChkb2MpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZG9jLmlkKTsKICAgICAgICAgICAgdGhpcy5zaWQgPSBkb2MuaWQ7CiAgICAgICAgICAgIHRoaXMuaXRlbSA9IGRvYy5kYXRhKCk7CgogICAgICAgICAgICB2YXIgZGlzY291bnRQcmljZSA9IGRvYy5kYXRhKCkucHJpY2UgLSBkb2MuZGF0YSgpLnByaWNlICogZG9jLmRhdGEoKS5kaXNjb3VudC8xMDA7CiAgICAgICAgICAgIHZhciB2YXQgPSBkaXNjb3VudFByaWNlICsgZGlzY291bnRQcmljZSAqIGRvYy5kYXRhKCkudmF0LzEwMDsKCiAgICAgICAgICAgIHRoaXMuaXRlbS5kaXNjb3VudFByaWNlICA9IGRpc2NvdW50UHJpY2U7CiAgICAgICAgICAgIHRoaXMuaXRlbS52YXQgPSB2YXQ7CgogICAgICAgICAgICB0aGlzLnByZXZpZXdJbWFnZSA9IGRvYy5kYXRhKCkuaW1hZ2U7CiAgICAgICAgfSkKICAgIH0sCgogICAgZ2V0UmV2aWV3cygpCiAgICB7CgogICAgICAgIGRiLmNvbGxlY3Rpb24oJ3Jldmlld3MnKS5nZXQoKQogICAgICAgIC50aGVuKChxdWVyeVNuYXBzaG90KSA9PiB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdoaGhoJyk7CiAgICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4gewogICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYy5kYXRhKCkpOwoKICAgICAgICAgICAgdGhpcy5yZXZpZXdzLnB1c2goewogICAgICAgICAgICAgIGlkOiBkb2MuaWQsCiAgICAgICAgICAgICAgcmV2aWV3OiBkb2MuZGF0YSgpLnJldmlldywKICAgICAgICAgICAgICBuYW1lOiBkb2MuZGF0YSgpLm5hbWUsCiAgICAgICAgICAgICAgaW1hZ2U6IGRvYy5kYXRhKCkuaW1hZ2UsCiAgICAgICAgICAgICAgZGVzaWduYXRpb246IGRvYy5kYXRhKCkuZGVzaWduYXRpb24sCiAgICAgICAgICAgICAgY3JlYXRlZDogZG9jLmRhdGEoKS5jcmVhdGVkLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgIH0sCgogICAgZ2V0Q29tcGFuaWVzKCkKICAgIHsKCiAgICAgIHRoaXMuY29tcGFuaWVzID1bXTsgCgogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CgogICAgICBkYi5jb2xsZWN0aW9uKCJjb21wYW5pZXMiKS53aGVyZSgic3Vic2NyaXB0aW9uIiwgIj09IiwgaWQpCiAgICAgIC5nZXQoKQogICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4gewogICAgICAgIC8vY29uc29sZS5sb2coJ2hoaGgnKTsKICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4gewoKICAgICAgICAgIC8vY29uc29sZS5sb2coZG9jLmlkLCAiID0+ICIsIGRvYy5kYXRhKCkpOwogICAgICAgICAgCiAgICAgICAgICBkYi5jb2xsZWN0aW9uKCdjYXRlZ29yaWVzJykuZG9jKGRvYy5kYXRhKCkuY2F0ZWdvcnkpLmdldCgpLnRoZW4oKHJlcykgPT4gewoKICAgICAgICAgICAgICAvL3RoaXMuY2F0ZWdvcnkgPSByZXMuZGF0YSgpLm5hbWU7CiAgICAgICAgICAgICAgLy92YXIgZGlzY291bnRQcmljZSA9IGRvYy5kYXRhKCkucHJpY2UgLSBkb2MuZGF0YSgpLnByaWNlICogZG9jLmRhdGEoKS5kaXNjb3VudC8xMDA7CiAgICAgICAgICAgICAgLy92YXIgdmF0ID0gZGlzY291bnRQcmljZSArIGRpc2NvdW50UHJpY2UgKiBkb2MuZGF0YSgpLnZhdC8xMDA7CiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMuZGF0YSgpLm5hbWUpOwoKICAgICAgICAgICAgICB0aGlzLmNvbXBhbmllcy5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQsCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogcmVzLmRhdGEoKS5uYW1lLAogICAgICAgICAgICAgICAgbmFtZTogZG9jLmRhdGEoKS5uYW1lLAogICAgICAgICAgICAgICAgdGFnOiBkb2MuZGF0YSgpLnRhZywKICAgICAgICAgICAgICAgIC8vZGVzY3JpcHRpb246IGRvYy5kYXRhKCkuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICBpbWFnZTogZG9jLmRhdGEoKS5pbWFnZSwKICAgICAgICAgICAgICAgIGJhY2tncm91bmRfaW1hZ2U6IGRvYy5kYXRhKCkuYmFja2dyb3VuZF9pbWFnZSwKICAgICAgICAgICAgICAgIC8vZGlzY291bnQ6IGRvYy5kYXRhKCkuZGlzY291bnQsCiAgICAgICAgICAgICAgICAvL2Rpc2NvdW50UHJpY2U6IGRpc2NvdW50UHJpY2UsCiAgICAgICAgICAgICAgICAvL3ZhdDogdmF0LAogICAgICAgICAgICAgICAgY3JlYXRlZDogZG9jLmRhdGEoKS5jcmVhdGVkLAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgIH0pOwogICAgICAgICAgCgogICAgICAgIH0pOwogICAgICB9KQogICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGdldHRpbmcgZG9jdW1lbnRzOiAiLCBlcnJvcik7CiAgICAgIH0pOwoKCiAgICB9CiAgICAgIAogIH0KfQo="},{"version":3,"sources":["Subscription.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA","file":"Subscription.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<body>\n<!-- preloader -->\n<Loader> </Loader>\n<!-- preloader -->\n    \n    \n     <div class=\"frame\">\n  <div class=\"site-wrapper overflow-hidden\">\n   \n  <Front-Header> </Front-Header>\n\n  <section class=\"single_hero height-half\">\n                <div class=\"container h-100\">\n                    <div class=\"row position-relative gr-z-index-1 align-items-start\">\n                        <div class=\"col-md-3\">\n                            <img :src=\"item.image\"/>\n                        </div>\n                        <div class=\"col-md-5\">\n                            <div class=\"heading\">\n                                <h1>{{ item.title }}</h1>\n                                <p>{{ item.description }}</p>\n                            </div>\n\n                            <ul class=\"offer_list mt-4\">\n                                <li v-for=\"tag in this.item.tag\" :key=\"tag.value\"><span class=\"offer_text\">{{ tag.value }}</span></li>\n                            </ul>\n                        </div>\n                        <div class=\"col-md-3 content_side\">\n                            <div class=\"info_box\">\n                                <span class=\"badge badge-primary\">Special Offer</span>\n                                <h3 class=\"price\"> <del>AED {{ item.price }}</del> {{ item.discount }} % Off</h3>\n                                <h1 class=\"mb-7\">AED {{ item.discountPrice }}</h1>\n                                <p>*AED {{ item.vat }} including VAT</p>\n           \n                                  <button type=\"submit\" v-on:click=\"submit\" class=\"btn btn-primary w-100\">Buy Now</button>\n                        \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\t\n\t<section class=\"package_includes\">\n\t<div class=\"container\">\n\t<div class=\"text-center\">\n\t<h2 class=\"mb-10\">{{ company.title }}</h2>\n\n  \n\t\n\t<ul class=\"nav nav-tabs\">\n\n  <li class=\"nav-item\">\n    <a class=\"nav-link active\" v-bind:class=\"[isActive ? 'true' : 'false']\" data-toggle=\"tab\" v-on:click=\"getCompanies()\">All</a>\n  </li>\n    \n  <li class=\"nav-item\" v-for=\"category in categories\" :key=\"category.id\">\n    <a class=\"nav-link\" v-bind:class=\"[isActive ? 'false' : 'true']\" data-toggle=\"tab\" v-on:click=\"getByCategory(category.id)\">{{ category.name }}</a>\n  </li>\n \n</ul>\n\n<!-- Tab panes -->\n<div class=\"tab-content\">\n  <div class=\"tab-pane container active\" id=\"all\">\n  \n  <div class=\"row\" v-if=\"!companies.length\">No results found</div>\n   <div class=\"row\" v-else>   \n  <div class=\"col-md-4 col-sm-6\" v-for=\"company in companies\" :key=\"company.id\">\n   <router-link :to=\"{ path: '/single-company/'+ company.id}\">\n  <div class=\"package\">\n \n  <div class=\"main_img\">\n\n\n  <img  v-if=\"company.background_image\" v-bind:src=\"company.background_image\" alt=\"tarun\">\n  <img  v-else src=\"./../assets/front/image/profile_img2.jpg\" alt=\"tarun\">\n  <h3>{{ company.name }}</h3>\n  <h5>{{ company.category }}</h5>\n\n\n  <img class=\"pakage-logo\" v-if=\"company.image\" v-bind:src=\"company.image\" alt=\"tarun\">\n  <img class=\"pakage-logo\" v-else src=\"./../assets/front/image/profile_img2.jpg\" alt=\"tarun\">\n  \n  </div>\n\n\n  <!--<p>Lorem ipsum dolor sit amet, consectet adipiscing elit. </p>-->\n   <!--<div class=\"get-code\">-->\n   <!--        <a href=\"#\" class=\"trigger get-code triggerable\" >Get code</a>-->\n   <!--        <div class=\"code-partial-hidden\">  -->\n   <!--        <span class=\"meta-field coupon \">-->\n   <!--              <span class=\"value\">SushiLovers12 -->\n   <!--                 <span class=\"units\"></span>-->\n   <!--              </span>-->\n   <!--         </span> -->\n   <!--         </div>-->\n   <!--    </div>-->\n   <!-- <div class=\"package-footer\">-->\n   <!--     <span>Valid till 24th Apr, 21</span>-->\n   <!-- </div>-->\n     <div class=\"package_content\">\n  <ul>\n  <li v-for=\"tag in company.tag\" :key=\"tag.value\"> {{ tag.value }}</li>\n  </ul>\n\n  </div>\n  </div>\n  </router-link>\n  </div>\n\n\n  </div>\n  </div>\n \n</div>\n\n\n\t</div>\n\t</div>\n\t</section>\n\t\n\t<section class=\"testimonials\">\n\t<div class=\"container\">\n\t<div class=\"text-center\">\n\t<h2 class=\"mb-15\">{{ review.title }}</h2>\n\t<div class=\"row align-items-center justify-content-around\">\n\n                          <div class=\"col-lg-4 col-md-6 col-sm-9 mb-16\" v-for=\"review in reviews\" :key=\"review.id\">\n                            <div class=\"single-testimonial text-center h-100 d-flex flex-column px-5\">\n                              <div class=\"brand-logo mb-9 mb-lg-13\">\n                                <img :src=\"review.image\" alt=\"\">\n                              </div>\n                              <p class=\"review-text mb-0 gr-text-6 font-weight-bold gr-text-color\">{{ review.review }}</p>\n                              <div class=\"user-block media pt-9 pt-lg-12 d-flex justify-content-center mt-auto\">\n                               \n                                  <!--<img class=\"w-100\" src=\"./../assets/front/image/l2/png/l2-testimonial1.png\" alt=\"\">-->\n                                \n                                <div class=\"user-text text-center align-self-center\">\n                                  <h4 class=\"user-title gr-text-9 mb-0\">{{ review.name }}</h4>\n                                  <span class=\"user-rank gr-text-11 gr-text-color-opacity\">{{ review.designation }}</span>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n                          \n                        </div>\n                      \n\t\t\t\t\t\t<!--<div class=\"row justify-content-center mb-15\">\n                          <div class=\"col-lg-7 text-center pt-10\">\n                            <div class=\"more-btn testimonial-btn\">\n                              <a href=\"#\" class=\"btn-link with-icon text-green\">Read more reviews<i class=\"icon icon-tail-right font-weight-bold\"></i></a>\n                            </div>\n                          </div>\n                        </div>-->\n\t</div>\n\t</div>\n\t</section>\n\t\n  <newsletter></newsletter>\n    <!-- Footer section -->\n    <Front-Footer> </Front-Footer>\n\n\n  </div>\n  </div>\n\n</body>\n</template>\n\n<script>\nimport Header from './Front-Header';\nimport Footer from './Front-Footer';\nimport Loader from './Loader';\nimport Newsletter from './common/Newsletter';\n\nimport { db } from '../main'\n\n\nexport default {\n   components:{\n    'Front-Header':Header,\n    'Front-Footer':Footer,\n    'Loader':Loader,\n    'newsletter':Newsletter,\n  },\n\n  data(){\n      return{\n        item:{},\n        reviews:[],\n        companies: [],\n        categories: [],\n        bac: [],\n        isActive: true,\n        company:{},\n        review:{},\n        sid:'',\n        cart: false,\n        random_id:\"\",\n\n      }\n  },\n\n  created: function()\n  {\n      this.getSubscription();\n      this.getCompanies();\n      this.getCategories();\n      this.getReviews();\n      this.fetchComponents();\n  },\n\n \nmethods: {\n  \n    async submit() {\n\n        var uid = localStorage.getItem(\"userSessionId\");\n        var randomId = localStorage.getItem(\"randomId\");\n        \n        function makeid(length) {\n          var result           = [];\n          var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n          var charactersLength = characters.length;\n          for ( var i = 0; i < length; i++ ) {\n            result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\n          }\n          return result.join('');\n        }\n        \n      if(uid == null && randomId == null){\n\n        console.log('no both ');\n\n        this.random_id = makeid(10);\n        localStorage.setItem(\"randomId\", this.random_id);\n        this.query = db.collection(\"cart\").where(\"random_id\", \"==\", this.random_id).where(\"subscription\", \"==\", this.sid);\n      \n      } else if(uid == null && randomId != null){\n\n        console.log('no uid ');\n\n        this.random_id = randomId;\n        this.query = db.collection(\"cart\").where(\"random_id\", \"==\", this.random_id).where(\"subscription\", \"==\", this.sid);\n\n      } else if(uid != null && randomId != null){\n        \n        console.log(' both ');\n\n        this.random_id = randomId;\n        this.query = db.collection(\"cart\").where(\"uid\", \"==\", uid).where(\"subscription\", \"==\", this.sid);\n        \n      }else{\n\n        console.log('no randid ');\n\n        this.random_id = makeid(10);\n        localStorage.setItem(\"randomId\", this.random_id);\n        this.query = db.collection(\"cart\").where(\"uid\", \"==\", uid).where(\"subscription\", \"==\", this.sid);\n    \n      }\n\n        const snapshot = await this.query.get();\n        const count = snapshot.size;\n        console.log(count);\n\n        if(count <= 0){\n\n          this.cart = true;\n\n          var  date = new Date().toLocaleString();\n\n          db.collection(\"cart\")\n          .add({ \n              subscription: this.sid,\n             // amount:this.vat,\n              uid: uid,\n              random_id: this.random_id,\n              created: date,\n              modified: date,\n          })\n          .then((doc) => {\n\n              db.collection(\"companies\").doc(doc.id).update({ cid: doc.id });\n\n              this.$toasted.success('Success, Added Successfully!', {\n                  icon : 'check',\n              })\n              this.$router.push('/cart');\n          })\n          .catch((error) => {\n              console.error(\"Error writing document: \", error);\n          }); \n\n          \n        }else{\n          this.$toasted.error('Success, Already Added!', {\n            icon : 'check',\n        })\n        this.$router.push('/cart');\n        }\n        \n    },\n    fetchComponents()\n    {\n\n      db.collection(\"components\").doc('Hn0b7cl07XYkkKd7ChY0')\n      .get()\n      .then((doc) => {\n          //console.log(doc.id, \" => \", doc.data());\n              this.company = doc.data();\n\n      })\n      .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n      });\n\n\n      db.collection(\"components\").doc('VfhHWqNcmo0MUOaT3cz5')\n      .get()\n      .then((doc) => {\n          console.log(doc.id, \" => \", doc.data());\n              this.review = doc.data();\n\n      })\n      .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n      });\n\n\n    },\n\n    getByCategory(category){\n\n      this.isActive = !this.isActive;\n\n      this.companies =[];\n      var id = this.$route.params.id;\n\n        db.collection(\"companies\").where(\"subscription\", \"==\", id).where(\"category\", \"==\", category)\n        .get()\n        .then((querySnapshot) => {\n\n          querySnapshot.forEach((doc) => {\n\n            //console.log(doc.id, \" => \", doc.data());\n            \n            db.collection('categories').doc(category).get().then((res) => {\n\n                //this.category = res.data().name;\n                //var discountPrice = doc.data().price - doc.data().price * doc.data().discount/100;\n                //var vat = discountPrice + discountPrice * doc.data().vat/100;\n                //console.log(res.data().name);\n                this.companies.push({\n                  id: doc.id,\n                  category: res.data().name,\n                  name: doc.data().name,\n                  tag: doc.data().tag,\n                  //description: doc.data().description,\n                  image: doc.data().image,\n                  background_image: doc.data().background_image,\n                  //discount: doc.data().discount,\n                  //discountPrice: discountPrice,\n                  //vat: vat,\n                  created: doc.data().created,\n                });\n\n           });\n            \n\n          });\n        })\n        .catch((error) => {\n          console.log(\"Error getting documents: \", error);\n        });\n\n    },\n\n\n    getCategories()\n    {\n\n    var id = this.$route.params.id;\n    db.collection('selected_categories').where(\"subscription\", \"==\", id)\n    .get()\n    .then((querySnapshot) => {\n\n      querySnapshot.forEach((docs) => {\n\n        db.collection(\"categories\").doc(docs.data().category)\n        .get()\n        .then((doc) => {\n         \n          this.categories.push({\n            id: doc.id,\n            name: doc.data().name,\n          });\n  \n         // console.log(this.categories);\n\n        })\n        .catch((error) => {\n          console.log(\"Error getting documents: \", error);\n        });\n      });\n    });\n  \n    },\n\n    getSubscription()\n    {\n        var id = this.$route.params.id;\n\n        db.collection('subscriptions').doc(id).get().then((doc) => {\n            console.log(doc.id);\n            this.sid = doc.id;\n            this.item = doc.data();\n\n            var discountPrice = doc.data().price - doc.data().price * doc.data().discount/100;\n            var vat = discountPrice + discountPrice * doc.data().vat/100;\n\n            this.item.discountPrice  = discountPrice;\n            this.item.vat = vat;\n\n            this.previewImage = doc.data().image;\n        })\n    },\n\n    getReviews()\n    {\n\n        db.collection('reviews').get()\n        .then((querySnapshot) => {\n          //console.log('hhhh');\n          querySnapshot.forEach((doc) => {\n           // console.log(doc.data());\n\n            this.reviews.push({\n              id: doc.id,\n              review: doc.data().review,\n              name: doc.data().name,\n              image: doc.data().image,\n              designation: doc.data().designation,\n              created: doc.data().created,\n            });\n          })\n        })\n    },\n\n    getCompanies()\n    {\n\n      this.companies =[]; \n\n      var id = this.$route.params.id;\n\n      db.collection(\"companies\").where(\"subscription\", \"==\", id)\n      .get()\n      .then((querySnapshot) => {\n        //console.log('hhhh');\n        querySnapshot.forEach((doc) => {\n\n          //console.log(doc.id, \" => \", doc.data());\n          \n          db.collection('categories').doc(doc.data().category).get().then((res) => {\n\n              //this.category = res.data().name;\n              //var discountPrice = doc.data().price - doc.data().price * doc.data().discount/100;\n              //var vat = discountPrice + discountPrice * doc.data().vat/100;\n              //console.log(res.data().name);\n\n              this.companies.push({\n                id: doc.id,\n                category: res.data().name,\n                name: doc.data().name,\n                tag: doc.data().tag,\n                //description: doc.data().description,\n                image: doc.data().image,\n                background_image: doc.data().background_image,\n                //discount: doc.data().discount,\n                //discountPrice: discountPrice,\n                //vat: vat,\n                created: doc.data().created,\n              });\n\n          });\n          \n\n        });\n      })\n      .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n      });\n\n\n    }\n      \n  }\n}\n</script>"]}]}